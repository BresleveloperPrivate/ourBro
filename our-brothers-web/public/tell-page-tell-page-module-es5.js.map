{"version":3,"sources":["webpack:///src/app/shared/components/places-select/places-select.component.ts","webpack:///src/app/shared/components/places-select/places-select.component.html","webpack:///src/app/shared/components/places-select/places-select.module.ts","webpack:///src/app/tell/bereaved-guidance-form/bereaved-guidance-form.component.ts","webpack:///src/app/tell/bereaved-guidance-form/bereaved-guidance-form.component.html","webpack:///src/app/tell/bereaved-intro/bereaved-intro.component.ts","webpack:///src/app/tell/bereaved-intro/bereaved-intro.component.html","webpack:///src/app/tell/bereaved-profile-form/bereaved-profile-form.component.ts","webpack:///src/app/tell/bereaved-profile-form/bereaved-profile-form.component.html","webpack:///src/app/tell/page/tell-page.component.ts","webpack:///src/app/tell/page/tell-page.component.html","webpack:///src/app/tell/page/tell-page.module.ts","webpack:///src/app/tell/slain-form/slain-form.component.ts","webpack:///src/app/tell/slain-form/slain-form.component.html","webpack:///src/app/tell/tell.module.ts"],"names":["PlacesSelectComponent","mapsAPILoader","formattedAddress","change","getPlaceAutocomplete","load","then","autocomplete","google","maps","places","Autocomplete","addresstext","nativeElement","event","addListener","place","getPlace","parsedAddress","formatted_address","replace","latitude","geometry","location","lat","longitude","lng","emit","selector","templateUrl","styleUrls","PlacesSelectModule","declarations","exports","BereavedGuidanceFormComponent","options","selected","initSelected","notIntereseted","submit","id","value","Object","keys","filter","length","selectedIds","general","onNotInterestedChange","onSubmit","m1","m2","m3","m4","BereavedIntroComponent","BereavedProfileFormComponent","fb","utilsService","formInvalid","canTellInOtherLang","maxDate","Date","toISOString","split","profile","user","otherLang","form","group","email","firebaseUser","required","firstName","maxLength","pattern","namePattern","lastName","phoneNumber","phonePattern","address","birthDay","agree","requiredTrue","valueChanges","subscribe","valid","parsedForm","trim","getTime","markAllAsTouched","get","TellPageComponent","router","authService","participationsService","toastr","_userService","dataService","currentStep","currentStep$","year","subscriptions","push","pipe","window","scrollTo","console","log","setFirebaseTellUser","role","bereaved","isAdmin","navigate","setUserRole","next","requestToLogin","isBereavedHaveProfileDetails","isBereavedHaveSlainDetails","getMeetings","meetings","setTimeout","profileForm","setUserProfile","slainForm","slains","deathDate","story","bereavedProfile","alert","setBereavedProfile","bereavedGuidance","setBereavedGuidance","meeting","confirm","bereavedJoinMeeting","success","hostId","error","forEach","subscription","unsubscribe","routes","path","component","TellPageModule","forChild","imports","SlainFormComponent","userService","firebaseTellUser","u","slain","initiateFrom","ddate","minLength","api","TellModule"],"mappings":"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","file":"tell-page-tell-page-module-es5.js","sourcesContent":["/// <reference types=\"@types/googlemaps\" />\r\n\r\nimport { Component, Input, Output, EventEmitter, ViewChild, AfterViewInit, ElementRef } from '@angular/core';\r\nimport { MapsAPILoader } from '@agm/core';\r\nimport { Address } from 'models';\r\n\r\n@Component({\r\n  selector: 'app-places-select',\r\n  templateUrl: './places-select.component.html',\r\n  styleUrls: ['./places-select.component.scss']\r\n})\r\nexport class PlacesSelectComponent implements AfterViewInit {\r\n  @Input() formattedAddress: string = '';\r\n  @Input() types: string[];\r\n  @Input() placeholder: string;\r\n  @Input() invalid: boolean;\r\n\r\n  @Output() change: EventEmitter<Address> = new EventEmitter();\r\n  @ViewChild('palcesInput') addresstext: ElementRef<HTMLInputElement>;\r\n\r\n  constructor(private mapsAPILoader: MapsAPILoader) {}\r\n\r\n  ngAfterViewInit() {\r\n    this.getPlaceAutocomplete();\r\n  }\r\n\r\n  private getPlaceAutocomplete() {\r\n    this.mapsAPILoader.load().then(() => {\r\n      const autocomplete = new google.maps.places.Autocomplete(this.addresstext.nativeElement, {\r\n        //componentRestrictions: { country: ['IL', 'PS'] },\r\n        //  types: this.types.slice()\r\n      });\r\n\r\n      google.maps.event.addListener(autocomplete, 'place_changed', () => {\r\n        const place = autocomplete.getPlace();\r\n\r\n        const parsedAddress: Address = {\r\n          formattedAddress: place.formatted_address.replace(', ישראל', ''),\r\n          latitude: place.geometry.location.lat(),\r\n          longitude: place.geometry.location.lng()\r\n        };\r\n\r\n        this.change.emit(parsedAddress);\r\n      });\r\n    });\r\n  }\r\n}\r\n","<input\r\n  #palcesInput\r\n  class=\"form-field\"\r\n  type=\"text\"\r\n  [value]=\"formattedAddress\"\r\n  [class.invalid]=\"invalid\"\r\n  [placeholder]=\"placeholder\"\r\n  autocorrect=\"off\"\r\n  autocapitalize=\"off\"\r\n  spellcheck=\"off\"\r\n/>\r\n","import { NgModule } from '@angular/core';\r\nimport { PlacesSelectComponent } from './places-select.component';\r\n\r\n@NgModule({\r\n  declarations: [PlacesSelectComponent],\r\n  exports: [PlacesSelectComponent]\r\n})\r\nexport class PlacesSelectModule {}\r\n","import { Component, EventEmitter, Output } from '@angular/core';\r\nimport { BereavedGuidance, BereavedGuidanceGeneral, guidanceOptions, GuidanceOption } from 'models';\r\n\r\ntype GuidanceMap = {\r\n  [id in BereavedGuidanceGeneral]: boolean;\r\n};\r\n\r\n@Component({\r\n  selector: 'app-bereaved-guidance-form',\r\n  templateUrl: './bereaved-guidance-form.component.html',\r\n  styleUrls: ['./bereaved-guidance-form.component.scss']\r\n})\r\nexport class BereavedGuidanceFormComponent {\r\n  public options: GuidanceOption[] = guidanceOptions;\r\n  public selected: GuidanceMap = { ...initSelected };\r\n  public notIntereseted = true;\r\n\r\n  @Output()\r\n  public submit = new EventEmitter<BereavedGuidance>();\r\n\r\n  constructor() { }\r\n\r\n  onGuidanceChange(id: BereavedGuidanceGeneral, value: boolean) {\r\n    this.selected[id] = value;\r\n    this.notIntereseted = !Object.keys(this.selected).filter(id => !!this.selected[id]).length;\r\n  }\r\n\r\n  onNotInterestedChange(value: boolean) {\r\n    this.notIntereseted = value;\r\n    if (this.notIntereseted) {\r\n      this.selected = {\r\n        ...initSelected\r\n      };\r\n    }\r\n  }\r\n\r\n  onSubmit() {\r\n    const selectedIds = Object.keys(this.selected).filter(id => !!this.selected[id]) as BereavedGuidanceGeneral[];\r\n\r\n    this.submit.emit({\r\n      // answered: true,\r\n      general: selectedIds.length ? selectedIds : null\r\n    });\r\n  }\r\n}\r\n\r\nconst initSelected: GuidanceMap = {\r\n  m1: false,\r\n  m2: false,\r\n  m3: false,\r\n  m4: false\r\n};\r\n","<div class=\"medium-heading\">מפגשי הדרכה</div>\r\n<div class=\"training-container\">\r\n  <div class=\"training-text\">\r\n    <p>\r\n      <!-- מפגשי ההכנה יתקיימו בין ה-2.4 ל-29.3 ברחבי הארץ במטרה להכין אותך ולסייע לך לקראת המפגשים. הסדנאות יכללו תכנים\r\n      פרקטיים לאחים חדשים ע\"י ד\"ר צוריאל ראשי ומנחים נוספים, ולאחים ותיקים ע\"י פרויקט 21. כמו כן, תתקיים סדנה של נט\"ל\r\n      שמטרתה להקנות כלים רגשיים להתמודדדות עם המפגש. כמו כן, יתקיימו הרצאות לדוגמה של שני אחים שכולים וסיוע בבניית השיחה\r\n      ו/או המצגת. -->\r\n      סדנאות ההכנה יתקיימו בזום בתאריכים 4-5.21. מטרת הסדנאות להכין אותך ולסייע לך לקראת המפגשים. הסדנאות יכללו תכנים\r\n      פרקטיים וניתן לבחור בין סדנה לאחים חדשים ובין סדנה לאחים ותיקים והן יועברו ע\"י אנשי מקצוע ופרויקט 21.\r\n    </p>\r\n  </div>\r\n  <div class=\"training-options\">\r\n    <!-- <p>\r\n      סדנאות ההכנה יתקיימו במספר מוקדים:\r\n    </p> -->\r\n    <p>\r\n      סדנאות ההכנה יתקיימו בזום:\r\n    </p>\r\n    <a\r\n      href=\"https://docs.google.com/forms/d/e/1FAIpQLSdysCMih5-VnB241KuP9zFbLyju9NqShDwntZHpBcUsGntqLg/viewform\"\r\n      target=\"_blank\"\r\n      class=\"site-link decoration\"\r\n    >\r\n      להרשמה\r\n    </a>\r\n    <!-- <div *ngFor=\"let option of options\" class=\"training-option\">\r\n      <app-checkbox\r\n        [label]=\"option.details\"\r\n        [checked]=\"selected[option.value]\"\r\n        (checkedChanged)=\"onGuidanceChange(option.value, $event)\"\r\n      ></app-checkbox>\r\n    </div> -->\r\n    <div class=\"training-option not-interseted\">\r\n      <app-checkbox\r\n        [label]=\"'לא מעוניין בהדרכה'\"\r\n        [checked]=\"notIntereseted\"\r\n        (checkedChanged)=\"onNotInterestedChange($event)\"\r\n      >\r\n      </app-checkbox>\r\n    </div>\r\n  </div>\r\n</div>\r\n<button (click)=\"onSubmit()\" class=\"site-button primary-button step-button\">\r\n  לאישור הפרטים\r\n</button>\r\n","import { Component, EventEmitter, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-bereaved-intro',\r\n  templateUrl: './bereaved-intro.component.html',\r\n  styleUrls: ['./bereaved-intro.component.scss']\r\n})\r\nexport class BereavedIntroComponent {\r\n  @Output() submit = new EventEmitter<void>();\r\n}\r\n","<section class=\"intro\">\r\n  <div class=\"site-divider\"></div>\r\n  <div class=\"small-heading\">מפגשים</div>\r\n  <div class=\"medium-heading\">אני רוצה לספר</div>\r\n  <div class=\"site-text\">\r\n    <p>\r\n      אחים ואחיות יקרים, אנו שמחים שאתם מעוניינים לקחת חלק במפגשי 'האחים שלנו'.\r\n    </p>\r\n    <p>\r\n      נשמח לסייע לכם בכל דרך שנוכל על מנת שתוכלו לקיים מפגש עוצמתי, מרגש וייחודי.\r\n    </p>\r\n    <p>\r\n      בלחיצה על כפתור 'המשך', יתחיל תהליך ההרשמה, בו יש צורך במילוי פרטים אישיים, מילוי פרטי חלל ולבסוף - שיבוצך באחד\r\n      הבתים המארחים שנפתחו. חלק מהמפגשים יהיו בסביבה אינטימית וחלקם, באווירה גדולה יותר.\r\n    </p>\r\n    <p>\r\n      לקראת המפגשים אנו נקיים סדנאות הדרכה בזום במטרה להכין אותך ולסייע לך לקראת המפגשים. הסדנאות יכללו תכנים פרקטיים\r\n      והקניית כלים שיסייעו לך מבנית ורגשית לקראת המפגש, בין אם לקחת חלק במפגשי 'האחים שלנו' בעבר ובין אם לא. המפגשים\r\n      יתקיימו בשבוע שסביב יום הזיכרון 9-14.4.21. ישנה אפשרות להשתבץ ליותר מבית מארח אחד. מפגשי 'האחים שלנו' מתקיימים\r\n      במסגרת הנחיות התו הירוק (אכיפת ההנחיות באחריות המארח בלבד). פה בשבילכם לכל שאלה.\r\n    </p>\r\n  </div>\r\n  <!-- <button (click)=\"submit.emit()\" class=\"site-button primary-button intro-button\">\r\n    המשך\r\n  </button> -->\r\n</section>\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { UserProfile, User, Address } from 'models';\r\nimport { UtilsService } from '../../shared/services/utils.service';\r\nimport { ProgressComponent } from '../../shared/components/progress/progress.component';\r\nexport interface BereavedProfileForm {\r\n  email: string;\r\n  firstName: string;\r\n  lastName: string;\r\n  phoneNumber: string;\r\n  address: Address;\r\n  birthDay: number;\r\n  otherLang: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-bereaved-profile-form',\r\n  templateUrl: './bereaved-profile-form.component.html',\r\n  styleUrls: ['./bereaved-profile-form.component.scss']\r\n})\r\nexport class BereavedProfileFormComponent implements OnInit {\r\n  @Input()\r\n  public user: User;\r\n  @Input()\r\n  public firebaseUser: firebase.User;\r\n  @Output()\r\n  public submit = new EventEmitter<BereavedProfileForm>();\r\n  public form: FormGroup;\r\n  public formInvalid = false;\r\n  public canTellInOtherLang = false;\r\n  public maxDate = new Date().toISOString().split('T')[0];\r\n  //public a: boolean = true;\r\n\r\n  constructor(private fb: FormBuilder, private utilsService: UtilsService) {}\r\n\r\n  ngOnInit() {\r\n    const profile: UserProfile = this.user.profile || ({} as UserProfile);\r\n\r\n    if (profile.otherLang) {\r\n      this.canTellInOtherLang = true;\r\n    }\r\n\r\n    this.form = this.fb.group({\r\n      email: [profile.email || this.firebaseUser.email, [Validators.required, Validators.email]],\r\n      firstName: [\r\n        profile.firstName,\r\n        [Validators.required, Validators.maxLength(20), Validators.pattern(this.utilsService.namePattern)]\r\n      ],\r\n      lastName: [\r\n        profile.lastName,\r\n        [Validators.required, Validators.maxLength(20), Validators.pattern(this.utilsService.namePattern)]\r\n      ],\r\n      phoneNumber: [profile.phoneNumber, [Validators.required, Validators.pattern(this.utilsService.phonePattern)]],\r\n      address: [profile.address, Validators.required],\r\n      birthDay: [profile.birthDay, [Validators.required]],\r\n      otherLang: [profile.otherLang],\r\n      agree: [false, Validators.requiredTrue]\r\n    });\r\n\r\n    this.form.valueChanges.subscribe(() => {\r\n      this.formInvalid = false;\r\n    });\r\n  }\r\n\r\n  get email() {\r\n    return this.form.get('email');\r\n  }\r\n\r\n  get firstName() {\r\n    return this.form.get('firstName');\r\n  }\r\n\r\n  get lastName() {\r\n    return this.form.get('lastName');\r\n  }\r\n\r\n  get phoneNumber() {\r\n    return this.form.get('phoneNumber');\r\n  }\r\n\r\n  get address() {\r\n    return this.form.get('address');\r\n  }\r\n\r\n  get birthDay() {\r\n    return this.form.get('birthDay');\r\n  }\r\n\r\n  get otherLang() {\r\n    return this.form.get('otherLang');\r\n  }\r\n\r\n  get agree() {\r\n    return this.form.get('agree');\r\n  }\r\n\r\n  public onSubmit() {\r\n    if (this.form.valid) {\r\n      const parsedForm: BereavedProfileForm = {\r\n        email: this.email.value,\r\n        firstName: this.firstName.value.trim(),\r\n        lastName: this.lastName.value.trim(),\r\n        phoneNumber: this.phoneNumber.value,\r\n        //phoneNumber: this.utilsService.toInternationalPhoneNumber(this.phoneNumber.value.replace(/-/g, '')),\r\n        address: this.address.value,\r\n        // birthDay: new Date(this.birthDay.value).getTime(),\r\n        birthDay: new Date(this.birthDay.value).getTime(),\r\n\r\n        otherLang: this.otherLang.value\r\n      };\r\n\r\n      this.submit.emit(parsedForm);\r\n      //this.a = false\r\n    } else {\r\n      this.formInvalid = true;\r\n      this.form.markAllAsTouched();\r\n    }\r\n  }\r\n}\r\n","<div class=\"medium-heading\">\r\n  פרטי משתמש\r\n</div>\r\n<div class=\"form\" [formGroup]=\"form\">\r\n  <div class=\"form-row\">\r\n    <div class=\"col\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"שם פרטי*\"\r\n        class=\"form-field\"\r\n        formControlName=\"firstName\"\r\n        [class.invalid]=\"!firstName.valid && firstName.touched\"\r\n      />\r\n    </div>\r\n    <div class=\"col\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"שם משפחה*\"\r\n        class=\"form-field\"\r\n        formControlName=\"lastName\"\r\n        [class.invalid]=\"!lastName.valid && lastName.touched\"\r\n      />\r\n    </div>\r\n  </div>\r\n  <div class=\"form-row\">\r\n    <div class=\"col\">\r\n      <input\r\n        type=\"email\"\r\n        placeholder=\"אימייל*\"\r\n        class=\"form-field\"\r\n        formControlName=\"email\"\r\n        [class.invalid]=\"!email.valid && email.touched\"\r\n      />\r\n    </div>\r\n    <div class=\"col\">\r\n      <input\r\n        type=\"tel\"\r\n        placeholder=\"טלפון נייד*\"\r\n        class=\"form-field\"\r\n        formControlName=\"phoneNumber\"\r\n        [class.invalid]=\"!phoneNumber.valid && phoneNumber.touched\"\r\n      />\r\n    </div>\r\n  </div>\r\n  <div class=\"form-row\">\r\n    <div class=\"col\">\r\n      <app-places-select\r\n        [types]=\"['(cities)']\"\r\n        [placeholder]=\"'מקום מגורים*'\"\r\n        (change)=\"address.setValue($event)\"\r\n        [invalid]=\"!address.valid && address.touched\"\r\n      ></app-places-select>\r\n    </div>\r\n    <div class=\"col\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"תאריך לידה*\"\r\n        class=\"form-field\"\r\n        formControlName=\"birthDay\"\r\n        [class.invalid]=\"!birthDay.valid && birthDay.touched\"\r\n        [max]=\"maxDate\"\r\n        onfocus=\"(this.type='date')\"\r\n        onblur=\"(this.type='text')\"\r\n      />\r\n    </div>\r\n  </div>\r\n  <div class=\"other-lang-input\">\r\n    <span>\r\n      אני מספר גם בשפות אחרות:\r\n    </span>\r\n    <select class=\"other-lang-select\" [value]=\"otherLang.value\" (change)=\"otherLang.setValue($event.target.value)\">\r\n      <option value=\"english\">אנגלית</option>\r\n      <option value=\"spanish\">ספרדית</option>\r\n      <option value=\"franch\">צרפתית</option>\r\n      <option value=\"arabic\">ערבית</option>\r\n      <option value=\"rusian\">רוסית</option>\r\n      <option value=\"other\">אחר</option>\r\n    </select>\r\n  </div>\r\n  <div class=\"agree-input\">\r\n    <app-checkbox\r\n      label=\"אני מסכים\"\r\n      [checked]=\"agree.value\"\r\n      [invalid]=\"!agree.valid && agree.touched\"\r\n      (checkedChanged)=\"agree.setValue($event)\"\r\n    ></app-checkbox>\r\n    <a class=\"site-link decoration\" href=\"/assets/docs/תנאי%20שימוש%20האחים%20שלנו.pdf\" target=\"_blank\">לתנאי השימוש</a>\r\n  </div>\r\n  <p class=\"form-invalid-message\" *ngIf=\"formInvalid\">\r\n    אחד או יותר מהשדות אינם תקינים\r\n  </p>\r\n  <button (click)=\"onSubmit()\" class=\"site-button primary-button\">\r\n    לאישור הפרטים\r\n  </button>\r\n</div>\r\n","//import { EnrollmentService } from './../../shared/services/enrollment.service';\r\nimport { Component, OnInit, OnDestroy, Input } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Subject, combineLatest, Subscription } from 'rxjs';\r\nimport { distinctUntilChanged, tap } from 'rxjs/operators';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Meeting, User, BereavedProfile, Slain, UserRole, BereavedGuidance } from 'models';\r\nimport { MEMORIAL_YEAR } from '../../shared/constants';\r\nimport { AuthService } from '../../shared/services/auth.service';\r\nimport { DataService } from '../../shared/services/data.service';\r\nimport { ParticipationsService } from '../../shared/services/participations.service';\r\nimport { SlainForm } from '../slain-form/slain-form.component';\r\nimport { BereavedProfileForm } from '../bereaved-profile-form/bereaved-profile-form.component';\r\nimport { ProgressComponent } from '../../shared/components/progress/progress.component';\r\nimport { UserService } from 'src/app/shared/services/user.service';\r\n@Component({\r\n  selector: 'app-tell-page',\r\n  templateUrl: './tell-page.component.html',\r\n  styleUrls: ['./tell-page.component.scss']\r\n})\r\nexport class TellPageComponent implements OnInit, OnDestroy {\r\n  public slain: Slain;\r\n  public user: User;\r\n  //public firebaseSlain:firebase.Slain;\r\n  public firebaseUser: firebase.User;\r\n  public meetings: Meeting[];\r\n  public currentStep: number = 0;\r\n  public currentStep$ = new Subject<number>();\r\n  public year = MEMORIAL_YEAR;\r\n  public profile: boolean = false;\r\n  //public ok: boolean = false;\r\n  //public scheduling: boolean = false;\r\n\r\n  private subscriptions: Subscription[] = [];\r\n\r\n  constructor(\r\n    // public enrollmentService: EnrollmentService,\r\n    private router: Router,\r\n    private authService: AuthService,\r\n    private participationsService: ParticipationsService,\r\n    private toastr: ToastrService,\r\n    private _userService: UserService,\r\n\r\n    private dataService: DataService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.authService.firebaseUser.subscribe(firebaseUser => (this.firebaseUser = firebaseUser));\r\n\r\n    this.subscriptions.push(\r\n      combineLatest(\r\n        this.authService.user,\r\n        this.currentStep$.pipe(\r\n          distinctUntilChanged(),\r\n          tap(() => {\r\n            if (window.scrollTo) {\r\n              window.scrollTo(0, 0);\r\n            }\r\n          })\r\n        )\r\n      ).subscribe(([user, currentStep]) => {\r\n        console.log('tel page firebase subscribe user ', user);\r\n\r\n        this.user = user;\r\n        console.log('TellPageComponent firebase cb', user);\r\n\r\n        this._userService.setFirebaseTellUser(user);\r\n        this.currentStep = currentStep;\r\n\r\n        // Auto navigations after the first step\r\n        if (currentStep > 0) {\r\n          if (user) {\r\n            if (user.role && user.role !== UserRole.bereaved && !user.isAdmin) {\r\n              this.router.navigate(['/home']);\r\n            } else if (user.role !== UserRole.bereaved) {\r\n              this.dataService.setUserRole(user, UserRole.bereaved);\r\n            }\r\n          }\r\n\r\n          if (!user) {\r\n            this.currentStep$.next(1);\r\n            this.authService.requestToLogin();\r\n          } else if (!this.participationsService.isBereavedHaveProfileDetails(user)) {\r\n            this.currentStep$.next(2);\r\n          } else if (!this.participationsService.isBereavedHaveSlainDetails(user)) {\r\n            this.currentStep$.next(3);\r\n          }\r\n          // else if (!this.participationsService.isBereavedAnsweredTrainingMeeting(user)) {\r\n          //   this.currentStep$.next(4);\r\n          // } \r\n          else {\r\n            this.currentStep$.next(4);\r\n            this.currentStep$.next(5);\r\n          }\r\n        }\r\n      })\r\n    );\r\n\r\n    this.subscriptions.push(\r\n      this.dataService.getMeetings().subscribe(meetings => {\r\n        this.meetings = meetings;\r\n      })\r\n    );\r\n\r\n    setTimeout(() => {\r\n      this.currentStep$.next(1);\r\n    });\r\n  }\r\n\r\n  onProfileSubmit(profileForm: BereavedProfileForm) {\r\n    this.dataService.setUserProfile(this.user, profileForm);\r\n    //this.slain=slain;\r\n    //this.expended = true;\r\n    //this.a=false;\r\n  }\r\n\r\n  // public onSubmit() {\r\n\r\n  // }\r\n  onSlainsSubmit(slainForm: SlainForm) {\r\n    const slains: Slain[] = [\r\n      {\r\n        firstName: slainForm.firstName,\r\n        lastName: slainForm.lastName,\r\n        deathDate: slainForm.deathDate\r\n      }\r\n    ];\r\n\r\n    const story = slainForm.story;\r\n\r\n    const bereavedProfile: BereavedProfile = {\r\n      slains,\r\n      story\r\n    };\r\n    alert('הפרטים נשמרו בהצלחה אפשר להמשיך להשתבץ למפגש');\r\n    // console.log('slain בדיקה');\r\n\r\n    this.dataService.setBereavedProfile(this.user, bereavedProfile);\r\n\r\n    //this.ok = true;\r\n  }\r\n\r\n  onGuidanceSubmit(bereavedGuidance: BereavedGuidance) {\r\n    this.dataService.setBereavedGuidance(this.user, bereavedGuidance);\r\n    //this.scheduling = true;\r\n  }\r\n\r\n  onJoinMeeting(meeting: Meeting) {\r\n    if (window.confirm('האם ברצונך להשתבץ למפגש?')) {\r\n      if (this.user.role === UserRole.bereaved) {\r\n        this.dataService.bereavedJoinMeeting(this.user, meeting).subscribe(\r\n          () => {\r\n            this.toastr.success('שובצת בהצלחה!');\r\n            this.router.navigate([`meetings/${this.year}/${meeting.hostId}/${meeting.id}`]);\r\n          },\r\n          () => {\r\n            this.toastr.error('שגיאה - לא ניתן להשתבץ למפגש. נא ליצור קשר.');\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.forEach(subscription => {\r\n      subscription.unsubscribe();\r\n    });\r\n  }\r\n}\r\n","<img class=\"image-header\" src=\"../../../assets/img/tellHeader.jpg\" alt=\"Meetings Page Header Image\" />\r\n<section class=\"registration-page\">\r\n  <section *ngIf=\"currentStep > 0\">\r\n    <div class=\"site-divider\"></div>\r\n    <div class=\"small-heading\">פרטים נוספים</div>\r\n\r\n    <app-progress title=\"פירוט\" [isExpended]=\"true\">\r\n      <section class=\"registration-step\">\r\n        <app-bereaved-intro></app-bereaved-intro>\r\n      </section>\r\n    </app-progress>\r\n    <br />\r\n    <app-progress title=\" פרטים אישיים\">\r\n      <section class=\"registration-step\">\r\n        <app-bereaved-profile-form [user]=\"user\" [firebaseUser]=\"firebaseUser\" (submit)=\"onProfileSubmit($event)\">\r\n        </app-bereaved-profile-form>\r\n      </section>\r\n    </app-progress>\r\n    <br />\r\n    <app-progress title=\"פרטי החלל\">\r\n      <section class=\"registration-step\">\r\n        <app-slain-form (submit)=\"onSlainsSubmit($event)\"></app-slain-form>\r\n      </section>\r\n    </app-progress>\r\n    <br />\r\n    <app-progress title=\"מפגשי הדרכה\">\r\n      <section class=\"registration-step\">\r\n        <app-bereaved-guidance-form (submit)=\"onGuidanceSubmit($event)\"></app-bereaved-guidance-form>\r\n      </section>\r\n    </app-progress>\r\n    <br />\r\n    <app-progress title=\"שיבוץ\">\r\n      <app-meetings [user]=\"user\" [meetings]=\"meetings\" (joinMeeting)=\"onJoinMeeting($event)\"> </app-meetings>\r\n    </app-progress>\r\n\r\n\r\n    <!-- <button (click)=\"onSubmit()\" class=\"site-button primary-button\">\r\n      לאישור הפרטים\r\n    </button> -->\r\n    <!-- <app-registration-progress-bar\r\n      [currentStep]=\"currentStep - 1\"\r\n      [steps]=\"[\r\n        { title: 'התחברות' },\r\n        { title: 'פרטים אישיים' },\r\n        { title: 'פרטי החלל' },\r\n        { title: 'מפגשי הדרכה' },\r\n        { title: 'שיבוץ' }\r\n      ]\"\r\n    >\r\n    </app-registration-progress-bar> -->\r\n  </section>\r\n\r\n  <div class=\"registration-steps\">\r\n    <ng-container [ngSwitch]=\"currentStep\">\r\n      <ng-container *ngSwitchCase=\"0\">\r\n        <!-- <app-bereaved-intro (submit)=\"currentStep$.next(1)\"></app-bereaved-intro> -->\r\n      </ng-container>\r\n      <ng-container *ngSwitchCase=\"1\">\r\n        <!-- login -->\r\n      </ng-container>\r\n      <ng-container *ngSwitchCase=\"2\">\r\n        <!-- <section class=\"registration-step\">\r\n          <app-bereaved-profile-form [user]=\"user\" [firebaseUser]=\"firebaseUser\" (submit)=\"onProfileSubmit($event)\">\r\n          </app-bereaved-profile-form>\r\n        </section> -->\r\n      </ng-container>\r\n      <ng-container *ngSwitchCase=\"3\">\r\n        <!-- <section class=\"registration-step\">\r\n          <app-slain-form (submit)=\"onSlainsSubmit($event)\"></app-slain-form>\r\n        </section> -->\r\n      </ng-container>\r\n      <ng-container *ngSwitchCase=\"4\">\r\n        <!-- <section class=\"registration-step\">\r\n          <app-bereaved-guidance-form (submit)=\"onGuidanceSubmit($event)\"></app-bereaved-guidance-form>\r\n        </section> -->\r\n      </ng-container>\r\n      <ng-container *ngSwitchCase=\"5\">\r\n        <!-- <app-meetings [user]=\"user\" [meetings]=\"meetings\" (joinMeeting)=\"onJoinMeeting($event)\"> </app-meetings> -->\r\n      </ng-container>\r\n    </ng-container>\r\n  </div>\r\n</section>\r\n","import { NgModule } from '@angular/core';\r\nimport { TellPageComponent } from './tell-page.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { RegistrationProgressBarModule } from '../../shared/components/registration-progress-bar/registration-progress-bar.module';\r\nimport { MeetingsComponentsModule } from '../../shared/components/meetings/meetings-components.module';\r\nimport { TellModule } from '../tell.module';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ProgressModule } from '../../shared/components/progress/progress.module';\r\n\r\nconst routes = [\r\n  {\r\n    path: '',\r\n    component: TellPageComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    TellModule,\r\n    RouterModule.forChild(routes),\r\n    RegistrationProgressBarModule,\r\n    MeetingsComponentsModule,\r\n    CommonModule,\r\n    ProgressModule\r\n  ],\r\n  declarations: [TellPageComponent]\r\n})\r\nexport class TellPageModule {}\r\n","import { User, BereavedProfile } from './../../../../../types/models/index';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { Component, OnInit, EventEmitter, Output, Input } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { UtilsService } from '../../shared/services/utils.service';\r\nimport { Slain } from 'models';\r\nimport { UserService } from 'src/app/shared/services/user.service';\r\n\r\nexport interface SlainForm {\r\n  firstName: string;\r\n  lastName: string;\r\n  deathDate: number;\r\n  story: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-slain-form',\r\n  templateUrl: './slain-form.component.html',\r\n  styleUrls: ['./slain-form.component.scss']\r\n})\r\nexport class SlainFormComponent implements OnInit {\r\n  @Input()\r\n  public slain: Slain;\r\n  user: User;\r\n\r\n  @Output() submit = new EventEmitter<SlainForm>();\r\n  // @Input()\r\n  //public firebaseSlain: ;\r\n\r\n  form: FormGroup;\r\n  formInvalid = false;\r\n  maxDate = new Date().toISOString().split('T')[0];\r\n\r\n  constructor(private fb: FormBuilder,\r\n    private utilsService: UtilsService,\r\n    private userService: UserService,\r\n    private router: Router) { }\r\n\r\n\r\n  ngOnInit() {\r\n    console.log(\"SlainFormComponent ngOnInit\");\r\n\r\n\r\n    this.userService.firebaseTellUser.subscribe(u => {\r\n      this.user = u;\r\n      console.log(\"SlainFormComponent recieved firebaseTellUser.subscribe\", u);\r\n\r\n      let slain = {}\r\n      let story = ''\r\n      if (u &&\r\n        u.bereavedProfile &&\r\n        u.bereavedProfile.slains &&\r\n        u.bereavedProfile.slains.length &&\r\n        u.bereavedProfile.slains.length > 0\r\n      ) {\r\n        slain = u.bereavedProfile.slains[0]\r\n        story = u.bereavedProfile.story\r\n      }\r\n      this.initiateFrom(slain, story);\r\n\r\n    })\r\n  }\r\n\r\n  initiateFrom(slain, story) {\r\n    let ddate = slain.deathDate ? new Date(slain.deathDate).toISOString().split('T')[0] : ''\r\n    this.form = this.fb.group({\r\n      firstName: [\r\n        slain.firstName || '',\r\n        [Validators.required, Validators.maxLength(20), Validators.pattern(this.utilsService.namePattern)]\r\n      ],\r\n      lastName: [\r\n        slain.lastName || '',\r\n        [Validators.required, Validators.maxLength(20), Validators.pattern(this.utilsService.namePattern)]\r\n      ],\r\n      deathDate: [ddate, Validators.required],\r\n      story: [story, [Validators.minLength(100), Validators.maxLength(500)]]\r\n    });\r\n\r\n    this.form.valueChanges.subscribe(() => {\r\n      this.formInvalid = false;\r\n    });\r\n  }\r\n\r\n  get firstName() {\r\n    return this.form.get('firstName');\r\n  }\r\n\r\n  get lastName() {\r\n    return this.form.get('lastName');\r\n  }\r\n\r\n  get deathDate() {\r\n    return this.form.get('deathDate');\r\n  }\r\n\r\n  get story() {\r\n    return this.form.get('story');\r\n  }\r\n\r\n  onSubmit() {\r\n    if (this.form.valid) {\r\n      const parsedForm: SlainForm = {\r\n        firstName: this.firstName.value.trim(),\r\n        lastName: this.lastName.value.trim(),\r\n        deathDate: new Date(this.deathDate.value).getTime(),\r\n\r\n\r\n        story: this.story.value.trim()\r\n      };\r\n      this.submit.emit(parsedForm);\r\n    } else {\r\n      this.formInvalid = true;\r\n      this.form.markAllAsTouched();\r\n    }\r\n  }\r\n}\r\n","<div class=\"medium-heading\">פרטי חלל</div>\r\n<div *ngIf=\"form\">\r\n  <div class=\"form\" [formGroup]=\"form\">\r\n    <div class=\"form-row\">\r\n      <div class=\"col\">\r\n        <input\r\n          class=\"form-field\"\r\n          type=\"text\"\r\n          placeholder=\"שם פרטי*\"\r\n          formControlName=\"firstName\"\r\n          [class.invalid]=\"!firstName.valid && firstName.touched\"\r\n        />\r\n      </div>\r\n      <!-- value=\"{{slain.firstName}}\"  -->\r\n      <div class=\"col\">\r\n        <input\r\n          class=\"form-field\"\r\n          type=\"text\"\r\n          placeholder=\"שם משפחה*\"\r\n          formControlName=\"lastName\"\r\n          [class.invalid]=\"!lastName.valid && lastName.touched\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- {{slain.firstName}} -->\r\n\r\n    <div class=\"form-row\">\r\n      <div class=\"col\">\r\n        <input\r\n          class=\"form-field \"\r\n          type=\"text\"\r\n          placeholder=\"תאריך נפילה*\"\r\n          formControlName=\"deathDate\"\r\n          [class.invalid]=\"!deathDate.valid && deathDate.touched\"\r\n          [max]=\"maxDate\"\r\n          onfocus=\"(this.type='date')\"\r\n          onblur=\"(this.type='text')\"\r\n        />\r\n      </div>\r\n      <div class=\"col\"></div>\r\n    </div>\r\n    <div class=\"form-row\">\r\n      <div class=\"col\">\r\n        <textarea\r\n          class=\"form-field\"\r\n          placeholder=\"הסיפור שלי - (100-500) תווים\"\r\n          formControlName=\"story\"\r\n          [class.invalid]=\"!story.valid && story.touched\"\r\n        ></textarea>\r\n      </div>\r\n    </div>\r\n\r\n    <p class=\"form-invalid-message\" *ngIf=\"formInvalid\">\r\n      אחד או יותר מהשדות אינם תקינים\r\n    </p>\r\n    <button (click)=\"onSubmit()\" class=\"sumbit-button site-button primary-button\">\r\n      לאישור הפרטים\r\n    </button>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { SlainFormComponent } from './slain-form/slain-form.component';\r\nimport { BereavedProfileFormComponent } from './bereaved-profile-form/bereaved-profile-form.component';\r\nimport { BereavedGuidanceFormComponent } from './bereaved-guidance-form/bereaved-guidance-form.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { PlacesSelectModule } from '../shared/components/places-select/places-select.module';\r\nimport { CheckboxModule } from '../shared/components/checkbox/checkbox.module';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BereavedIntroComponent } from './bereaved-intro/bereaved-intro.component';\r\n\r\nconst api = [SlainFormComponent, BereavedProfileFormComponent, BereavedGuidanceFormComponent, BereavedIntroComponent];\r\n\r\n@NgModule({\r\n  declarations: api,\r\n  imports: [ReactiveFormsModule, PlacesSelectModule, CheckboxModule, CommonModule],\r\n  exports: api\r\n})\r\nexport class TellModule {}\r\n"]}