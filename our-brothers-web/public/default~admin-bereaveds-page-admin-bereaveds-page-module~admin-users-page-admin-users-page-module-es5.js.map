{"version":3,"sources":["webpack:///src/app/shared/components/select/select.component.ts","webpack:///src/app/shared/components/select/select.component.html","webpack:///src/app/shared/components/select/select.module.ts","webpack:///src/app/shared/pipes/phone.pipe.ts","webpack:///src/app/shared/pipes/pipes.module.ts","webpack:///src/app/shared/pipes/safe.pipe.ts","webpack:///src/app/shared/pipes/seniority.pipe.ts"],"names":["valueChange","SelectComponent","elementRef","placeholder","multiple","readonly","dirty","editable","open","event","nativeElement","contains","target","emit","values","value","selectedMap","filter","v","Array","isArray","reduce","acc","curr","options","_options","optionsMap","selector","changeDetection","OnPush","templateUrl","styleUrls","SelectModule","declarations","imports","exports","PhonePipe","utilsService","phoneNumber","length","local","toLocalPhoneNumber","substring","name","pipes","PipesModule","SafePipe","sanitizer","url","bypassSecurityTrustResourceUrl","SeniorityPipe","date","diff","Date","now","years","Math","abs","getUTCFullYear","getMonth","toFixed","toString"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACIQ;;AACE;;AACF;;;;;;;;AAF4C;;AAC1C;;AAAA;;;;;;AADF;;;;;;AAAmB;;;;;;AAKnB;;AAAmB;;AAAiB;;;;;;AAAjB;;AAAA;;;;;;;;AAGvB;;AACE;;AAA0B;AAAA;;AAAA;;AAAA,iBAAS,SAAAA,WAAA,MAAiB,IAAjB,CAAT;AAA+B,SAA/B;;AAAiC;;AAAC;;AAC5D;;AACF;;;;;;;;AAGA;;AAIE;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAGA;;AACF;;;;;;;;AALE;;AAEA;;AAEA;;AAAA;;;;;;AARJ;;AACE;;AASF;;;;;;AARI;;AAAA;;;;;;;;;;;QDQOC,e;AAgEX,+BAAoBC,UAApB,EAA4C;AAAA;;AAAxB,aAAAA,UAAA,GAAAA,UAAA;AAzBX,aAAAC,WAAA,GAAsB,SAAtB;AACA,aAAAC,QAAA,GAAoB,KAApB;AACA,aAAAC,QAAA,GAAoB,KAApB;AAEC,aAAAL,WAAA,GAAc,IAAI,0DAAJ,EAAd;AAIV,aAAAM,KAAA,GAAiB,KAAjB;AAcA,aAAAC,QAAA,GAAoB,KAApB;AACA,aAAAC,IAAA,GAAgB,KAAhB;AAE8C;;;;iCAdrCC,K,EAAO;AACd,cAAI,CAAC,KAAKP,UAAL,CAAgBQ,aAAhB,CAA8BC,QAA9B,CAAuCF,KAAK,CAACG,MAA7C,CAAL,EAA2D;AACzD,gBAAI,KAAKR,QAAL,IAAiB,KAAKI,IAAtB,IAA8B,KAAKF,KAAvC,EAA8C;AAC5C,mBAAKN,WAAL,CAAiBa,IAAjB,CAAsB,KAAKC,MAA3B;AACD;;AAED,iBAAKN,IAAL,GAAY,KAAZ;AACA,iBAAKD,QAAL,GAAgB,KAAhB;AACD;AACF;;;uCAOcQ,K,EAAe;AAC5B,cAAI,CAAC,KAAKX,QAAV,EAAoB;AAClB,iBAAKJ,WAAL,CAAiBa,IAAjB,CAAsBE,KAAtB;AACA,iBAAKP,IAAL,GAAY,KAAZ;AACD,WAHD,MAGO;AACL,iBAAKF,KAAL,GAAa,IAAb;;AAEA,gBAAI,KAAKU,WAAL,CAAiBD,KAAjB,CAAJ,EAA6B;AAC3B,mBAAKA,KAAL,GAAa,KAAKD,MAAL,CAAYG,MAAZ,CAAmB,UAAAC,CAAC;AAAA,uBAAIA,CAAC,KAAKH,KAAV;AAAA,eAApB,CAAb;AACD,aAFD,MAEO;AACL,mBAAKA,KAAL,gCAAiB,KAAKD,MAAtB,IAA8BC,KAA9B;AACD;AACF;AACF;;;0BA3ESA,K,EAA0B;AAClC,cAAII,KAAK,CAACC,OAAN,CAAcL,KAAd,CAAJ,EAA0B;AACxB,iBAAKD,MAAL,GAAcC,KAAd;AACD,WAFD,MAEO;AACL,iBAAKD,MAAL,GAAcC,KAAK,GAAG,CAACA,KAAD,CAAH,GAAa,EAAhC;AACD;;AAED,eAAKC,WAAL,GAAmB,KAAKF,MAAL,CAAYO,MAAZ,CACjB,UAACC,GAAD,EAAMC,IAAN;AAAA,mBAAgB,MAAD,OAAC,CAAD,kBACVD,GADU,CAAC,sBAEbC,IAFa,EAEN,IAFM,EAAhB;AAAA,WADiB,EAKjB,EALiB,CAAnB;AAOD;;;0BAKWC,O,EAAyB;AACnC,eAAKC,QAAL,GAAgBD,OAAhB;AAEA,eAAKE,UAAL,GAAkB,KAAKF,OAAL,CAAaH,MAAb,CAChB,UAACC,GAAD,EAAMC,IAAN;AAAA,mBAAgB,MAAD,OAAC,CAAD,kBACVD,GADU,CAAC,sBAEbC,IAAI,CAACR,KAFQ,EAEAQ,IAFA,EAAhB;AAAA,WADgB,EAKhB,EALgB,CAAlB;AAOD,S;4BAEa;AACZ,iBAAO,KAAKE,QAAZ;AACD;;;;;;;uBArCUxB,e,EAAe,yH;AAAA,K;;;YAAfA,e;AAAe,iC;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;AC3B5B;;AACE;;AAA6B;AAAA;AAAA;AAAA;;AAC3B;;AACE;;AAKA;;AAGF;;AACA;;AAIF;;AACA;;AAWF;;;;;;AA5B8B;;AAGX;;AAAA,8FAAsB,UAAtB,EAAsB,KAAtB;;AASV;;AAAA;;AAKc;;AAAA;;;;;;;;;;sEDUVA,e,EAAe;cAN3B,uDAM2B;eANjB;AACT0B,kBAAQ,EAAE,YADD;AAETC,yBAAe,EAAE,sEAAwBC,MAFhC;AAGTC,qBAAW,EAAE,yBAHJ;AAITC,mBAAS,EAAE,CAAC,yBAAD;AAJF,S;AAMiB,Q;;;;;;gBAGzB;;;gBAmBA;;;gBAiBA;;;gBACA;;;gBACA;;;gBAEA;;;gBAMA,0D;iBAAa,gB,EAAkB,CAAC,QAAD,C;;;;;;;;;;;;;;;;;;;;AE5ElC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QASaC,Y;;;;;YAAAA;;;;yBAAAA,Y;AAAY,O;AAAA,gBAHd,CAAC,4DAAD,CAGc;;;;0HAAZA,Y,EAAY;AAAA,uBAJR,iEAIQ;AAJO,kBACpB,4DADoB,CAIP;AAHD,kBACZ,iEADY;AAGC,O;AAFE,K;;;;;sEAEdA,Y,EAAY;cALxB,sDAKwB;eALf;AACRC,sBAAY,EAAE,CAAC,iEAAD,CADN;AAERC,iBAAO,EAAE,CAAC,4DAAD,CAFD;AAGRC,iBAAO,EAAE,CAAC,iEAAD;AAHD,S;AAKe,Q;;;;;;;;;;;;;;;;;;ACTzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAMaC,S;AACX,yBAAoBC,YAApB,EAAgD;AAAA;;AAA5B,aAAAA,YAAA,GAAAA,YAAA;AAA8B;;;;kCAEjCC,W,EAAmB;AAClC,cAAI,CAACA,WAAD,IAAgBA,WAAW,CAACC,MAAZ,GAAqB,CAAzC,EAA4C;AAC1C,mBAAOD,WAAP;AACD,WAFD,MAEO;AACL,gBAAME,KAAK,GAAG,KAAKH,YAAL,CAAkBI,kBAAlB,CAAqCH,WAArC,CAAd;AACA,6BAAUE,KAAK,CAACE,SAAN,CAAgB,CAAhB,EAAmB,CAAnB,CAAV,cAAmCF,KAAK,CAACE,SAAN,CAAgB,CAAhB,EAAmB,CAAnB,CAAnC,cAA4DF,KAAK,CAACE,SAAN,CAAgB,CAAhB,CAA5D;AACD;AACF;;;;;;;uBAVUN,S,EAAS,qI;AAAA,K;;;;YAATA,S;AAAS;;;;;sEAATA,S,EAAS;cAHrB,kDAGqB;eAHhB;AACJO,cAAI,EAAE;AADF,S;AAGgB,Q;;;;;;;;;;;;;;;;;;;;;;ACNtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAKA,QAAMC,KAAK,GAAG,CAAC,qDAAD,EAAY,6DAAZ,EAA2B,mDAA3B,CAAd;;QAMaC,W;;;;;YAAAA;;;;yBAAAA,W;AAAW;;;;0HAAXA,W,EAAW;AAAA,uBANT,qDAMS,EANE,6DAMF,EANiB,mDAMjB;AANyB,kBAAlC,qDAAkC,EAAvB,6DAAuB,EAAR,mDAAQ;AAMzB,O;AANyB,K;;;;;sEAMpCA,W,EAAW;cAJvB,sDAIuB;eAJd;AACRZ,sBAAY,EAAEW,KADN;AAERT,iBAAO,EAAES;AAFD,S;AAIc,Q;;;;;;;;;;;;;;;;;;ACXxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAIaE,Q;AACX,wBAAoBC,SAApB,EAA6C;AAAA;;AAAzB,aAAAA,SAAA,GAAAA,SAAA;AAA2B;;;;kCACrCC,G,EAAK;AACb,iBAAO,KAAKD,SAAL,CAAeE,8BAAf,CAA8CD,GAA9C,CAAP;AACD;;;;;;;uBAJUF,Q,EAAQ,uI;AAAA,K;;;;YAARA,Q;AAAQ;;;;;sEAARA,Q,EAAQ;cADpB,kDACoB;eADf;AAAEH,cAAI,EAAE;AAAR,S;AACe,Q;;;;;;;;;;;;;;;;;;;;;;ACJrB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAKaO,a;;;;;;;kCACDC,I,EAAY;AACpB,cAAI,CAACA,IAAL,EAAW;AACT,mBAAO,EAAP;AACD;;AAED,cAAMC,IAAI,GAAG,IAAIC,IAAJ,CAASA,IAAI,CAACC,GAAL,KAAaH,IAAtB,CAAb;AAEA,cAAMI,KAAK,GAAGC,IAAI,CAACC,GAAL,CAASL,IAAI,CAACM,cAAL,KAAwB,IAAjC,CAAd;;AAEA,cAAI,CAACH,KAAL,EAAY;AACV,mBAAO,MAAM,CAACH,IAAI,CAACO,QAAL,EAAD,GAAmB,GAAnB,GAAyB,CAACP,IAAI,CAACO,QAAL,KAAkB,EAAnB,EAAuBC,OAAvB,CAA+B,CAA/B,CAA/B,CAAP;AACD,WAFD,MAEO;AACL,mBAAOL,KAAK,CAACM,QAAN,EAAP;AACD;AACF;;;;;;;uBAfUX,a;AAAa,K;;;;YAAbA,a;AAAa;;;;;sEAAbA,a,EAAa;cAHzB,kDAGyB;eAHpB;AACJP,cAAI,EAAE;AADF,S;AAGoB,Q","file":"default~admin-bereaveds-page-admin-bereaveds-page-module~admin-users-page-admin-users-page-module-es5.js","sourcesContent":["import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  HostListener,\r\n  ElementRef,\r\n  ChangeDetectionStrategy,\r\n  OnInit\r\n} from '@angular/core';\r\n\r\nexport interface SelectOption {\r\n  value: string;\r\n  label: string;\r\n  details?: string;\r\n}\r\n\r\ntype OptionsMap = { [value: string]: SelectOption };\r\n\r\ntype SelectedMap = { [value: string]: boolean };\r\n\r\n@Component({\r\n  selector: 'app-select',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './select.component.html',\r\n  styleUrls: ['./select.component.scss']\r\n})\r\nexport class SelectComponent {\r\n  values: string[];\r\n\r\n  @Input()\r\n  set value(value: string | string[]) {\r\n    if (Array.isArray(value)) {\r\n      this.values = value;\r\n    } else {\r\n      this.values = value ? [value] : [];\r\n    }\r\n\r\n    this.selectedMap = this.values.reduce(\r\n      (acc, curr) => ({\r\n        ...acc,\r\n        [curr]: true\r\n      }),\r\n      {} as SelectedMap\r\n    );\r\n  }\r\n\r\n  _options: SelectOption[];\r\n\r\n  @Input()\r\n  set options(options: SelectOption[]) {\r\n    this._options = options;\r\n\r\n    this.optionsMap = this.options.reduce(\r\n      (acc, curr) => ({\r\n        ...acc,\r\n        [curr.value]: curr\r\n      }),\r\n      {} as OptionsMap\r\n    );\r\n  }\r\n\r\n  get options() {\r\n    return this._options;\r\n  }\r\n\r\n  @Input() placeholder: string = 'לא נבחר';\r\n  @Input() multiple: boolean = false;\r\n  @Input() readonly: boolean = false;\r\n\r\n  @Output() valueChange = new EventEmitter<string | string[]>();\r\n\r\n  optionsMap: OptionsMap;\r\n  selectedMap: SelectedMap;\r\n  dirty: boolean = false;\r\n\r\n  @HostListener('document:click', ['$event'])\r\n  clickout(event) {\r\n    if (!this.elementRef.nativeElement.contains(event.target)) {\r\n      if (this.multiple && this.open && this.dirty) {\r\n        this.valueChange.emit(this.values);\r\n      }\r\n\r\n      this.open = false;\r\n      this.editable = false;\r\n    }\r\n  }\r\n\r\n  editable: boolean = false;\r\n  open: boolean = false;\r\n\r\n  constructor(private elementRef: ElementRef) {}\r\n\r\n  onSelectOption(value: string) {\r\n    if (!this.multiple) {\r\n      this.valueChange.emit(value);\r\n      this.open = false;\r\n    } else {\r\n      this.dirty = true;\r\n\r\n      if (this.selectedMap[value]) {\r\n        this.value = this.values.filter(v => v !== value);\r\n      } else {\r\n        this.value = [...this.values, value];\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div class=\"select-container\" [ngClass]=\"{ readonly: readonly, editable: editable }\">\r\n  <div class=\"value-container\" (click)=\"open = !readonly && editable; editable = !readonly\">\r\n    <div class=\"values\">\r\n      <ng-template [ngIf]=\"values.length\" [ngIfElse]=\"empty\">\r\n        <div class=\"value\" *ngFor=\"let v of values\" [title]=\"optionsMap[v].details || ''\">\r\n          {{ optionsMap[v].label }}\r\n        </div>\r\n      </ng-template>\r\n      <ng-template #empty>\r\n        <div class=\"value\">{{ placeholder }}</div>\r\n      </ng-template>\r\n    </div>\r\n    <div *ngIf=\"editable\" class=\"controls\">\r\n      <span class=\"remove-icon\" (click)=\"valueChange.emit(null)\">x</span>\r\n      <span class=\"triangle-icon\"></span>\r\n    </div>\r\n  </div>\r\n  <div class=\"options\" *ngIf=\"open\">\r\n    <div\r\n      *ngFor=\"let option of options\"\r\n      class=\"option\"\r\n      [class.active]=\"selectedMap[option.value]\"\r\n      (click)=\"onSelectOption(option.value)\"\r\n      [title]=\"option.details || ''\"\r\n    >\r\n      {{ option.label }}\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { SelectComponent } from './select.component';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n  declarations: [SelectComponent],\r\n  imports: [CommonModule],\r\n  exports: [SelectComponent]\r\n})\r\nexport class SelectModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { UtilsService } from '../services/utils.service';\r\n\r\n@Pipe({\r\n  name: 'phone'\r\n})\r\nexport class PhonePipe implements PipeTransform {\r\n  constructor(private utilsService: UtilsService) {}\r\n\r\n  public transform(phoneNumber: string): string {\r\n    if (!phoneNumber || phoneNumber.length < 9) {\r\n      return phoneNumber;\r\n    } else {\r\n      const local = this.utilsService.toLocalPhoneNumber(phoneNumber);\r\n      return `${local.substring(0, 3)}-${local.substring(3, 6)}-${local.substring(6)}`;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { PhonePipe } from './phone.pipe';\r\nimport { SeniorityPipe } from './seniority.pipe';\r\nimport { SafePipe } from './safe.pipe';\r\n\r\nconst pipes = [PhonePipe, SeniorityPipe, SafePipe];\r\n\r\n@NgModule({\r\n  declarations: pipes,\r\n  exports: pipes\r\n})\r\nexport class PipesModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({ name: 'safe' })\r\nexport class SafePipe implements PipeTransform {\r\n  constructor(private sanitizer: DomSanitizer) {}\r\n  transform(url) {\r\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'seniority'\r\n})\r\nexport class SeniorityPipe implements PipeTransform {\r\n  transform(date: number): string {\r\n    if (!date) {\r\n      return '';\r\n    }\r\n\r\n    const diff = new Date(Date.now() - date);\r\n\r\n    const years = Math.abs(diff.getUTCFullYear() - 1970);\r\n\r\n    if (!years) {\r\n      return '' + (!diff.getMonth() ? 0.1 : (diff.getMonth() / 12).toFixed(1));\r\n    } else {\r\n      return years.toString();\r\n    }\r\n  }\r\n}\r\n"]}