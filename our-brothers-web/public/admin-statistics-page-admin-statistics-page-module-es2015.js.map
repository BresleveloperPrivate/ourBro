{"version":3,"sources":["./src/app/admin/statistics/active-users-statistics/active-users-statistics.component.ts","./src/app/admin/statistics/active-users-statistics/active-users-statistics.component.html","./src/app/admin/statistics/admin-statistics.module.ts","./src/app/admin/statistics/bereaveds-statistics/bereaveds-statistics.component.ts","./src/app/admin/statistics/bereaveds-statistics/bereaveds-statistics.component.html","./src/app/admin/statistics/meetings-statistics/meetings-statistics.component.ts","./src/app/admin/statistics/meetings-statistics/meetings-statistics.component.html","./src/app/admin/statistics/page/admin-statistics-page.component.ts","./src/app/admin/statistics/page/admin-statistics-page.component.html","./src/app/admin/statistics/page/admin-statistics-page.module.ts","./src/app/admin/statistics/registrations-statistics/registrations-statistics.component.ts","./src/app/admin/statistics/registrations-statistics/registrations-statistics.component.html"],"names":[],"mappings":"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","file":"admin-statistics-page-admin-statistics-page-module-es2015.js","sourcesContent":["import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\r\n\r\nimport { User, UserRole } from 'models';\r\nimport { MEMORIAL_YEAR } from 'src/app/shared/constants';\r\n\r\ntype ActiveUsers = {\r\n  [role in UserRole]: {\r\n    new: number;\r\n    old: number;\r\n  };\r\n};\r\n\r\n@Component({\r\n  selector: 'app-active-users-statistics',\r\n  templateUrl: './active-users-statistics.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  styleUrls: ['./active-users-statistics.component.scss']\r\n})\r\nexport class ActiveUsersStatisticsComponent {\r\n  activeUsers: ActiveUsers;\r\n  total: number = 0;\r\n\r\n  @Input()\r\n  set users(users: User[]) {\r\n    this.activeUsers = this.calcActiveUsers(users);\r\n  }\r\n\r\n  calcActiveUsers(users: User[]): ActiveUsers {\r\n    const activeUsers: ActiveUsers = {\r\n      [UserRole.bereaved]: {\r\n        new: 0,\r\n        old: 0\r\n      },\r\n      [UserRole.host]: {\r\n        new: 0,\r\n        old: 0\r\n      },\r\n      [UserRole.participate]: {\r\n        new: 0,\r\n        old: 0\r\n      }\r\n    };\r\n\r\n    const current = new Date(MEMORIAL_YEAR, 1, 1).getTime();\r\n\r\n    for (const user of users) {\r\n      if (user.lastSignInDate >= current) {\r\n        this.total++;\r\n        if (user.registered >= current) {\r\n          activeUsers[user.role].new++;\r\n        } else {\r\n          activeUsers[user.role].old++;\r\n        }\r\n      }\r\n    }\r\n\r\n    return activeUsers;\r\n  }\r\n}\r\n","<div class=\"small-heading\">פעילים</div>\r\n<table class=\"table\">\r\n  <thead>\r\n    <tr>\r\n      <th colspan=\"2\">אחים</th>\r\n      <th colspan=\"2\">מארחים</th>\r\n      <th colspan=\"2\">משתמשים</th>\r\n    </tr>\r\n    <tr>\r\n      <th>חדשים</th>\r\n      <th>חוזרים</th>\r\n      <th>חדשים</th>\r\n      <th>חוזרים</th>\r\n      <th>חדשים</th>\r\n      <th>חוזרים</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr>\r\n      <td>{{ activeUsers.bereaved.new }}</td>\r\n      <td>{{ activeUsers.bereaved.old }}</td>\r\n      <td>{{ activeUsers.host.new }}</td>\r\n      <td>{{ activeUsers.host.old }}</td>\r\n      <td>{{ activeUsers.participate.new }}</td>\r\n      <td>{{ activeUsers.participate.old }}</td>\r\n    </tr>\r\n  </tbody>\r\n  <tfoot>\r\n    <tr>\r\n      <td>סה\"כ</td>\r\n      <td>{{ total }}</td>\r\n    </tr>\r\n  </tfoot>\r\n</table>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ActiveUsersStatisticsComponent } from './active-users-statistics/active-users-statistics.component';\r\nimport { BereavedsStatisticsComponent } from './bereaveds-statistics/bereaveds-statistics.component';\r\nimport { MeetingsStatisticsComponent } from './meetings-statistics/meetings-statistics.component';\r\nimport { RegistrationsStatisticsComponent } from './registrations-statistics/registrations-statistics.component';\r\n\r\nconst api = [\r\n  ActiveUsersStatisticsComponent,\r\n  BereavedsStatisticsComponent,\r\n  MeetingsStatisticsComponent,\r\n  RegistrationsStatisticsComponent\r\n];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [api],\r\n  exports: api\r\n})\r\nexport class AdminStatisticsModule {}\r\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\r\n\r\nimport { User } from 'models';\r\nimport { MEMORIAL_YEAR } from 'src/app/shared/constants';\r\n\r\ninterface BereavedStatistics {\r\n  count: number;\r\n  registered: number;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-bereaveds-statistics',\r\n  templateUrl: './bereaveds-statistics.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  styleUrls: ['./bereaveds-statistics.component.scss']\r\n})\r\nexport class BereavedsStatisticsComponent {\r\n  bereavedsStatistics: BereavedStatistics;\r\n\r\n  @Input()\r\n  set bereaveds(bereaveds: User[]) {\r\n    this.bereavedsStatistics = this.calcBereavedsStatistics(bereaveds);\r\n  }\r\n\r\n  calcBereavedsStatistics(bereaveds: User[]): BereavedStatistics {\r\n    const bereavedsStatistics: BereavedStatistics = {\r\n      count: 0,\r\n      registered: 0\r\n    };\r\n\r\n    const current = new Date(MEMORIAL_YEAR, 1, 1).getTime();\r\n\r\n    for (const bereaved of bereaveds) {\r\n      if (bereaved.lastSignInDate >= current) {\r\n        bereavedsStatistics.count++;\r\n        if (bereaved.bereavedParticipation && bereaved.bereavedParticipation[MEMORIAL_YEAR]?.meetings?.length) {\r\n          bereavedsStatistics.registered++;\r\n        }\r\n      }\r\n    }\r\n\r\n    return bereavedsStatistics;\r\n  }\r\n}\r\n","<div class=\"small-heading\">אחים</div>\r\n<table class=\"table\">\r\n  <thead>\r\n    <tr>\r\n      <th>אחים</th>\r\n      <th>רשומים</th>\r\n      <th>אחוז</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <td>{{ bereavedsStatistics.count }}</td>\r\n    <td>{{ bereavedsStatistics.registered }}</td>\r\n    <td>{{ bereavedsStatistics.registered / bereavedsStatistics.count | percent }}</td>\r\n  </tbody>\r\n</table>\r\n","import { ChangeDetectionStrategy, Component, Input, Output, EventEmitter } from '@angular/core';\r\n\r\nimport { Meeting } from 'models';\r\n\r\ninterface MeetingStatistics {\r\n  count: number;\r\n  registered: number;\r\n}\r\n\r\ninterface YearlyMeetingsStatistics {\r\n  year: number;\r\n  meetingStatistics: MeetingStatistics;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-meetings-statistics',\r\n  templateUrl: './meetings-statistics.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  styleUrls: ['./meetings-statistics.component.scss']\r\n})\r\nexport class MeetingsStatisticsComponent {\r\n  yearlyMeetingsStatistics: YearlyMeetingsStatistics[];\r\n  total: number = 0;\r\n\r\n  @Input()\r\n  set meetings(meetings: Meeting[]) {\r\n    this.yearlyMeetingsStatistics = this.calcYearlyMeetingsStatistics(meetings);\r\n  }\r\n\r\n  calcYearlyMeetingsStatistics(meetings: Meeting[]): YearlyMeetingsStatistics[] {\r\n    const yearlyMeetingsStatisticsMap: {\r\n      [year: number]: MeetingStatistics;\r\n    } = {};\r\n\r\n    for (const meeting of meetings) {\r\n      const year = new Date(meeting.date).getFullYear();\r\n\r\n      this.total++;\r\n\r\n      yearlyMeetingsStatisticsMap[year] = yearlyMeetingsStatisticsMap[year] || {\r\n        count: 0,\r\n        registered: 0\r\n      };\r\n\r\n      yearlyMeetingsStatisticsMap[year].count++;\r\n\r\n      if (meeting.bereaved) {\r\n        yearlyMeetingsStatisticsMap[year].registered++;\r\n      }\r\n    }\r\n\r\n    return Object.keys(yearlyMeetingsStatisticsMap)\r\n      .map(year => ({\r\n        year: Number.parseInt(year),\r\n        meetingStatistics: yearlyMeetingsStatisticsMap[year]\r\n      }))\r\n      .sort((a, b) => b.year - a.year);\r\n  }\r\n}\r\n","<div class=\"small-heading\">מפגשים</div>\r\n<table class=\"table\">\r\n  <thead>\r\n    <tr>\r\n      <th>שנה</th>\r\n      <th>מפגשים</th>\r\n      <th>רשומים</th>\r\n      <th>אחוז</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr *ngFor=\"let year of yearlyMeetingsStatistics\">\r\n      <td>{{ year.year }}</td>\r\n      <td>{{ year.meetingStatistics.count }}</td>\r\n      <td>{{ year.meetingStatistics.registered }}</td>\r\n      <td>{{ year.meetingStatistics.registered / year.meetingStatistics.count | percent }}</td>\r\n    </tr>\r\n  </tbody>\r\n  <tfoot>\r\n    <tr>\r\n      <td>סה\"כ</td>\r\n      <td>{{ total }}</td>\r\n    </tr>\r\n  </tfoot>\r\n</table>\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { take } from 'rxjs/operators';\r\n\r\nimport { User, Meeting } from 'models';\r\nimport { DataService } from '../../../shared/services/data.service';\r\n\r\n@Component({\r\n  selector: 'app-admin-statistics-page',\r\n  templateUrl: './admin-statistics-page.component.html',\r\n  styleUrls: ['./admin-statistics-page.component.scss']\r\n})\r\nexport class AdminStatisticsPageComponent implements OnInit {\r\n  loadingUsers = true;\r\n  loadingBereaveds = true;\r\n  loadingMeetings = true;\r\n  users: User[];\r\n  bereaveds: User[];\r\n  meetings: Meeting[];\r\n  error: string;\r\n\r\n  constructor(private dataService: DataService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.dataService\r\n      .getUsers()\r\n      .pipe(take(1))\r\n      .subscribe(\r\n        users => {\r\n          this.loadingUsers = false;\r\n          this.users = users;\r\n        },\r\n        error => {\r\n          this.loadingUsers = false;\r\n          this.error = error.toString();\r\n        }\r\n      );\r\n    this.dataService\r\n      .getBereaveds()\r\n      .pipe(take(1))\r\n      .subscribe(\r\n        bereaveds => {\r\n          this.loadingBereaveds = false;\r\n          this.bereaveds = bereaveds;\r\n        },\r\n        error => {\r\n          this.loadingBereaveds = false;\r\n          this.error = error.toString();\r\n        }\r\n      );\r\n    this.dataService\r\n      .getAllMeetings()\r\n      .pipe(take(1))\r\n      .subscribe(\r\n        meetings => {\r\n          this.loadingMeetings = false;\r\n          this.meetings = meetings;\r\n        },\r\n        error => {\r\n          this.loadingMeetings = false;\r\n          this.error = error.toString();\r\n        }\r\n      );\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <div class=\"medium-heading\">סטטיסטיקות</div>\r\n  <div *ngIf=\"loadingUsers || loadingBereaveds || loadingMeetings\" class=\"loading\">\r\n    טוען..\r\n  </div>\r\n  <div *ngIf=\"!(loadingUsers || loadingBereaveds || loadingMeetings)\">\r\n    <div class=\"error-message\" *ngIf=\"error; else statisticsTables\">\r\n      {{ error }}\r\n    </div>\r\n    <ng-template #statisticsTables>\r\n      <app-active-users-statistics [users]=\"users\"></app-active-users-statistics>\r\n      <div class=\"site-divider\"></div>\r\n      <app-bereaveds-statistics [bereaveds]=\"bereaveds\"></app-bereaveds-statistics>\r\n      <div class=\"site-divider\"></div>\r\n      <app-meetings-statistics [meetings]=\"meetings\"></app-meetings-statistics>\r\n      <div class=\"site-divider\"></div>\r\n      <app-registrations-statistics [users]=\"users\"></app-registrations-statistics>\r\n    </ng-template>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { AdminStatisticsModule } from '../admin-statistics.module';\r\nimport { AdminStatisticsPageComponent } from './admin-statistics-page.component';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nconst routes = [\r\n  {\r\n    path: '',\r\n    component: AdminStatisticsPageComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [AdminStatisticsPageComponent],\r\n  imports: [CommonModule, AdminStatisticsModule, RouterModule.forChild(routes)]\r\n})\r\nexport class AdminStatisticsPageModule {}\r\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\r\n\r\nimport { User, UserRole } from 'models';\r\n\r\ntype RegisteredUsers = {\r\n  [role in UserRole]: number;\r\n};\r\n\r\ninterface YearlyRegisteredUsers {\r\n  year: number;\r\n  registeredUsers: RegisteredUsers;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-registrations-statistics',\r\n  templateUrl: './registrations-statistics.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  styleUrls: ['./registrations-statistics.component.scss']\r\n})\r\nexport class RegistrationsStatisticsComponent {\r\n  yearlyRegisteredUsers: YearlyRegisteredUsers[];\r\n  total: number = 0;\r\n\r\n  @Input()\r\n  set users(users: User[]) {\r\n    this.yearlyRegisteredUsers = this.calcYearlyRegisteredUsers(users);\r\n  }\r\n\r\n  calcYearlyRegisteredUsers(users: User[]): YearlyRegisteredUsers[] {\r\n    const yearlyRegisteredUsersMap: {\r\n      [year: number]: RegisteredUsers;\r\n    } = {};\r\n\r\n    for (const user of users) {\r\n      const year = new Date(user.registered).getFullYear();\r\n\r\n      if (!Number.isNaN(year)) {\r\n        this.total++;\r\n\r\n        yearlyRegisteredUsersMap[year] = yearlyRegisteredUsersMap[year] || {\r\n          [UserRole.bereaved]: 0,\r\n          [UserRole.host]: 0,\r\n          [UserRole.participate]: 0\r\n        };\r\n\r\n        yearlyRegisteredUsersMap[year][user.role]++;\r\n      }\r\n    }\r\n\r\n    return Object.keys(yearlyRegisteredUsersMap)\r\n      .map(year => ({\r\n        year: Number.parseInt(year),\r\n        registeredUsers: yearlyRegisteredUsersMap[year]\r\n      }))\r\n      .sort((a, b) => b.year - a.year);\r\n  }\r\n}\r\n","<div class=\"small-heading\">הרשמות</div>\r\n<table class=\"table\">\r\n  <thead>\r\n    <tr>\r\n      <th>שנה</th>\r\n      <th>משתמשים</th>\r\n      <th>אחים</th>\r\n      <th>מארחים</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr *ngFor=\"let year of yearlyRegisteredUsers\">\r\n      <td>{{ year.year }}</td>\r\n      <td>{{ year.registeredUsers.participate }}</td>\r\n      <td>{{ year.registeredUsers.bereaved }}</td>\r\n      <td>{{ year.registeredUsers.host }}</td>\r\n    </tr>\r\n  </tbody>\r\n  <tfoot>\r\n    <tr>\r\n      <td>סה\"כ</td>\r\n      <td>{{ total }}</td>\r\n    </tr>\r\n  </tfoot>\r\n</table>\r\n"],"sourceRoot":"webpack:///"}