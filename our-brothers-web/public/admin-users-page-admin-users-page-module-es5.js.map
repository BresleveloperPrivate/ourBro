{"version":3,"sources":["webpack:///src/app/admin/users/admin-users.module.ts","webpack:///src/app/admin/users/page/admin-users-page.component.ts","webpack:///src/app/admin/users/page/admin-users-page.component.html","webpack:///src/app/admin/users/page/admin-users-page.module.ts","webpack:///src/app/admin/users/sort-users/sort-users.pipe.ts","webpack:///src/app/admin/users/users-list-row/users-list-row.component.ts","webpack:///src/app/admin/users/users-list-row/users-list-row.component.html","webpack:///src/app/admin/users/users-list/users-list.component.ts","webpack:///src/app/admin/users/users-list/users-list.component.html"],"names":["api","AdminUsersModule","imports","declarations","exports","AdminUsersPageComponent","toastr","authService","dataService","httpService","utilsService","filter","error","loading","selectedMeeting$","subscriptions","console","log","push","user","subscribe","currentUser","getUsers","users","filterUsers","toString","filteredUsersIds","filteringUsers","map","id","Set","isVolunteer","window","confirm","profile","firstName","lastName","setUserVolunteer","success","deleteUser","forEach","subscription","unsubscribe","selector","templateUrl","styleUrls","routes","path","component","AdminUsersPageModule","forChild","getFirstName","getLastName","getEmail","email","getPhoneNumber","phoneNumber","valueGetter","getValue","column","SortUsersPipe","direction","slice","sort","a","b","aValue","bValue","localeCompare","name","volunteering","deleting","UsersListRowComponent","expanded","changeDetection","OnPush","UsersListComponent","sortedColumn"],"mappings":"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","file":"admin-users-page-admin-users-page-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { SelectModule } from '../../shared/components/select/select.module';\r\nimport { UsersListComponent } from './users-list/users-list.component';\r\nimport { UsersListRowComponent } from './users-list-row/users-list-row.component';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PipesModule } from '../../shared/pipes/pipes.module';\r\nimport { ListModule } from '../../shared/components/list/list.module';\r\nimport { FreeTextFilterModule } from '../../shared/components/free-text-filter/free-text-filter.module';\r\nimport { SortUsersPipe } from './sort-users/sort-users.pipe';\r\n\r\nconst api = [UsersListRowComponent, UsersListComponent];\r\n\r\n@NgModule({\r\n  imports: [SelectModule, CommonModule, PipesModule, ListModule, FreeTextFilterModule],\r\n  declarations: [api, SortUsersPipe],\r\n  exports: api\r\n})\r\nexport class AdminUsersModule {}\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\nimport { User, Meeting } from 'models';\r\nimport { UtilsService } from '../../../shared/services/utils.service';\r\nimport { DataService, VolunteeringUser } from '../../../shared/services/data.service';\r\nimport { AuthService } from '../../../shared/services/auth.service';\r\nimport { HttpService } from '../../../shared/services/http.service';\r\n\r\n@Component({\r\n  selector: 'app-admin-users-page',\r\n  templateUrl: './admin-users-page.component.html',\r\n  styleUrls: ['./admin-users-page.component.scss']\r\n})\r\nexport class AdminUsersPageComponent implements OnInit, OnDestroy {\r\n  currentUser: User;\r\n  users: User[];\r\n  filter: string = '';\r\n  filteredUsersIds: Set<string>;\r\n  error = '';\r\n  loading = true;\r\n\r\n  selectedMeeting$ = new Subject<Meeting>();\r\n  selectingUser: User;\r\n\r\n  private subscriptions: Subscription[] = [];\r\n\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private authService: AuthService,\r\n    private dataService: DataService,\r\n    private httpService: HttpService,\r\n    private utilsService: UtilsService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    console.log('hoiiiiii');\r\n    this.subscriptions.push(\r\n      this.authService.user.subscribe(currentUser => (this.currentUser = currentUser)),\r\n      this.dataService.getUsers().subscribe(\r\n        users => {\r\n          this.loading = false;\r\n          this.users = users;\r\n          this.filterUsers();\r\n        },\r\n        error => {\r\n          this.loading = false;\r\n          this.error = error.toString();\r\n        }\r\n      )\r\n    );\r\n  }\r\n\r\n  filterUsers() {\r\n    const filteredUsersIds = this.utilsService.filteringUsers(this.users, this.filter).map(({ id }) => id);\r\n    this.filteredUsersIds = new Set(filteredUsersIds);\r\n  }\r\n\r\n  volunteering({ user, isVolunteer }: VolunteeringUser) {\r\n    if (user) {\r\n      if (\r\n        window.confirm(\r\n          'האם ברוצנך ' +\r\n            (isVolunteer ? 'להגדיר' : 'להסיר') +\r\n            ' את ' +\r\n            user.profile.firstName +\r\n            ' ' +\r\n            user.profile.lastName +\r\n            ' כמתנדב/ת?'\r\n        )\r\n      ) {\r\n        this.dataService.setUserVolunteer(user, isVolunteer).subscribe(\r\n          () => {\r\n            this.toastr.success('המשתמש הוגדר כמתנדב בהצלחה.');\r\n          },\r\n          () => {\r\n            this.toastr.error('שגיאה - לא ניתן להגדיר משתמש כמתנדב. נא ליצור קשר.');\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  deleting(user: User) {\r\n    if (user) {\r\n      if (window.confirm('האם ברצונך למחוק את ' + user.profile.firstName + ' ' + user.profile.lastName + '?')) {\r\n        this.httpService.deleteUser(user).subscribe(\r\n          () => {\r\n            this.toastr.success('המשתמש נמחק בהצלחה.');\r\n          },\r\n          () => {\r\n            this.toastr.error('שגיאה - לא ניתן למחוק משתמש. נא ליצור קשר.');\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.forEach(subscription => {\r\n      subscription.unsubscribe();\r\n    });\r\n  }\r\n}\r\n","<div class=\"container users-container\">\r\n  <div class=\"medium-heading\">ניהול משתמשים</div>\r\n  <app-free-text-filter class=\"free-text-filter\" [(filter)]=\"filter\" (filterChange)=\"filterUsers()\">\r\n  </app-free-text-filter>\r\n  <div class=\"users-list-container\">\r\n    <div *ngIf=\"loading\" class=\"loading\">\r\n      טוען..\r\n    </div>\r\n    <div *ngIf=\"!loading\">\r\n      <div class=\"error-message\" *ngIf=\"error; else userList\">\r\n        {{ error }}\r\n      </div>\r\n      <ng-template #userList>\r\n        <app-users-list\r\n          [filteredUsers]=\"filteredUsersIds\"\r\n          [currentUser]=\"currentUser\"\r\n          [users]=\"users\"\r\n          (deleting)=\"deleting($event)\"\r\n          (volunteering)=\"volunteering($event)\"\r\n        ></app-users-list>\r\n      </ng-template>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { AdminUsersModule } from '../admin-users.module';\r\nimport { AdminUsersPageComponent } from './admin-users-page.component';\r\nimport { FreeTextFilterModule } from '../../../shared/components/free-text-filter/free-text-filter.module';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nconst routes = [\r\n  {\r\n    path: '',\r\n    component: AdminUsersPageComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [AdminUsersPageComponent],\r\n  imports: [AdminUsersModule, FreeTextFilterModule, CommonModule, RouterModule.forChild(routes)]\r\n})\r\nexport class AdminUsersPageModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { User } from 'models';\r\nimport { SortedColumn } from '../../../shared/components/list/list-header/list-header.types';\r\n\r\nconst getFirstName = (user: User) => (user.profile ? user.profile.firstName : '');\r\nconst getLastName = (user: User) => (user.profile ? user.profile.lastName : '');\r\nconst getEmail = (user: User) => (user.profile ? user.profile.email : '');\r\nconst getPhoneNumber = (user: User) => (user.profile ? user.profile.phoneNumber : '');\r\n\r\nconst valueGetter = {\r\n  firstName: getFirstName,\r\n  lastName: getLastName,\r\n  email: getEmail,\r\n  phoneNumber: getPhoneNumber\r\n};\r\nconst getValue = (user: User, column) => (column in valueGetter ? valueGetter[column](user) : user[column] || '');\r\n\r\n@Pipe({\r\n  name: 'sortUsers'\r\n})\r\nexport class SortUsersPipe implements PipeTransform {\r\n  transform(users: User[], { column, direction }: SortedColumn): User[] {\r\n    if (!column) {\r\n      return users;\r\n    }\r\n    return users.slice().sort((a, b) => {\r\n      let aValue = getValue(a, column);\r\n      let bValue = getValue(b, column);\r\n\r\n      if (direction === 'desc') {\r\n        [aValue, bValue] = [bValue, aValue];\r\n      }\r\n\r\n      if (typeof aValue === 'number' && typeof bValue === 'number') {\r\n        return aValue - bValue;\r\n      }\r\n\r\n      return aValue.toString().localeCompare(bValue);\r\n    });\r\n  }\r\n}\r\n","import { Component, Input, ChangeDetectionStrategy, EventEmitter, Output } from '@angular/core';\r\nimport { User } from 'models';\r\n\r\n@Component({\r\n  selector: 'app-users-list-row',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './users-list-row.component.html',\r\n  styleUrls: ['./users-list-row.component.scss']\r\n})\r\nexport class UsersListRowComponent {\r\n  @Input() currentUser: User;\r\n  @Input() user: User;\r\n\r\n  @Output() deleting = new EventEmitter<void>();\r\n  @Output() volunteering = new EventEmitter<boolean>();\r\n\r\n  expanded = false;\r\n}\r\n","<div class=\"row-container\">\r\n  <div class=\"row\">\r\n    <div class=\"col col-row-state\">\r\n      <button class=\"volunteering-button\" *ngIf=\"currentUser?.isAdmin\" (click)=\"volunteering.emit(!user.isVolunteer)\">\r\n        <div class=\"key-icon\" [ngClass]=\"{ disabled: !user.isVolunteer }\"></div>\r\n      </button>\r\n      <button class=\"trash-button\" *ngIf=\"currentUser?.isAdmin\" (click)=\"deleting.emit()\">\r\n        <div class=\"trash-icon\"></div>\r\n      </button>\r\n      <button class=\"expand-button\" *ngIf=\"!expanded\" (click)=\"expanded = true\">\r\n        <div class=\"expand-icon\"></div>\r\n      </button>\r\n      <button class=\"collapse-button\" *ngIf=\"expanded\" (click)=\"expanded = false\">\r\n        <div class=\"collapse-icon\"></div>\r\n      </button>\r\n    </div>\r\n    <div class=\"col col-name\">\r\n      {{ user.profile?.firstName }}\r\n    </div>\r\n    <div class=\"col col-name\">\r\n      {{ user.profile?.lastName }}\r\n    </div>\r\n    <div class=\"col col-communications\">\r\n      <div class=\"user-email\" *ngIf=\"user.profile?.email\">\r\n        <div class=\"email-address\">\r\n          {{ user.profile?.email }}\r\n        </div>\r\n        <div class=\"email-icon\"></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col col-communications\">\r\n      <div class=\"user-phone\" *ngIf=\"user.profile?.phoneNumber\">\r\n        <div class=\"phone-number\">\r\n          {{ user.profile.phoneNumber | phone }}\r\n        </div>\r\n        <div class=\"phone-icon\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"expanded-row\" *ngIf=\"expanded\">\r\n    <div class=\"expanded-col col-info\">\r\n      <div class=\"title\">\r\n        מספר סידורי:\r\n      </div>\r\n      <div>\r\n        {{ user.id }}\r\n      </div>\r\n      <div class=\"title\">\r\n        גיל:\r\n      </div>\r\n      <div>\r\n        {{ user.profile?.birthDay ? (user.profile.birthDay | seniority) : 'אין' }}\r\n      </div>\r\n    </div>\r\n    <div class=\"expanded-col col-dates\">\r\n      <div>\r\n        <div class=\"title\">כניסה:</div>\r\n        <div>{{ user.lastSignInDate | date: 'dd.MM.yyyy' }}</div>\r\n      </div>\r\n      <div>\r\n        <div class=\"title\">הרשמה:</div>\r\n        <div>{{ user.registered | date: 'dd.MM.yyyy' }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectionStrategy, Component, Input, Output, EventEmitter } from '@angular/core';\r\n\r\nimport { User } from 'models';\r\nimport { SortedColumn } from '../../../shared/components/list/list-header/list-header.types';\r\nimport { VolunteeringUser } from '../../../shared/services/data.service';\r\n\r\n@Component({\r\n  selector: 'app-users-list',\r\n  templateUrl: './users-list.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  styleUrls: ['./users-list.component.scss']\r\n})\r\nexport class UsersListComponent {\r\n  @Input() currentUser: User;\r\n  @Input() users: User[];\r\n  @Input() filteredUsers: Set<string>;\r\n\r\n  @Output() volunteering = new EventEmitter<VolunteeringUser>();\r\n  @Output() deleting = new EventEmitter<User>();\r\n\r\n  sortedColumn: SortedColumn = {\r\n    column: 'name',\r\n    direction: 'asc'\r\n  };\r\n}\r\n","<app-list-header [scroll]=\"filteredUsers.size > 10\" [(sort)]=\"sortedColumn\" class=\"list-header\">\r\n  <app-list-column class=\"col-row-state\"></app-list-column>\r\n  <app-list-column title=\"שם פרטי\" field=\"firstName\"></app-list-column>\r\n  <app-list-column title=\"שם משפחה\" field=\"lastName\"></app-list-column>\r\n  <app-list-column title=\"מייל\" field=\"email\"></app-list-column>\r\n  <app-list-column title=\"טלפון נייד\" field=\"phoneNumber\"></app-list-column>\r\n</app-list-header>\r\n<div class=\"users-items\">\r\n  <div *ngFor=\"let user of users | sortUsers: sortedColumn\">\r\n    <app-users-list-row\r\n      [class.hidden]=\"!filteredUsers.has(user.id)\"\r\n      [currentUser]=\"currentUser\"\r\n      [user]=\"user\"\r\n      (deleting)=\"deleting.emit(user)\"\r\n      (volunteering)=\"volunteering.emit({ user: user, isVolunteer: $event })\"\r\n    ></app-users-list-row>\r\n  </div>\r\n</div>\r\n"]}