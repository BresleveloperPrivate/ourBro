{"version":3,"sources":["webpack:///src/app/shared/components/meetings/meetings-components.module.ts","webpack:///src/app/shared/components/meetings/meetings-filters/meetings-filters.component.ts","webpack:///src/app/shared/components/meetings/meetings-filters/meetings-filters.component.html","webpack:///src/app/shared/components/meetings/meetings-filters/meetings-filters.module.ts","webpack:///src/app/shared/components/meetings/meetings-map/meetings-map-guide/meetings-map-guide.component.ts","webpack:///src/app/shared/components/meetings/meetings-map/meetings-map-guide/meetings-map-guide.component.html","webpack:///src/app/shared/components/meetings/meetings-map/meetings-map-legend/meetings-map-legend.component.ts","webpack:///src/app/shared/components/meetings/meetings-map/meetings-map-legend/meetings-map-legend.component.html","webpack:///src/app/shared/components/meetings/meetings-map/meetings-map-meeting/meetings-map-meeting.component.ts","webpack:///src/app/shared/components/meetings/meetings-map/meetings-map-meeting/meetings-map-meeting.component.html","webpack:///src/app/shared/components/meetings/meetings-map/meetings-map-navigator/meetings-map-navigator.component.ts","webpack:///src/app/shared/components/meetings/meetings-map/meetings-map-navigator/meetings-map-navigator.component.html","webpack:///src/app/shared/components/meetings/meetings-map/meetings-map.component.ts","webpack:///src/app/shared/components/meetings/meetings-map/meetings-map.component.html","webpack:///src/app/shared/components/meetings/meetings-map/meetings-map.module.ts","webpack:///src/app/shared/components/meetings/meetings.component.ts","webpack:///src/app/shared/components/meetings/meetings.component.html","webpack:///src/app/shared/components/view-toggle/view-toggle.component.ts","webpack:///src/app/shared/components/view-toggle/view-toggle.component.html","webpack:///src/app/shared/components/view-toggle/view-toggle.module.ts"],"names":["MeetingsComponentsModule","imports","declarations","exports","MeetingsFiltersComponent","viewChange","filterChange","selector","templateUrl","styleUrls","MeetingsFiltersModule","MeetingsMapGuideComponent","guideCompleted","stage","stages","started","length","emit","MeetingsMapLegendComponent","legends","changes","isBereaved","user","role","bereaved","label","iconUrl","push","joinMeeting","MeetingsMapMeetingComponent","utilsService","participationsService","year","changeDetection","OnPush","MeetingsMapNavigatorComponent","navigate","MeetingsMapComponent","isCenterCurrentLocation","showGuide","mapLatitude","mapLongitude","mapZoom","restriction","latLngBounds","east","north","south","west","trackByFn","index","item","id","centerCurrentLocation","getLocation","subscribe","location","longitude","latitude","meeting","url","isUserParticipatingMeeting","invited","count","capacity","direction","marker","lastOpenMarker","close","GEOLOCATION_ERRORS","create","observer","window","navigator","geolocation","getCurrentPosition","position","next","coords","complete","error","code","api","MeetingsMapModule","MeetingsComponent","mapShowGuide","view","filter","meetings","filterMeetings","filteredMeetings","filteringMeetings","ViewToggleComponent","ViewToggleModule"],"mappings":"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","file":"default~map-meeting-page-map-meeting-page-module~meetings-page-meetings-page-module~participate-page~b4d7d916-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { MeetingsListModule } from './meetings-list/meetings-list.module';\r\nimport { MeetingsComponent } from './meetings.component';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MeetingsMapModule } from './meetings-map/meetings-map.module';\r\nimport { MeetingsFiltersModule } from './meetings-filters/meetings-filters.module';\r\n\r\n@NgModule({\r\n  imports: [MeetingsListModule, MeetingsMapModule, MeetingsFiltersModule, CommonModule],\r\n  declarations: [MeetingsComponent],\r\n  exports: [MeetingsComponent]\r\n})\r\nexport class MeetingsComponentsModule {}\r\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\nimport { ViewOptions } from '../../view-toggle/view-toggle.component';\r\n\r\n@Component({\r\n  selector: 'app-meetings-filters',\r\n  templateUrl: './meetings-filters.component.html',\r\n  styleUrls: ['./meetings-filters.component.scss']\r\n})\r\nexport class MeetingsFiltersComponent {\r\n  @Input() view: ViewOptions;\r\n  @Output() viewChange = new EventEmitter<ViewOptions>();\r\n\r\n  @Input() filter: string;\r\n  @Output() filterChange = new EventEmitter<string>();\r\n\r\n  constructor() {}\r\n}\r\n","<div class=\"free-text-filter-col\">\r\n  <app-free-text-filter class=\"free-text-filter\" [(filter)]=\"filter\" (filterChange)=\"filterChange.emit($event)\">\r\n  </app-free-text-filter>\r\n</div>\r\n<div class=\"view-toggle-col\">\r\n  <app-view-toggle\r\n    class=\"view-toggle\"\r\n    [ngClass]=\"{ map: view === 'map' }\"\r\n    [view]=\"view\"\r\n    (viewChange)=\"viewChange.emit($event)\"\r\n  ></app-view-toggle>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { MeetingsFiltersComponent } from './meetings-filters.component';\r\nimport { FreeTextFilterModule } from '../../free-text-filter/free-text-filter.module';\r\nimport { ViewToggleModule } from '../../view-toggle/view-toggle.module';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n  declarations: [MeetingsFiltersComponent],\r\n  exports: [MeetingsFiltersComponent],\r\n  imports: [ViewToggleModule, FreeTextFilterModule, CommonModule]\r\n})\r\nexport class MeetingsFiltersModule {}\r\n","import { Component, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-meetings-map-guide',\r\n  templateUrl: './meetings-map-guide.component.html',\r\n  styleUrls: ['./meetings-map-guide.component.scss']\r\n})\r\nexport class MeetingsMapGuideComponent {\r\n  @Output() guideCompleted = new EventEmitter<void>();\r\n\r\n  stage = 0;\r\n\r\n  stages = [\r\n    'ברשותך אפשרות לחיפוש ידני מתחת',\r\n    'בחר/י את האזור הרצוי - מרכז, צפון ודרום',\r\n    'בסיום הבחירה לחצ/י על כפתור \"שיבוץ\"'\r\n  ];\r\n\r\n  started = false;\r\n\r\n  next() {\r\n    if (this.stage < this.stages.length - 1) {\r\n      this.stage++;\r\n    }\r\n  }\r\n\r\n  prev() {\r\n    if (this.stage > 0) {\r\n      this.stage--;\r\n    }\r\n  }\r\n\r\n  onGuideCompleted() {\r\n    this.started = true;\r\n    this.guideCompleted.emit();\r\n  }\r\n}\r\n","<div class=\"blocker\" *ngIf=\"!started\">\r\n  <div class=\"guide-container\">\r\n    <div class=\"stages\">\r\n      <div class=\"title\">\r\n        לפניך מפה של המקומות בהם מתקיימים מפגשים:\r\n      </div>\r\n      <div class=\"stage\">\r\n        {{ stages[stage] }}\r\n      </div>\r\n      <div class=\"indicators\">\r\n        <div class=\"next\" *ngIf=\"stage < stages.length - 1\" (click)=\"next()\">הבא >></div>\r\n        <div class=\"previous\" *ngIf=\"stage > 0\" (click)=\"prev()\">\r\n          << הקודם\r\n        </div>\r\n        <div *ngFor=\"let item of stages; index as i\" [ngClass]=\"{ indicator: true, active: i === stage }\"></div>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"stage >= stages.length - 1\" class=\"start-button\" (click)=\"onGuideCompleted()\">התחל</div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { User, UserRole } from 'models';\r\n\r\ninterface Legend {\r\n  label: string;\r\n  iconUrl: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-meetings-map-legend',\r\n  templateUrl: './meetings-map-legend.component.html',\r\n  styleUrls: ['./meetings-map-legend.component.scss']\r\n})\r\nexport class MeetingsMapLegendComponent implements OnChanges {\r\n  @Input() user: User;\r\n\r\n  legends: Legend[] = [];\r\n\r\n  constructor() {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    const isBereaved = this.user && this.user.role === UserRole.bereaved;\r\n\r\n    this.legends = [\r\n      {\r\n        label: `אדום - ${isBereaved ? 'אח/ות משובץ' : 'תפוסה מלאה'}`,\r\n        iconUrl: '/assets/img/map/meetings-map-red.svg'\r\n      }\r\n    ];\r\n\r\n    if (!isBereaved) {\r\n      this.legends.push({\r\n        label: 'אפור - סגור למוזמנים בלבד',\r\n        iconUrl: '/assets/img/map/meetings-map-grey.svg'\r\n      });\r\n    }\r\n\r\n    this.legends.push(\r\n      {\r\n        label: `ירוק - ${isBereaved ? 'פנוי' : 'פתוח לקהל'}`,\r\n        iconUrl: '/assets/img/map/meetings-map-green.svg'\r\n      },\r\n      {\r\n        label: 'כחול - השיבוץ שלי',\r\n        iconUrl: '/assets/img/map/meetings-map-blue.svg'\r\n      }\r\n    );\r\n  }\r\n}\r\n","<strong class=\"title\">מקרא:</strong>\r\n<div class=\"row\" *ngFor=\"let legend of legends\">\r\n  <img [src]=\"legend.iconUrl\" class=\"icon\" />\r\n  <div class=\"label\">{{ legend.label }}</div>\r\n</div>\r\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { Meeting, User } from 'models';\r\nimport { MEMORIAL_YEAR } from '../../../../constants';\r\nimport { ParticipationsService } from '../../../../services/participations.service';\r\nimport { UtilsService } from '../../../../services/utils.service';\r\n\r\n@Component({\r\n  selector: 'app-meetings-map-meeting',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './meetings-map-meeting.component.html',\r\n  styleUrls: ['./meetings-map-meeting.component.scss']\r\n})\r\nexport class MeetingsMapMeetingComponent {\r\n  @Input() meeting: Meeting;\r\n  @Input() user: User;\r\n\r\n  @Output() joinMeeting = new EventEmitter<void>();\r\n\r\n  year = MEMORIAL_YEAR;\r\n\r\n  constructor(public utilsService: UtilsService, public participationsService: ParticipationsService) {}\r\n}\r\n","<div class=\"title\">\r\n  <a [routerLink]=\"'/meetings/' + year + '/' + meeting.hostId + '/' + meeting.id\">\r\n    {{ meeting.title }}\r\n  </a>\r\n</div>\r\n<div class=\"body\">\r\n  <div class=\"row\">\r\n    <strong>כתובת: </strong>\r\n    <span>{{ meeting.address.formattedAddress }}</span>\r\n  </div>\r\n  <div class=\"row\">\r\n    <strong>מספר משתתפים: </strong>\r\n    <span>{{ meeting.capacity }}</span>\r\n  </div>\r\n  <div class=\"row\" *ngIf=\"meeting.audience?.length\">\r\n    <strong>קהל יעד: </strong>\r\n    <span>{{ utilsService.meetingAudienceLabels[meeting.audience] }}</span>\r\n  </div>\r\n  <div *ngIf=\"meeting.bereaved\">\r\n    <div class=\"row\">\r\n      <strong>שם האח/ות: </strong>\r\n      <span>{{ meeting.bereaved.firstName + ' ' + meeting.bereaved.lastName }}</span>\r\n    </div>\r\n    <div *ngFor=\"let slain of meeting.bereaved.slains\">\r\n      <div class=\"row\">\r\n        <strong>שם החלל: </strong>\r\n        <span>{{ slain.firstName + ' ' + slain.lastName + ' ז\"ל' }}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"participationsService.isUserHaveAllDetails(user)\" class=\"row\">\r\n    <app-meeting-join-button [user]=\"user\" [meeting]=\"meeting\" (join)=\"joinMeeting.emit()\"></app-meeting-join-button>\r\n  </div>\r\n</div>\r\n","import { Component, Output, EventEmitter } from '@angular/core';\r\n\r\nexport type NavigationDirection = 'north' | 'middle' | 'south';\r\n\r\n@Component({\r\n  selector: 'app-meetings-map-navigator',\r\n  templateUrl: './meetings-map-navigator.component.html',\r\n  styleUrls: ['./meetings-map-navigator.component.scss']\r\n})\r\nexport class MeetingsMapNavigatorComponent {\r\n  @Output() navigate = new EventEmitter<NavigationDirection>();\r\n}\r\n","<strong class=\"title\">ניווט:</strong>\r\n<button class=\"button\" (click)=\"navigate.emit('north')\">צפון</button>\r\n<button class=\"button\" (click)=\"navigate.emit('middle')\">מרכז</button>\r\n<button class=\"button\" (click)=\"navigate.emit('south')\">דרום</button>\r\n","import { Component, EventEmitter, Input, OnInit, Output, TrackByFunction } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { Meeting, User, UserRole } from 'models';\r\nimport { MapRestriction } from '@agm/core/services/google-maps-types';\r\nimport { ParticipationsService } from '../../../services/participations.service';\r\nimport { NavigationDirection } from './meetings-map-navigator/meetings-map-navigator.component';\r\nimport { AgmInfoWindow, AgmMarker } from '@agm/core';\r\n\r\n@Component({\r\n  selector: 'app-meetings-map',\r\n  templateUrl: './meetings-map.component.html',\r\n  styleUrls: ['./meetings-map.component.scss']\r\n})\r\nexport class MeetingsMapComponent implements OnInit {\r\n  @Input() meetings: Meeting[];\r\n  @Input() user: User;\r\n  @Input() isCenterCurrentLocation = true;\r\n  @Input() showGuide = false;\r\n\r\n  @Output() guideCompleted = new EventEmitter<void>();\r\n  @Output() joinMeeting = new EventEmitter<{ meeting: Meeting; user: User }>();\r\n\r\n  mapLatitude = 31.6726;\r\n  mapLongitude = 35.077028;\r\n  mapZoom = 8;\r\n  restriction: MapRestriction = {\r\n    latLngBounds: {\r\n      east: 36,\r\n      north: 33.5,\r\n      south: 29.4,\r\n      west: 34\r\n    }\r\n  };\r\n  lastOpenMarker: AgmInfoWindow;\r\n\r\n  constructor(private participationsService: ParticipationsService) {}\r\n\r\n  trackByFn: TrackByFunction<Meeting> = (index, item) => {\r\n    return item.id;\r\n  };\r\n\r\n  ngOnInit(): void {\r\n    if (this.isCenterCurrentLocation) {\r\n      this.centerCurrentLocation();\r\n    }\r\n  }\r\n\r\n  centerCurrentLocation() {\r\n    this.getLocation().subscribe(\r\n      location => {\r\n        // Israel borders\r\n        if (location.longitude > 34 && location.longitude < 36 && location.latitude > 29 && location.latitude < 33.4) {\r\n          this.mapLongitude = location.longitude;\r\n          this.mapLatitude = location.latitude;\r\n          this.mapZoom = 11;\r\n        }\r\n      },\r\n      () => {\r\n        // Failed to get current location\r\n      }\r\n    );\r\n  }\r\n\r\n  getMeetingIconUrl(meeting: Meeting) {\r\n    let url: string;\r\n\r\n    const isBereaved = this.user && this.user.role === UserRole.bereaved;\r\n\r\n    if (this.participationsService.isUserParticipatingMeeting(this.user, meeting)) {\r\n      url = '/assets/img/map/meetings-map-blue.svg';\r\n    } else if (!isBereaved && meeting.invited) {\r\n      url = '/assets/img/map/meetings-map-grey.svg';\r\n    } else if (!isBereaved && meeting.count >= meeting.capacity) {\r\n      url = '/assets/img/map/meetings-map-red.svg';\r\n    } else if (isBereaved && meeting.bereaved) {\r\n      url = '/assets/img/map/meetings-map-red.svg';\r\n    } else {\r\n      url = '/assets/img/map/meetings-map-green.svg';\r\n    }\r\n\r\n    return url;\r\n  }\r\n\r\n  navigate(direction: NavigationDirection) {\r\n    if (direction === 'north') {\r\n      this.mapLatitude = 32.84;\r\n      this.mapLongitude = 35.35;\r\n      this.mapZoom = 10;\r\n    } else if (direction === 'middle') {\r\n      this.mapLatitude = 31.93;\r\n      this.mapLongitude = 35.11;\r\n      this.mapZoom = 10;\r\n    } else if (direction === 'south') {\r\n      this.mapLatitude = 30.45;\r\n      this.mapLongitude = 34.93;\r\n      this.mapZoom = 9;\r\n    }\r\n  }\r\n\r\n  clicked(marker: AgmMarker, lastOpenMarker: AgmInfoWindow) {\r\n    if (this.lastOpenMarker) {\r\n      this.lastOpenMarker.close();\r\n    }\r\n    this.lastOpenMarker = lastOpenMarker;\r\n\r\n    this.mapLongitude = marker.longitude;\r\n    this.mapLatitude = marker.latitude + 0.1;\r\n  }\r\n\r\n  private getLocation(): Observable<{ latitude: number; longitude: number }> {\r\n    const GEOLOCATION_ERRORS = [\r\n      'Browser does not support location services',\r\n      'You have rejected access to your location',\r\n      'Unable to determine your location',\r\n      'Service timeout has been reached'\r\n    ];\r\n\r\n    return Observable.create(observer => {\r\n      if (window.navigator && window.navigator.geolocation) {\r\n        window.navigator.geolocation.getCurrentPosition(\r\n          position => {\r\n            observer.next({\r\n              latitude: position.coords.latitude,\r\n              longitude: position.coords.longitude\r\n            });\r\n            observer.complete();\r\n          },\r\n          error => observer.error(GEOLOCATION_ERRORS[+error.code])\r\n        );\r\n      } else {\r\n        observer.error(GEOLOCATION_ERRORS[0]);\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"map-container\">\r\n  <app-meetings-map-legend *ngIf=\"!showGuide\" [user]=\"user\"></app-meetings-map-legend>\r\n  <app-meetings-map-navigator *ngIf=\"!showGuide\" (navigate)=\"navigate($event)\"></app-meetings-map-navigator>\r\n  <app-meetings-map-guide *ngIf=\"meetings && showGuide\" (guideCompleted)=\"showGuide = false; guideCompleted.emit()\">\r\n  </app-meetings-map-guide>\r\n  <agm-map\r\n    class=\"map\"\r\n    [usePanning]=\"true\"\r\n    [latitude]=\"mapLatitude\"\r\n    [longitude]=\"mapLongitude\"\r\n    [zoom]=\"mapZoom\"\r\n    [minZoom]=\"7\"\r\n    [maxZoom]=\"17\"\r\n    [styles]=\"[{ featureType: 'poi', stylers: [{ visibility: 'off' }] }]\"\r\n    [restriction]=\"restriction\"\r\n    [gestureHandling]=\"'greedy'\"\r\n  >\r\n    <agm-marker-cluster\r\n      [gridSize]=\"60\"\r\n      [minimumClusterSize]=\"4\"\r\n      [styles]=\"[\r\n        {\r\n          url: '/assets/img/map/meetings-map-cluster.svg',\r\n          width: 50,\r\n          height: 50,\r\n          textSize: 1,\r\n          textColor: '#ffffff',\r\n          backgroundPosition: '0 5px'\r\n        }\r\n      ]\"\r\n    >\r\n      <ng-template ngFor let-meeting [ngForOf]=\"meetings\" let-i=\"index\" [ngForTrackBy]=\"trackByFn\">\r\n        <agm-marker\r\n          [latitude]=\"meeting.address.latitude\"\r\n          [longitude]=\"meeting.address.longitude\"\r\n          [label]=\"''\"\r\n          [iconUrl]=\"{\r\n            url: getMeetingIconUrl(meeting),\r\n            scaledSize: { height: 40, width: 40 }\r\n          }\"\r\n          [markerDraggable]=\"false\"\r\n          (markerClick)=\"clicked($event, infoWindow)\"\r\n        >\r\n          <agm-info-window #infoWindow>\r\n            <app-meetings-map-meeting\r\n              [meeting]=\"meeting\"\r\n              [user]=\"user\"\r\n              (joinMeeting)=\"joinMeeting.emit({ user: user, meeting: meeting })\"\r\n            >\r\n            </app-meetings-map-meeting>\r\n          </agm-info-window>\r\n        </agm-marker>\r\n      </ng-template>\r\n    </agm-marker-cluster>\r\n  </agm-map>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { AgmCoreModule } from '@agm/core';\r\nimport { AgmJsMarkerClustererModule } from '@agm/js-marker-clusterer';\r\nimport { MeetingsMapComponent } from './meetings-map.component';\r\nimport { MeetingsMapNavigatorComponent } from './meetings-map-navigator/meetings-map-navigator.component';\r\nimport { MeetingsMapMeetingComponent } from './meetings-map-meeting/meetings-map-meeting.component';\r\nimport { MeetingsMapLegendComponent } from './meetings-map-legend/meetings-map-legend.component';\r\nimport { MeetingsMapGuideComponent } from './meetings-map-guide/meetings-map-guide.component';\r\nimport { MeetingJoinButtonModule } from '../../meeting-join-button/meeting-join-button.module';\r\n\r\nconst api = [\r\n  MeetingsMapComponent,\r\n  MeetingsMapNavigatorComponent,\r\n  MeetingsMapMeetingComponent,\r\n  MeetingsMapLegendComponent,\r\n  MeetingsMapGuideComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: api,\r\n  exports: api,\r\n  imports: [CommonModule, AgmCoreModule, AgmJsMarkerClustererModule, MeetingJoinButtonModule, RouterModule]\r\n})\r\nexport class MeetingsMapModule {}\r\n","import { Component, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { Meeting } from 'models';\r\nimport { User } from 'firebase';\r\nimport { UtilsService } from '../../services/utils.service';\r\nimport { ViewOptions } from '../view-toggle/view-toggle.component';\r\nimport { UserMeeting } from '../../services/data.service';\r\n\r\n@Component({\r\n  selector: 'app-meetings',\r\n  templateUrl: './meetings.component.html',\r\n  styleUrls: ['./meetings.component.scss']\r\n})\r\nexport class MeetingsComponent implements OnChanges {\r\n  @Input() meetings: Meeting[];\r\n  @Input() user: User;\r\n  @Input() mapShowGuide = true;\r\n\r\n  @Output() joinMeeting = new EventEmitter<UserMeeting>();\r\n  @Output() guideCompleted = new EventEmitter<void>();\r\n\r\n  filteredMeetings: Meeting[];\r\n  view: ViewOptions = 'list';\r\n  filter: string = '';\r\n\r\n  constructor(private utilsService: UtilsService) {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.meetings) {\r\n      this.filterMeetings();\r\n    }\r\n  }\r\n\r\n  filterMeetings() {\r\n    this.filteredMeetings = this.utilsService.filteringMeetings(this.meetings, this.filter);\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <app-meetings-filters [(view)]=\"view\" [(filter)]=\"filter\" (filterChange)=\"filterMeetings()\"> </app-meetings-filters>\r\n</div>\r\n\r\n<div class=\"container meetings-container\">\r\n  <div *ngIf=\"!meetings\" class=\"loading\">\r\n    טוען..\r\n  </div>\r\n  <ng-container *ngIf=\"view === 'map'; else meetingsList\">\r\n    <app-meetings-map\r\n      [user]=\"user\"\r\n      [meetings]=\"filteredMeetings\"\r\n      [showGuide]=\"mapShowGuide\"\r\n      (joinMeeting)=\"joinMeeting.emit($event)\"\r\n      (guideCompleted)=\"guideCompleted.emit()\"\r\n    >\r\n    </app-meetings-map>\r\n  </ng-container>\r\n\r\n  <ng-template #meetingsList>\r\n    <app-meetings-list [user]=\"user\" [meetings]=\"filteredMeetings\" (joinMeeting)=\"joinMeeting.emit($event)\">\r\n    </app-meetings-list>\r\n  </ng-template>\r\n</div>\r\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\n\r\nexport type ViewOptions = 'map' | 'list';\r\n\r\n@Component({\r\n  selector: 'app-view-toggle',\r\n  templateUrl: './view-toggle.component.html',\r\n  styleUrls: ['./view-toggle.component.scss']\r\n})\r\nexport class ViewToggleComponent {\r\n  @Input() view: ViewOptions;\r\n  @Output() viewChange = new EventEmitter<ViewOptions>();\r\n}\r\n","<!-- TODO: Angular templates optimizations -->\r\n<div class=\"view-toggle-container\">\r\n  <div *ngIf=\"view === 'list'\" class=\"view-button\" (click)=\"viewChange.emit('map')\">\r\n    <div class=\"view-toggle-button disable-color\">\r\n      <div class=\"map-icon\"></div>\r\n      <div class=\"label\">\r\n        מפה\r\n      </div>\r\n    </div>\r\n    <div class=\"view-toggle-button\">\r\n      <div class=\"list-icon\"></div>\r\n      <div class=\"label blackfont\">\r\n        טבלה\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"view === 'map'\" class=\"view-button one-box\" (click)=\"viewChange.emit('list')\">\r\n    <div class=\"view-toggle-button disable-mobile\">\r\n      <div class=\"map-icon\"></div>\r\n      <div class=\"label\">\r\n        מפה\r\n      </div>\r\n    </div>\r\n    <div class=\"view-toggle-button disable-color\">\r\n      <div class=\"list-icon\"></div>\r\n      <div class=\"label blackfont\">\r\n        טבלה\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { ViewToggleComponent } from './view-toggle.component';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n  declarations: [ViewToggleComponent],\r\n  exports: [ViewToggleComponent],\r\n  imports: [CommonModule]\r\n})\r\nexport class ViewToggleModule {}\r\n"]}