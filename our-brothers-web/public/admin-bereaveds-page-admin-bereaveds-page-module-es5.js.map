{"version":3,"sources":["webpack:///src/app/admin/bereaveds/admin-bereaveds.module.ts","webpack:///src/app/admin/bereaveds/bereaveds-list-row/bereaveds-list-row.component.ts","webpack:///src/app/admin/bereaveds/bereaveds-list-row/bereaveds-list-row.component.html","webpack:///src/app/admin/bereaveds/bereaveds-list/bereaveds-list.component.ts","webpack:///src/app/admin/bereaveds/bereaveds-list/bereaveds-list.component.html","webpack:///src/app/admin/bereaveds/modal-select-meeting/modal-select-meeting.component.ts","webpack:///src/app/admin/bereaveds/modal-select-meeting/modal-select-meeting.component.html","webpack:///src/app/admin/bereaveds/page/admin-bereaveds-page.component.ts","webpack:///src/app/admin/bereaveds/page/admin-bereaveds-page.component.html","webpack:///src/app/admin/bereaveds/page/admin-bereaveds-page.module.ts","webpack:///src/app/admin/bereaveds/select-bereaved-guidance/select-bereaved-guidance.component.ts","webpack:///src/app/admin/bereaveds/select-bereaved-guidance/select-bereaved-guidance.component.html","webpack:///src/app/admin/bereaveds/select-bereaved-status/select-bereaved-status.component.ts","webpack:///src/app/admin/bereaveds/select-bereaved-status/select-bereaved-status.component.html","webpack:///src/app/admin/bereaveds/select-bereaveds-languages/select-languages/select-languages.component.ts","webpack:///src/app/admin/bereaveds/select-bereaveds-languages/select-languages/select-languages.component.html","webpack:///src/app/admin/bereaveds/sort-bereaveds/sort-bereaveds.pipe.ts"],"names":["api","AdminBereavedsModule","imports","declarations","exports","deleting","bereavedPhone","bereavedEmail","leaveBereaved","removeVolunteer","bereavedVolunteer","bereavedSlainf","bereavedSlainl","bereavedSlainDate","bereavedBirthDate","bereavedNotes","bereavedStory","BereavedsListRowComponent","participationsService","joinBereved","volunteering","bereavedStatus","bereavedGuidance","bereavedNamel","bereavedNamef","bereavedAddress","d","Date","expanded","year","sigh","currentUser","registered","normalDAte","bereaved","lastSignInDate","toISOString","split","setDate","getDate","console","log","selector","changeDetection","OnPush","templateUrl","styleUrls","BereavedsListComponent","sortedColumn","column","direction","ModalSelectMeetingComponent","utilsService","selectMeeting","filter","emit","changes","filterMeetings","filteredMeetings","filteringMeetings","meetings","closeDialog","selectedMeeting$","AdminBereavedsPageComponent","toastr","authService","dataService","httpService","renderer2","_document","agePipe","error","loading","subscriptions","push","user","subscribe","getBereaveds","bereaveds","filterBereaveds","toString","getNoBerevedMeetings","noBerevedMeetings","s","createElement","type","src","text","appendChild","body","filteredBereavedsIds","filteringBereaveds","map","id","Set","selectingBereaved","length","pipe","meeting","bereavedJoinMeeting","success","window","confirm","profile","firstName","lastName","title","bereavedLeaveMeeting","isVolunteer","setUserVolunteer","deleteUser","status","setBereavedStatus","guidance","setBereavedGuidance","birthDate","setUserBirthDate","notes","setBereavedNotes","email","setBereavedEmail","story","setBereavedStory","phone","setBereavedPhone","setBereavedNamel","setBereavedNamef","slainLastName","setBereavedSlainl","slainFirstName","setBereavedSlainf","setBereavedSlainDate","address","setUserAddress","forEach","subscription","unsubscribe","MasterArr","i","b","only2021","a","phoneNumber","formattedAddress","bereavedProfile","slains","sls","ax","x","sx","transform","deathDate","birthDay","otherLang","sDetails","options","anchor","document","querySelector","format","filename","sheet","name","from","array","convert","bereavedParticipation","usersToExcel","barevedToExcel","providers","routes","path","component","AdminBereavedsPageModule","forChild","SelectBereavedGuidanceComponent","valueChange","readonly","SelectBereavedStatusComponent","placeholder","value","done","label","embed","notEmbed","waiting","hostNoConnect","hostingHimself","notParticipate","other","SelectLanguagesComponent","english","spanish","franch","arabic","rusian","getFirstName","getLastName","getAddress","latitude","Number","MIN_VALUE","getAge","MAX_VALUE","getSeniority","getActive","getStatus","getMeetings","valueGetter","age","seniority","active","getValue","SortBereavedsPipe","slice","sort","aValue","bValue","localeCompare"],"mappings":"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","file":"admin-bereaveds-page-admin-bereaveds-page-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { SelectModule } from '../../shared/components/select/select.module';\r\nimport { BereavedsListComponent } from './bereaveds-list/bereaveds-list.component';\r\nimport { BereavedsListRowComponent } from './bereaveds-list-row/bereaveds-list-row.component';\r\nimport { SelectBereavedGuidanceComponent } from './select-bereaved-guidance/select-bereaved-guidance.component';\r\nimport { SelectBereavedStatusComponent } from './select-bereaved-status/select-bereaved-status.component';\r\nimport { PipesModule } from '../../shared/pipes/pipes.module';\r\nimport { ListModule } from '../../shared/components/list/list.module';\r\nimport { ModalSelectMeetingComponent } from './modal-select-meeting/modal-select-meeting.component';\r\nimport { FreeTextFilterModule } from '../../shared/components/free-text-filter/free-text-filter.module';\r\nimport { MeetingsListModule } from '../../shared/components/meetings/meetings-list/meetings-list.module';\r\nimport { JoinButtonModule } from '../../shared/components/join-button/join-button.module';\r\nimport { MeetingJoinButtonModule } from '../../shared/components/meeting-join-button/meeting-join-button.module';\r\nimport { RemoveButtonModule } from 'src/app/shared/components/remove-button/remove-button.module';\r\nimport { SortBereavedsPipe } from './sort-bereaveds/sort-bereaveds.pipe';\r\nimport { EditableTextModule } from 'src/app/shared/components/editable-text/editable-text.module';\r\nimport { SelectLanguagesComponent } from './select-bereaveds-languages/select-languages/select-languages.component';\r\n\r\nconst api = [\r\n  SelectBereavedStatusComponent,\r\n  SelectBereavedGuidanceComponent,\r\n  BereavedsListRowComponent,\r\n  BereavedsListComponent,\r\n  ModalSelectMeetingComponent\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    SelectModule,\r\n    PipesModule,\r\n    ListModule,\r\n    FreeTextFilterModule,\r\n    EditableTextModule,\r\n    MeetingsListModule,\r\n    JoinButtonModule,\r\n    MeetingJoinButtonModule,\r\n    RemoveButtonModule\r\n  ],\r\n  declarations: [api, SortBereavedsPipe, SelectLanguagesComponent],\r\n  exports: api\r\n})\r\nexport class AdminBereavedsModule {}\r\n","import { UserProfile } from './../../../../../../types/models/index';\r\nimport { Component, Input, Output, EventEmitter, ChangeDetectionStrategy, OnInit } from '@angular/core';\r\nimport { User, BereavedStatus, BereavedGuidance, Meeting, Address } from 'models';\r\nimport { MEMORIAL_YEAR } from '../../../shared/constants';\r\nimport { ParticipationsService } from '../../../shared/services/participations.service';\r\n\r\n@Component({\r\n  selector: 'app-bereaveds-list-row',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './bereaveds-list-row.component.html',\r\n  styleUrls: ['./bereaveds-list-row.component.scss']\r\n})\r\nexport class BereavedsListRowComponent {\r\n  @Input() currentUser: User;\r\n  @Input() bereaved: User;\r\n  @Output() joinBereved = new EventEmitter<void>();\r\n  @Output() leaveBereaved = new EventEmitter<Meeting>();\r\n  @Output() deleting = new EventEmitter<void>();\r\n  @Output() volunteering = new EventEmitter<boolean>();\r\n  @Output() bereavedStatus = new EventEmitter<BereavedStatus>();\r\n  @Output() bereavedGuidance = new EventEmitter<BereavedGuidance>();\r\n  //@Output() bereavedlang=new EventEmitter<UserProfile>();\r\n  @Output() bereavedBirthDate = new EventEmitter<number>();\r\n  @Output() bereavedNotes = new EventEmitter<string>();\r\n  @Output() bereavedEmail = new EventEmitter<string>();\r\n  @Output() bereavedStory = new EventEmitter<string>();\r\n  @Output() bereavedNamel = new EventEmitter<string>();\r\n  @Output() bereavedNamef = new EventEmitter<string>();\r\n  @Output() bereavedSlainl = new EventEmitter<string>();\r\n  @Output() bereavedSlainf = new EventEmitter<string>();\r\n  @Output() bereavedSlainDate = new EventEmitter<string>();\r\n  @Output() bereavedPhone = new EventEmitter<number>();\r\n  @Output() bereavedAddress = new EventEmitter<Address>();\r\n  @Output() bereavedVolunteer = new EventEmitter<void>();\r\n  @Output() removeVolunteer = new EventEmitter<void>();\r\n  public normalDAte;\r\n  public d = new Date();\r\n  expanded = false;\r\n  year = MEMORIAL_YEAR;\r\n  public sigh = new Date(this.currentUser?.registered);\r\n\r\n\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.normalDAte = new Date(this.bereaved.lastSignInDate).toISOString().split('T')[0];\r\n    this.sigh.setDate(this.sigh.getDate() + 2);\r\n\r\n    console.log('sigh', this.sigh);\r\n    console.log('d', this.d);\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  constructor(public participationsService: ParticipationsService) {\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  // selectAll()\r\n  // {\r\n\r\n  // }\r\n\r\n\r\n}\r\n\r\n\r\n","<div class=\"row-container\">\r\n  <div class=\"row\">\r\n    <div class=\"col col-row-state\">\r\n      <!-- <button class=\"volunteering-button\" *ngIf=\"currentUser?.isAdmin\"\r\n        (click)=\"volunteering.emit(!bereaved.isVolunteer)\">\r\n        <div class=\"key-icon\" [ngClass]=\"{ disabled: !bereaved.isVolunteer }\"></div>\r\n      </button> -->\r\n      <button class=\"trash-button\" *ngIf=\"currentUser?.isAdmin\" (click)=\"deleting.emit()\">\r\n        <div class=\"trash-icon\"></div>\r\n      </button>\r\n\r\n      <img class=\"save-image\" src=\"https://img.icons8.com/metro/26/000000/save.png\" />\r\n      <img class=\"edit-image\" src=\"https://img.icons8.com/pastel-glyph/64/000000/edit--v1.png\" />\r\n\r\n      <button class=\"expand-button\" *ngIf=\"!expanded\" (click)=\"expanded = true\">\r\n        <div class=\"expand-icon\"></div>\r\n      </button>\r\n      <button class=\"collapse-button\" *ngIf=\"expanded\" (click)=\"expanded = false\">\r\n        <div class=\"collapse-icon\"></div>\r\n      </button>\r\n    </div>\r\n    <div class=\"col col-name to-edit\">\r\n      <app-editable-text [value]=\"bereaved.profile?.firstName \" (valueChange)=\"bereavedNamef.emit($event)\"\r\n        [type]=\"'text'\"></app-editable-text>\r\n      <app-editable-text [value]=\" bereaved.profile?.lastName\" (valueChange)=\"bereavedNamel.emit($event)\"\r\n        [type]=\"'text'\"></app-editable-text>\r\n      <img class=\"star-image\"\r\n       *ngIf=\"sigh>d\" src=\"../../../../assets/img/iconfinder_star_2561394.png\" />\r\n\r\n    </div>\r\n    <div class=\"col col-communications\">\r\n      <div class=\"bereaved-phone\" *ngIf=\"bereaved.profile?.phoneNumber\">\r\n        <div class=\"phone-number to-edit\">\r\n          <app-editable-text [value]=\"bereaved?.profile?.phoneNumber|phone\" (valueChange)=\"bereavedPhone.emit($event)\"\r\n            [type]=\"'text'\"></app-editable-text>\r\n        </div>\r\n        <div class=\"phone-icon\"></div>\r\n      </div>\r\n      <div class=\"bereaved-email\" *ngIf=\"bereaved.profile?.email\">\r\n        <div class=\"email-address to-edit\">\r\n          <app-editable-text [value]=\"bereaved?.profile?.email\" (valueChange)=\"bereavedEmail.emit($event)\"\r\n            [type]=\"'text'\"></app-editable-text>\r\n        </div>\r\n        <div class=\"email-icon\"></div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <div class=\"col col-address to-edit\">\r\n      <app-editable-text [value]=\"bereaved?.profile?.address?.formattedAddress || ''\"\r\n        (valueChange)=\"bereavedAddress.emit($event)\" [type]=\"'cities'\"></app-editable-text>\r\n    </div>\r\n    <div class=\"col col-seniority\">\r\n      <div *ngFor=\"let slain of bereaved?.bereavedProfile?.slains\">\r\n        {{ slain.deathDate | seniority }}\r\n      </div>\r\n    </div>\r\n    <div class=\"col col-status\">\r\n      <app-select-bereaved-status\r\n        [value]=\"bereaved.bereavedParticipation && bereaved.bereavedParticipation[year]?.status\"\r\n        (valueChange)=\"bereavedStatus.emit($event)\"></app-select-bereaved-status>\r\n    </div>\r\n    <div class=\"col col-guidance\">\r\n      <div class=\"bereaved-otherLang\" *ngIf=\"bereaved.profile?.otherLang\">\r\n        <div class=\"otherLang\">\r\n          {{ bereaved.profile.otherLang }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col col-guidance\">\r\n      <div class=\"bereaved-active\" *ngIf=\"bereaved?.lastSignInDate\">\r\n        <div class=\"active\">\r\n          {{ normalDAte}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col bereaved-meetings\">\r\n      <div *ngFor=\"let meeting of bereaved.bereavedParticipation && bereaved.bereavedParticipation[year]?.meetings\">\r\n        <button class=\"leave-button\" (click)=\"leaveBereaved.emit(meeting)\">\r\n          <div class=\"trash-icon\"></div>\r\n        </button>\r\n        <div class=\"bereaved-meeting-title\">\r\n          <a [routerLink]=\"'/meetings/' + year + '/' + meeting.hostId + '/' + meeting.id\">\r\n            {{ meeting.title }}\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <app-join-button (join)=\"joinBereved.emit()\"></app-join-button>\r\n    </div>\r\n  </div>\r\n  <div class=\"expanded-row\" *ngIf=\"expanded\">\r\n    <div class=\"expanded-col col-info\">\r\n      <div class=\"title\">\r\n        מספר סידורי:\r\n      </div>\r\n      <div>\r\n        {{ bereaved.id }}\r\n      </div>\r\n      <div class=\"title\">\r\n        גיל:\r\n      </div>\r\n      <div>\r\n        <app-editable-text [value]=\"bereaved.profile?.birthDay ? (bereaved.profile.birthDay | seniority) : ''\"\r\n          (valueChange)=\"bereavedBirthDate.emit($event)\" [type]=\"'date'\"></app-editable-text>\r\n      </div>\r\n      <div class=\"title\">\r\n        שפות:\r\n      </div>\r\n      <div>\r\n        {{ bereaved.profile.otherLang || 'אין' }}\r\n      </div>\r\n      <div class=\"title\">\r\n        מתנדב:\r\n      </div>\r\n      <div>\r\n        <ng-template [ngIf]=\"bereaved.volunteer\" [ngIfElse]=\"volunteerJoin\">\r\n          <div>\r\n            {{ bereaved.volunteer.firstName + ' ' + bereaved.volunteer.lastName }}\r\n          </div>\r\n          <div>\r\n            {{ bereaved.volunteer.id }}\r\n          </div>\r\n          <div *ngIf=\"currentUser?.isAdmin || currentUser?.id === bereaved.volunteer.id\">\r\n            <app-remove-button (remove)=\"removeVolunteer.emit()\"></app-remove-button>\r\n          </div>\r\n        </ng-template>\r\n        <ng-template #volunteerJoin>\r\n          <app-join-button (join)=\"bereavedVolunteer.emit()\"></app-join-button>\r\n        </ng-template>\r\n      </div>\r\n    </div>\r\n    <div class=\"expanded-col col-comments\">\r\n      <div class=\"title\">\r\n        הערות:\r\n      </div>\r\n      <div class=\"content\">\r\n        <div class=\"scroll-container  to-edit\">\r\n          <app-editable-text [value]=\"bereaved.bereavedParticipation && bereaved.bereavedParticipation[year]?.notes\"\r\n            (valueChange)=\"bereavedNotes.emit($event)\" [type]=\"'textarea'\"></app-editable-text>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"expanded-col col-slains\">\r\n      <div class=\"title\">\r\n        פרטי חלל:\r\n      </div>\r\n      <div class=\"content\">\r\n        <div *ngFor=\"let slain of bereaved.bereavedProfile?.slains\">\r\n          <div class=\"to-edit\">\r\n            <app-editable-text [value]=\" slain.firstName  \" (valueChange)=\"bereavedSlainf.emit($event)\" [type]=\"'text'\">\r\n            </app-editable-text>\r\n          </div>\r\n          <div class=\"to-edit\">\r\n            <app-editable-text [value]=\" slain.lastName  \" (valueChange)=\"bereavedSlainl.emit($event)\" [type]=\"'text'\">\r\n            </app-editable-text>\r\n          </div>\r\n          <div class=\"to-edit\">\r\n            <!-- <span>{{ slain.deathDate | date: 'dd.MM.yyyy' }}</span> -->\r\n            <app-editable-text [value]=\" slain.deathDate | date: 'dd.MM.yyyy'\"\r\n              (valueChange)=\"bereavedSlainDate.emit($event)\" [type]=\"'date'\"></app-editable-text>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"expanded-col col-story\">\r\n      <div class=\"title\">\r\n        הסיפור שלי:\r\n      </div>\r\n      <div class=\"content\">\r\n        <div class=\"scroll-container\">\r\n          <div class=\"to-edit\">\r\n            <!-- <span>{{ slain.deathDate | date: 'dd.MM.yyyy' }}</span> -->\r\n            <app-editable-text [value]=\" bereaved.bereavedProfile?.story \" (valueChange)=\"bereavedStory.emit($event)\"\r\n              [type]=\"'textarea'\"></app-editable-text>\r\n          </div>\r\n          <!-- {{ bereaved.bereavedProfile?.story }} -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"expanded-col col-dates\">\r\n      <div>\r\n        <div class=\"title\">כניסה:</div>\r\n        <div>{{ bereaved.lastSignInDate | date: 'dd.MM.yyyy' }}</div>\r\n      </div>\r\n      <div>\r\n        <div class=\"title\">הרשמה:</div>\r\n        <div>{{ bereaved.registered | date: 'dd.MM.yyyy' }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import { MenuItem } from './../../../shell/header/models';\r\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { User } from 'models';\r\nimport { MEMORIAL_YEAR } from '../../../shared/constants';\r\nimport {\r\n  UpdateBereavedStatus,\r\n  UserMeeting,\r\n  VolunteeringUser,\r\n  UpdateBereavedNotes,\r\n  UpdateBereavedEmail,\r\n  UpdateBereavedStory,\r\n  UpdateBereavedNamel,\r\n  UpdateBereavedNamef,\r\n  UpdateBereavedSlainl,\r\n  UpdateBereavedSlainf,\r\n  UpdateBereavedSlainDate,\r\n  UpdateBereavedPhone,\r\n  UpdateUserAddress,\r\n  UpdateBereavedGuidance,\r\n  UpdateUserBirthDate,\r\n  BereavedVolunteer\r\n} from '../../../shared/services/data.service';\r\nimport { SortedColumn } from '../../../shared/components/list/list-header/list-header.types';\r\n\r\n\r\n@Component({\r\n  selector: 'app-bereaveds-list',\r\n  templateUrl: './bereaveds-list.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  styleUrls: ['./bereaveds-list.component.scss']\r\n})\r\nexport class BereavedsListComponent {\r\n\r\n  @Input() currentUser: User;\r\n  @Input() bereaveds: User[];\r\n  @Input() filteredBereaveds: Set<string>;\r\n  @Output() joinBereved = new EventEmitter<User>();\r\n  @Output() leaveBereaved = new EventEmitter<UserMeeting>();\r\n  @Output() volunteering = new EventEmitter<VolunteeringUser>();\r\n  @Output() deleting = new EventEmitter<User>();\r\n  @Output() bereavedStatus = new EventEmitter<UpdateBereavedStatus>();\r\n  @Output() bereavedGuidance = new EventEmitter<UpdateBereavedGuidance>();\r\n  @Output() bereavedBirthDate = new EventEmitter<UpdateUserBirthDate>();\r\n  @Output() bereavedNotes = new EventEmitter<UpdateBereavedNotes>();\r\n  @Output() bereavedEmail = new EventEmitter<UpdateBereavedEmail>();\r\n  @Output() bereavedStory = new EventEmitter<UpdateBereavedStory>();\r\n  @Output() bereavedNamel = new EventEmitter<UpdateBereavedNamel>();\r\n  @Output() bereavedNamef = new EventEmitter<UpdateBereavedNamef>();\r\n  @Output() bereavedSlainl = new EventEmitter<UpdateBereavedSlainl>();\r\n  @Output() bereavedSlainf = new EventEmitter<UpdateBereavedSlainf>();\r\n  @Output() bereavedSlainDate = new EventEmitter<UpdateBereavedSlainDate>();\r\n  @Output() bereavedPhone = new EventEmitter<UpdateBereavedPhone>();\r\n  @Output() bereavedAddress = new EventEmitter<UpdateUserAddress>();\r\n  @Output() bereavedVolunteer = new EventEmitter<BereavedVolunteer>();\r\n  @Output() removeVolunteer = new EventEmitter<User>();\r\n\r\n\r\n  year = MEMORIAL_YEAR;\r\n  sortedColumn: SortedColumn = {\r\n    column: 'name',\r\n    direction: 'asc'\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n","<app-list-header [scroll]=\"filteredBereaveds.size > 10\" [(sort)]=\"sortedColumn\" class=\"list-header\">\r\n  <app-list-column class=\"col-row-state\"></app-list-column>\r\n  <app-list-column title=\"שם פרטי\" field=\"firstName\"></app-list-column>\r\n  <app-list-column title=\"שם משפחה\" field=\"lastName\"></app-list-column>\r\n  <app-list-column title=\"מקום מגורים\" field=\"address\"></app-list-column>\r\n  <app-list-column title=\"ותק בשכול\" field=\"seniority\" class=\"col-seniority\"></app-list-column>\r\n\r\n  <!-- <app-list-column class=\"drop-down-menu col-status\" title=\"סטטוס\" field=\"status\"></app-list-column> -->\r\n  <app-select-bereaved-status></app-select-bereaved-status>\r\n  <!-- <app-list-column class=\"drop-down-menu col-status\" title=\"מרצה בשפות\" field=\"languages\">\r\n  </app-list-column> -->\r\n  <app-select-languages placeholder=\"מרצה בשפות\"></app-select-languages>\r\n  <app-list-column title=\"פעיל-לא פעיל\" field=\"active\" class=\"col-seniority\"></app-list-column>\r\n\r\n  <!-- <app-list-column title=\"שיבוץ\" field=\"meetings\"></app-list-column> -->\r\n</app-list-header>\r\n\r\n<div class=\"tr\">\r\n  <div class=\"empty intr\"></div>\r\n  <div class=\"name intr\">שם מלא</div>\r\n  <div class=\"conect intr\">פרטי התקשרות</div>\r\n  <div class=\"address intr\">מקום מגורים</div>\r\n  <div class=\"slain intr \">ותק בשכול</div>\r\n  <div class=\"status intr\">סטטוס</div>\r\n\r\n  <div class=\"status intr\">מרצה בשפות</div>\r\n  <div class=\"status intr\"> פעיל/ לא פעיל</div>\r\n\r\n  <div class=\"join intr\">שיבוץ</div>\r\n</div>\r\n\r\n<div class=\"bereaved-items\">\r\n  <div *ngFor=\"let bereaved of bereaveds | sortBereaveds: sortedColumn:year\">\r\n    <app-bereaveds-list-row [class.hidden]=\"!filteredBereaveds.has(bereaved.id)\" [bereaved]=\"bereaved\"\r\n      [currentUser]=\"currentUser\" (joinBereved)=\"joinBereved.emit(bereaved)\"\r\n      (leaveBereaved)=\"leaveBereaved.emit({ user: bereaved, meeting: $event })\" (deleting)=\"deleting.emit(bereaved)\"\r\n      (volunteering)=\"volunteering.emit({ user: bereaved, isVolunteer: $event })\"\r\n      (bereavedStatus)=\"bereavedStatus.emit({ bereaved: bereaved, status: $event })\"\r\n      (bereavedGuidance)=\"bereavedGuidance.emit({ bereaved: bereaved, guidance: $event })\"\r\n      (bereavedBirthDate)=\"bereavedBirthDate.emit({ user: bereaved, birthDate: $event })\"\r\n      (bereavedNotes)=\"bereavedNotes.emit({ bereaved: bereaved, notes: $event })\"\r\n      (bereavedEmail)=\"bereavedEmail.emit({ bereaved: bereaved, email: $event })\"\r\n      (bereavedStory)=\"bereavedStory.emit({ bereaved: bereaved, story: $event })\"\r\n      (bereavedPhone)=\"bereavedPhone.emit({ bereaved: bereaved, phone: $event })\"\r\n      (bereavedAddress)=\"bereavedAddress.emit({ user: bereaved, address: $event })\"\r\n      (bereavedVolunteer)=\"bereavedVolunteer.emit({ user: currentUser, bereaved: bereaved })\"\r\n      (removeVolunteer)=\"removeVolunteer.emit(bereaved)\"\r\n      (bereavedNamef)=\"bereavedNamef.emit({ bereaved: bereaved, firstName: $event})\"\r\n      (bereavedNamel)=\"bereavedNamel.emit({ bereaved: bereaved, lastName: $event})\"\r\n      (bereavedSlainDate)=\"bereavedSlainDate.emit({ bereaved: bereaved, bereavedSlainDate: $event })\"\r\n      (bereavedSlainl)=\"bereavedSlainl.emit({ bereaved: bereaved, slainLastName: $event })\"\r\n      (bereavedSlainf)=\"bereavedSlainf.emit({ bereaved: bereaved, slainFirstName: $event })\">\r\n\r\n\r\n\r\n    </app-bereaveds-list-row>\r\n  </div>\r\n</div>","import { Component, Input, EventEmitter, Output, OnChanges, SimpleChanges, HostListener } from '@angular/core';\r\nimport { Meeting, User } from 'models';\r\nimport { UtilsService } from '../../../shared/services/utils.service';\r\n\r\n@Component({\r\n  selector: 'app-modal-select-meeting',\r\n  templateUrl: './modal-select-meeting.component.html',\r\n  styleUrls: ['./modal-select-meeting.component.scss']\r\n})\r\nexport class ModalSelectMeetingComponent implements OnChanges {\r\n  @Input() bereaved: User;\r\n  @Input() meetings: Meeting[];\r\n  @Output() selectMeeting = new EventEmitter<Meeting>();\r\n\r\n  @HostListener('document:keydown.esc')\r\n  closeDialog() {\r\n    this.selectMeeting.emit(null);\r\n  }\r\n\r\n  filter: string = '';\r\n  filteredMeetings: Meeting[];\r\n\r\n  constructor(private utilsService: UtilsService) {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.filterMeetings(this.filter);\r\n  }\r\n\r\n  filterMeetings(filter: string) {\r\n    this.filteredMeetings = this.utilsService.filteringMeetings(this.meetings, filter);\r\n  }\r\n}\r\n","<div class=\"blocker blocker-fixed\">\r\n  <div class=\"modal-container\">\r\n    <div class=\"modal-header\">\r\n      שבץ את\r\n      {{ bereaved.profile.firstName + ' ' + bereaved.profile.lastName }}\r\n    </div>\r\n    <div class=\"free-text-filter-container\">\r\n      <app-free-text-filter class=\"free-text-filter\" [(filter)]=\"filter\" (filterChange)=\"filterMeetings($event)\">\r\n      </app-free-text-filter>\r\n    </div>\r\n    <div class=\"meetings-list\">\r\n      <app-meetings-list [meetings]=\"filteredMeetings\" [user]=\"bereaved\" (joinMeeting)=\"selectMeeting.emit($event)\">\r\n      </app-meetings-list>\r\n    </div>\r\n    <div class=\"cancel-button-container\">\r\n      <button class=\"cancel-button\" (click)=\"closeDialog()\">\r\n        ביטול\r\n      </button>\r\n    </div>\r\n    <div class=\"close-button fas fa-times\" (click)=\"closeDialog()\"></div>\r\n  </div>\r\n</div>\r\n","\r\nimport { Component, OnInit, OnDestroy, Renderer2, Inject } from '@angular/core';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { take } from 'rxjs/operators';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\nimport { User, Meeting, BaseParticipation } from 'models';\r\nimport { MEMORIAL_YEAR } from '../../../shared/constants';\r\nimport { AuthService } from '../../../shared/services/auth.service';\r\nimport {\r\n  DataService,\r\n  UserMeeting,\r\n  VolunteeringUser,\r\n  UpdateBereavedStatus,\r\n  UpdateBereavedGuidance,\r\n  UpdateBereavedNotes,\r\n  UpdateBereavedEmail,\r\n  UpdateBereavedStory,\r\n  UpdateBereavedNamef,\r\n  UpdateBereavedNamel,\r\n  UpdateBereavedSlainl,\r\n  UpdateBereavedSlainf,\r\n  UpdateBereavedSlainDate,\r\n  UpdateBereavedPhone,\r\n  UpdateUserAddress,\r\n  UpdateUserBirthDate,\r\n  BereavedVolunteer\r\n} from '../../../shared/services/data.service';\r\nimport { UtilsService } from '../../../shared/services/utils.service';\r\nimport { HttpService } from '../../../shared/services/http.service';\r\nimport { DOCUMENT } from '@angular/common';\r\n\r\nimport { SeniorityPipe } from '../../../shared/pipes/seniority.pipe';\r\n\r\n@Component({\r\n  selector: 'app-admin-bereaveds-page',\r\n  templateUrl: './admin-bereaveds-page.component.html',\r\n  styleUrls: ['./admin-bereaveds-page.component.scss'],\r\n  providers: [SeniorityPipe]\r\n})\r\nexport class AdminBereavedsPageComponent implements OnInit, OnDestroy {\r\n  currentUser: User;\r\n  bereaveds: User[];\r\n  noBerevedMeetings: Meeting[];\r\n  filter: string = '';\r\n  filteredBereavedsIds: Set<string>;\r\n  year = MEMORIAL_YEAR;\r\n  error = '';\r\n  loading = true;\r\n  selectedMeeting$ = new Subject<Meeting>();\r\n  selectingBereaved: User;\r\n  // public minDate = MIN_DATE.toISOString().split('T')[0];\r\n  // public maxDate = MAX_DATE.toISOString().split('T')[0];\r\n\r\n  private subscriptions: Subscription[] = [];\r\n  only2021: boolean\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private authService: AuthService,\r\n    private dataService: DataService,\r\n    private httpService: HttpService,\r\n    private utilsService: UtilsService,\r\n\r\n    public renderer2: Renderer2,\r\n    @Inject(DOCUMENT) private _document,\r\n    private agePipe: SeniorityPipe\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.subscriptions.push(\r\n      this.authService.user.subscribe(currentUser => {\r\n        this.currentUser = currentUser;\r\n      }),\r\n      this.dataService.getBereaveds().subscribe(\r\n        bereaveds => {\r\n          this.loading = false;\r\n          this.bereaveds = bereaveds;\r\n          this.filterBereaveds();\r\n        },\r\n        error => {\r\n          this.loading = false;\r\n          this.error = error.toString();\r\n        }\r\n      ),\r\n      this.dataService.getNoBerevedMeetings().subscribe(noBerevedMeetings => {\r\n        this.noBerevedMeetings = noBerevedMeetings;\r\n      })\r\n    );\r\n\r\n    const s = this.renderer2.createElement('script');\r\n    s.type = 'text/javascript';\r\n    s.src = 'https://cdn.jsdelivr.net/npm/excellentexport@3.4.3/dist/excellentexport.min.js';\r\n    s.text = ``;\r\n    this.renderer2.appendChild(this._document.body, s);\r\n  }\r\n\r\n  filterBereaveds() {\r\n    const filteredBereavedsIds = this.utilsService.filteringBereaveds(this.bereaveds, this.filter).map(({ id }) => id);\r\n    this.filteredBereavedsIds = new Set(filteredBereavedsIds);\r\n  }\r\n\r\n  joinBereved(bereaved: User) {\r\n    console.log('vbhnjkm,l', bereaved);\r\n\r\n    this.selectingBereaved = bereaved;\r\n    if (this.noBerevedMeetings && this.noBerevedMeetings.length) {\r\n      this.selectedMeeting$.pipe(take(1)).subscribe(meeting => {\r\n        this.selectingBereaved = null;\r\n        if (meeting) {\r\n          this.dataService.bereavedJoinMeeting(bereaved, meeting).subscribe(\r\n            () => {\r\n              this.toastr.success('האח/ות שובץ בהצלחה');\r\n            },\r\n            () => {\r\n              this.toastr.error('שגיאה - לא ניתן לשבץ למפגש. נא ליצור קשר.');\r\n            }\r\n          );\r\n        }\r\n      });\r\n    } else {\r\n      this.selectingBereaved = null;\r\n    }\r\n  }\r\n\r\n  leaveBereaved({ user, meeting }: UserMeeting) {\r\n    if (user && meeting) {\r\n      if (\r\n        window.confirm(\r\n          'האם ברצונך להסיר את ' +\r\n          user.profile.firstName +\r\n          ' ' +\r\n          user.profile.lastName +\r\n          ' מהמפגש ' +\r\n          meeting.title +\r\n          '?'\r\n        )\r\n      ) {\r\n        this.dataService.bereavedLeaveMeeting(user, meeting).subscribe(\r\n          () => {\r\n            this.toastr.success('המשתמש הוסר בהצלחה.');\r\n          },\r\n          () => {\r\n            this.toastr.error('שגיאה - לא ניתן להסיר משתמש. נא ליצור קשר.');\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  volunteering({ user, isVolunteer }: VolunteeringUser) {\r\n    if (user) {\r\n      if (\r\n        window.confirm(\r\n          'האם ברוצנך ' +\r\n          (isVolunteer ? 'להגדיר' : 'להסיר') +\r\n          ' את ' +\r\n          user.profile.firstName +\r\n          ' ' +\r\n          user.profile.lastName +\r\n          ' כמתנדב/ת?'\r\n        )\r\n      ) {\r\n        this.dataService.setUserVolunteer(user, isVolunteer).subscribe(\r\n          () => {\r\n            this.toastr.success('המשתמש הוגדר כמתנדב בהצלחה.');\r\n          },\r\n          () => {\r\n            this.toastr.error('שגיאה - לא ניתן להגדיר משתמש כמתנדב. נא ליצור קשר.');\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  deleting(user: User) {\r\n    if (user) {\r\n      if (window.confirm('האם ברצונך למחוק את ' + user.profile.firstName + ' ' + user.profile.lastName + '?')) {\r\n        this.httpService.deleteUser(user).subscribe(\r\n          () => {\r\n            this.toastr.success('המשתמש נמחק בהצלחה.');\r\n          },\r\n          () => {\r\n            this.toastr.error('שגיאה - לא ניתן למחוק משתמש. נא ליצור קשר.');\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  bereavedStatus({ bereaved, status }: UpdateBereavedStatus) {\r\n    if (bereaved) {\r\n      this.dataService.setBereavedStatus(bereaved, status);\r\n    }\r\n  }\r\n\r\n  bereavedGuidance({ bereaved, guidance }: UpdateBereavedGuidance) {\r\n    if (bereaved) {\r\n      this.dataService.setBereavedGuidance(bereaved, guidance);\r\n    }\r\n  }\r\n\r\n  bereavedBirthDate({ user, birthDate }: UpdateUserBirthDate) {\r\n    if (user) {\r\n      this.dataService.setUserBirthDate(user, birthDate);\r\n    }\r\n  }\r\n\r\n  bereavedNotes({ bereaved, notes }: UpdateBereavedNotes) {\r\n    if (bereaved) {\r\n      this.dataService.setBereavedNotes(bereaved, notes);\r\n    }\r\n  }\r\n\r\n  bereavedEmail({ bereaved, email }: UpdateBereavedEmail) {\r\n    if (bereaved) {\r\n      this.dataService.setBereavedEmail(bereaved, email);\r\n    }\r\n  } bereavedStory({ bereaved, story }: UpdateBereavedStory) {\r\n    if (bereaved) {\r\n      this.dataService.setBereavedStory(bereaved, story);\r\n    }\r\n  }\r\n  bereavedPhone({ bereaved, phone }: UpdateBereavedPhone) {\r\n    if (bereaved) {\r\n      this.dataService.setBereavedPhone(bereaved, phone);\r\n    }\r\n  }\r\n\r\n  bereavedNamel({ bereaved, lastName }: UpdateBereavedNamel) {\r\n    if (bereaved) {\r\n      this.dataService.setBereavedNamel(bereaved, lastName);\r\n    }\r\n  }\r\n  bereavedNamef({ bereaved, firstName }: UpdateBereavedNamef) {\r\n    if (bereaved) {\r\n      this.dataService.setBereavedNamef(bereaved, firstName);\r\n    }\r\n  }\r\n  bereavedSlainl({ bereaved, slainLastName }: UpdateBereavedSlainl) {\r\n    if (bereaved) {\r\n      this.dataService.setBereavedSlainl(bereaved, slainLastName);\r\n    }\r\n  }\r\n  bereavedSlainf({ bereaved, slainFirstName }: UpdateBereavedSlainf) {\r\n    if (bereaved) {\r\n      this.dataService.setBereavedSlainf(bereaved, slainFirstName);\r\n    }\r\n  }\r\n\r\n  bereavedSlainDate({ bereaved, bereavedSlainDate }: UpdateBereavedSlainDate) {\r\n    if (bereaved) {\r\n      this.dataService.setBereavedSlainDate(bereaved, bereavedSlainDate);\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  bereavedAddress({ user, address }: UpdateUserAddress) {\r\n    if (user) {\r\n      this.dataService.setUserAddress(user, address);\r\n    }\r\n  }\r\n\r\n  bereavedVolunteer({ user, bereaved }: BereavedVolunteer) {\r\n    if (user) {\r\n      this.dataService.bereavedVolunteer(user, bereaved);\r\n    }\r\n  }\r\n\r\n  removeVolunteer(bereaved: User) {\r\n    if (bereaved) {\r\n      this.dataService.removeVolunteer(bereaved);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.forEach(subscription => {\r\n      subscription.unsubscribe();\r\n    });\r\n  }\r\n\r\n  usersToExcel() {\r\n    //let data = this.bereaveds;\r\n\r\n    let MasterArr = [\r\n      ['first name', 'last name', 'phone', 'email', 'last enter', 'city', 'yearsLost', 'age', 'languages', 'fallenDetails', 'myStory']\r\n    ];\r\n    for (let i = 0; i < this.bereaveds.length; i++) {\r\n      let b = this.bereaveds[i];\r\n      // console.log('bbbbbbbbbbbb', b.lastSignInDate);\r\n\r\n      // let e = new Date(b?.lastSignInDate).toISOString().split('T')[0] || '';\r\n      //enter=new Date(this.currentUser?.lastSignInDate).toISOString().split('T')[0];\r\n\r\n      //new Date(b?.lastSignInDate).toISOString().split('T')[0];\r\n      if (this.only2021 && this.only2021 === true) {\r\n        if (!b.lastSignInDate || b.lastSignInDate < 1609459200000) {\r\n\r\n          continue;\r\n        }\r\n      }\r\n\r\n\r\n      let a = [];\r\n      if (b.profile) {\r\n        // var e = new Date(b?.lastSignInDate)\r\n        // var s=undefined\r\n        a.push(b.profile.firstName);\r\n        a.push(b.profile.lastName);\r\n        a.push(b.profile.phoneNumber);\r\n\r\n        a.push(b.profile.email);\r\n\r\n        a.push(new Date(b.lastSignInDate));\r\n        a.push(b.profile.address && b.profile.address.formattedAddress ? b.profile.address.formattedAddress : '');\r\n\r\n        if (b.bereavedProfile && b.bereavedProfile.slains) {\r\n          let sls = b.bereavedProfile.slains;\r\n          let ax = [...a];\r\n\r\n          for (let x = 0; x < sls.length; x++) {\r\n            const sx = sls[x];\r\n            ax.push(this.agePipe.transform(sx.deathDate));\r\n            ax.push(this.agePipe.transform(b.profile.birthDay));\r\n            ax.push(b.profile.otherLang ? b.profile.otherLang : '');\r\n            let sDetails = sx.firstName + ' ' + sx.lastName + ' ז\"ל' + '  ---  ' + this.agePipe.transform(sx.deathDate);\r\n            ax.push(sDetails);\r\n            ax.push(b.bereavedProfile && b.bereavedProfile.story ? b.bereavedProfile.story : '');\r\n\r\n            MasterArr.push(ax);\r\n          }\r\n        } else {\r\n          a.push('');\r\n          a.push('');\r\n          a.push('');\r\n          a.push('');\r\n          a.push('');\r\n        }\r\n      }\r\n    }\r\n\r\n    let options = {\r\n      anchor: document.querySelector('#excelALL'),\r\n      format: 'xlsx',\r\n      filename: 'users-noy.xlsx'\r\n    };\r\n\r\n    console.log(MasterArr);\r\n    let sheet = {\r\n      //name: 'Sheet 1', // Sheet name\r\n      name: 'users-noy.xlsx',\r\n      from: {\r\n        //table: String/Element, // Table ID or table element\r\n        array: MasterArr // Array with data\r\n        //arrayHasHeader: true, // Array first row is the header // not in use\r\n        //removeColumns: [...], // Array of column indexes (from 0)\r\n        //filterRowFn: function(row) {return true} // Return true to keep\r\n      }\r\n    };\r\n\r\n    /*\r\n     */\r\n\r\n    window['ExcellentExport'].convert(options, [sheet], true);\r\n    //ExcellentExport.convert(options, [sheet], true);\r\n  }\r\n\r\n\r\n\r\n  barevedToExcel() {\r\n    //let data = this.bereaveds;\r\n    this.only2021 = true;\r\n    let MasterArr = [\r\n      ['first name', 'last name', 'phone', 'email', ' last enter', 'bareved host', 'status ', 'city', 'yearsLost', 'age', 'languages', 'fallenDetails', 'myStory']\r\n    ];\r\n    for (let i = 0; i < this.bereaveds.length; i++) {\r\n      let b = this.bereaveds[i];\r\n\r\n      if (this.only2021 && this.only2021 === true) {\r\n        if (!b.lastSignInDate || b.lastSignInDate < 1609459200000) {\r\n\r\n          continue;\r\n        }\r\n      }\r\n\r\n\r\n      let a = [];\r\n      if (b.profile) {\r\n\r\n\r\n        a.push(b.profile.firstName);\r\n        a.push(b.profile.lastName);\r\n        a.push(b.profile.phoneNumber);\r\n        a.push(b.profile.email);\r\n        a.push(new Date(b.lastSignInDate));\r\n        if (b?.bereavedParticipation && b.bereavedParticipation[this.year]) {\r\n          // a.push(b?.bereavedParticipation[this.year]?.meetings);\r\n          // console.log(b?.bereavedParticipation[this.year]?.meetings);\r\n          a.push('yes')\r\n        }\r\n        else {\r\n          a.push('no')\r\n        }\r\n        if (b?.bereavedParticipation && b.bereavedParticipation[this.year] && b.bereavedParticipation[this.year].meetings) {\r\n          a.push(b.bereavedParticipation[this.year].status);\r\n          // console.log(b?.bereavedParticipation[this.year]?.meetings);\r\n        }\r\n        else {\r\n          a.push('')\r\n        }\r\n\r\n        a.push(b.profile.address && b.profile.address.formattedAddress ? b.profile.address.formattedAddress : '');\r\n\r\n        if (b.bereavedProfile && b.bereavedProfile.slains) {\r\n          let sls = b.bereavedProfile.slains;\r\n          let ax = [...a];\r\n\r\n          for (let x = 0; x < sls.length; x++) {\r\n            const sx = sls[x];\r\n            ax.push(this.agePipe.transform(sx.deathDate));\r\n            ax.push(this.agePipe.transform(b.profile.birthDay));\r\n            ax.push(b.profile.otherLang ? b.profile.otherLang : '');\r\n            //  ax.push(b.bereavedParticipation)\r\n\r\n            let sDetails = sx.firstName + ' ' + sx.lastName + ' ז\"ל' + '  ---  ' + this.agePipe.transform(sx.deathDate);\r\n            ax.push(sDetails);\r\n            ax.push(b.bereavedProfile && b.bereavedProfile.story ? b.bereavedProfile.story : '');\r\n\r\n            MasterArr.push(ax);\r\n          }\r\n        } else {\r\n          a.push('');\r\n          a.push('');\r\n          a.push('');\r\n          a.push('');\r\n          a.push('');\r\n          a.push('');\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n    let options = {\r\n      anchor: document.querySelector('#excel'),\r\n      format: 'xlsx',\r\n      filename: 'users-noy.xlsx'\r\n    };\r\n\r\n    console.log(MasterArr);\r\n    let sheet = {\r\n      //name: 'Sheet 1', // Sheet name\r\n      name: 'users-noy.xlsx',\r\n      from: {\r\n        //table: String/Element, // Table ID or table element\r\n        array: MasterArr // Array with data\r\n        //arrayHasHeader: true, // Array first row is the header // not in use\r\n        //removeColumns: [...], // Array of column indexes (from 0)\r\n        //filterRowFn: function(row) {return true} // Return true to keep\r\n      }\r\n    };\r\n\r\n    /*\r\n     */\r\n\r\n    window['ExcellentExport'].convert(options, [sheet], true);\r\n    //ExcellentExport.convert(options, [sheet], true);\r\n  }\r\n}\r\n","<app-modal-select-meeting *ngIf=\"!!selectingBereaved\" [meetings]=\"noBerevedMeetings\" [bereaved]=\"selectingBereaved\"\r\n  (selectMeeting)=\"selectedMeeting$.next($event)\">\r\n</app-modal-select-meeting>\r\n<div class=\"medium-heading\">\r\n  ניהול אחים\r\n  <a id=\"excelALL\" class=\"site-link\" href=\"#\" (click)=\"usersToExcel()\">אקסל כל משתמשי האתר</a>\r\n</div>\r\n\r\n<div class=\"container-fluid bereaveds-container\">\r\n  <app-free-text-filter class=\"free-text-filter\" [(filter)]=\"filter\" (filterChange)=\"filterBereaveds()\">\r\n  </app-free-text-filter>\r\n  <div class=\"list-icon\">\r\n    <img class=\"size-icon\" src=\" ../../../../../../assets/img/trash.svg\" />\r\n    <img class=\"size-icon-email\" src=\"../../../../assets/img/mail.png\" />\r\n    <img class=\"size-icon\" src=\"../../../../assets/img/whatsapp.svg\" />\r\n    <img class=\"vvv\" src=\"https://img.icons8.com/metro/26/000000/save.png\" />\r\n\r\n    <a id=\"excel\" href=\"#\" (click)=\"barevedToExcel()\">\r\n      <svg class=\"vvv\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" width=\"24\" height=\"24\" viewBox=\"0 0 172 172\"\r\n        style=\" fill:#000000;\">\r\n        <g fill=\"none\" fill-rule=\"nonzero\" stroke=\"none\" stroke-width=\"1\" stroke-linecap=\"butt\" stroke-linejoin=\"miter\"\r\n          stroke-miterlimit=\"10\" stroke-dasharray=\"\" stroke-dashoffset=\"0\" font-family=\"none\" font-weight=\"none\"\r\n          font-size=\"none\" text-anchor=\"none\" style=\"mix-blend-mode: normal\">\r\n          <path d=\"M0,172v-172h172v172z\" fill=\"none\"></path>\r\n          <g fill=\"#16b3ab\">\r\n            <path\r\n              d=\"M44.79167,14.33333c-8.84188,0 -16.125,7.28312 -16.125,16.125v111.08333c0,8.84188 7.28312,16.125 16.125,16.125h82.41667c8.84188,0 16.125,-7.28312 16.125,-16.125v-75.25c-0.00027,-1.42544 -0.5667,-2.79242 -1.57471,-3.80029l-0.05599,-0.05599l-46.52734,-46.52734c-1.00788,-1.00801 -2.37485,-1.57443 -3.80029,-1.57471zM44.79167,25.08333h41.20833v30.45833c0,8.84188 7.28312,16.125 16.125,16.125h30.45833v69.875c0,3.03329 -2.34171,5.375 -5.375,5.375h-82.41667c-3.03329,0 -5.375,-2.34171 -5.375,-5.375v-111.08333c0,-3.03329 2.34171,-5.375 5.375,-5.375zM96.75,32.68392l28.23275,28.23275h-22.85775c-3.03329,0 -5.375,-2.34171 -5.375,-5.375zM68.93018,85.95801c-1.82314,0.00046 -3.46414,1.10578 -4.14971,2.79511c-0.68557,1.68933 -0.27894,3.62563 1.02829,4.89646l13.85043,13.85042l-13.85043,13.85042c-1.13304,1.13261 -1.57568,2.7837 -1.16114,4.3312c0.41454,1.54749 1.62327,2.75622 3.17076,3.17076c1.54749,0.41454 3.19859,-0.02809 4.3312,-1.16114l13.85042,-13.85043l13.85042,13.85043c1.13261,1.13304 2.7837,1.57568 4.3312,1.16114c1.54749,-0.41454 2.75622,-1.62327 3.17076,-3.17076c0.41454,-1.54749 -0.02809,-3.19859 -1.16114,-4.3312l-13.85043,-13.85042l13.85043,-13.85042c1.13304,-1.13261 1.57568,-2.7837 1.16114,-4.3312c-0.41454,-1.54749 -1.62327,-2.75622 -3.17076,-3.17076c-1.54749,-0.41454 -3.19859,0.02809 -4.3312,1.16114l-13.85042,13.85043l-13.85042,-13.85043c-0.8463,-0.86712 -2.00775,-1.35442 -3.2194,-1.35075z\">\r\n            </path>\r\n          </g>\r\n        </g>\r\n      </svg></a>\r\n  </div>\r\n  <div class=\"bereaveds-list-container\">\r\n    <div *ngIf=\"loading\" class=\"loading\">\r\n      טוען..\r\n    </div>\r\n\r\n    <div *ngIf=\"!loading\">\r\n      <div class=\"error-message\" *ngIf=\"error; else bereavedList\">\r\n        {{ error }}\r\n      </div>\r\n\r\n      <ng-template #bereavedList>\r\n        <app-bereaveds-list [filteredBereaveds]=\"filteredBereavedsIds\" [bereaveds]=\"bereaveds\"\r\n          [currentUser]=\"currentUser\" (joinBereved)=\"joinBereved($event)\" (leaveBereaved)=\"leaveBereaved($event)\"\r\n          (volunteering)=\"volunteering($event)\" (deleting)=\"deleting($event)\" (bereavedStatus)=\"bereavedStatus($event)\"\r\n          (bereavedGuidance)=\"bereavedGuidance($event)\" (bereavedBirthDate)=\"bereavedBirthDate($event)\"\r\n          (bereavedNotes)=\"bereavedNotes($event)\" (bereavedAddress)=\"bereavedAddress($event)\"\r\n          (bereavedEmail)=\"bereavedEmail($event)\" (bereavedPhone)=\"bereavedPhone($event)\"\r\n          (bereavedStory)=\"bereavedStory($event)\" (bereavedPhone)=\"bereavedPhone($event)\"\r\n          (bereavedSlainDate)=\"bereavedSlainDate($event)\" (bereavedSlainl)=\"bereavedSlainl($event)\"\r\n          (bereavedSlainf)=\"bereavedSlainf($event)\" (bereavedNamel)=\"bereavedNamel($event)\"\r\n          (bereavedNamef)=\"bereavedNamef($event)\" (bereavedVolunteer)=\"bereavedVolunteer($event)\"\r\n          (removeVolunteer)=\"removeVolunteer($event)\">\r\n        </app-bereaveds-list>\r\n      </ng-template>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<!-- \r\n-->","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { AdminBereavedsModule } from '../admin-bereaveds.module';\r\nimport { AdminBereavedsPageComponent } from './admin-bereaveds-page.component';\r\nimport { FreeTextFilterModule } from '../../../shared/components/free-text-filter/free-text-filter.module';\r\n\r\nconst routes = [\r\n  {\r\n    path: '',\r\n    component: AdminBereavedsPageComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [AdminBereavedsPageComponent],\r\n  imports: [AdminBereavedsModule, FreeTextFilterModule, CommonModule, RouterModule.forChild(routes)]\r\n})\r\nexport class AdminBereavedsPageModule {}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { BereavedGuidanceGeneral, guidanceOptions } from 'models';\r\n\r\n@Component({\r\n  selector: 'app-select-bereaved-guidance',\r\n  templateUrl: './select-bereaved-guidance.component.html'\r\n})\r\nexport class SelectBereavedGuidanceComponent {\r\n  @Input() value: BereavedGuidanceGeneral;\r\n  @Output() valueChange = new EventEmitter<BereavedGuidanceGeneral[]>();\r\n\r\n  @Input() readonly: boolean = false;\r\n\r\n  options = guidanceOptions;\r\n}\r\n","<app-select\r\n  [options]=\"options\"\r\n  [value]=\"value\"\r\n  (valueChange)=\"valueChange.emit($event)\"\r\n  [readonly]=\"readonly\"\r\n  [multiple]=\"true\"\r\n></app-select>\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { BereavedStatus } from 'models';\r\nimport { BereavedStatusOption } from './select-bereaved-status.types';\r\n\r\n@Component({\r\n  selector: 'app-select-bereaved-status',\r\n  templateUrl: './select-bereaved-status.component.html'\r\n})\r\nexport class SelectBereavedStatusComponent {\r\n  @Input() placeholder: string = 'סטטוס '\r\n\r\n  @Input() value: BereavedStatus;\r\n  @Output() valueChange = new EventEmitter<BereavedStatus>();\r\n\r\n  @Input() readonly: boolean = false;\r\n\r\n  options: BereavedStatusOption[] = [\r\n    {\r\n      value: BereavedStatus.done,\r\n      label: 'הושלם'\r\n    },\r\n    {\r\n      value: BereavedStatus.embed,\r\n      label: 'שובץ'\r\n    },\r\n    {\r\n      value: BereavedStatus.notEmbed,\r\n      label: 'לא שובץ'\r\n    },\r\n    {\r\n      value: BereavedStatus.waiting,\r\n      label: 'מחכה לתשובה'\r\n    },\r\n    {\r\n      value: BereavedStatus.hostNoConnect,\r\n      label: 'מארח לא יצר קשר'\r\n    },\r\n    {\r\n      value: BereavedStatus.hostingHimself,\r\n      label: 'מארח את עצמו'\r\n    },\r\n\r\n    {\r\n      value: BereavedStatus.notParticipate,\r\n      label: 'לא רוצה להשתתף'\r\n    },\r\n    {\r\n      value: BereavedStatus.other,\r\n      label: 'אחר'\r\n    },\r\n\r\n  ];\r\n}\r\n","<app-select [options]=\"options\" [value]=\"value\" (valueChange)=\"valueChange.emit($event)\" [readonly]=\"readonly\"\r\n  [placeholder]=\"placeholder\"></app-select>","import { BereavedLanguageOption } from './select-languages.types';\r\nimport { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { BereavedLanguage } from 'models';\r\n\r\n@Component({\r\n  selector: 'app-select-languages',\r\n  templateUrl: './select-languages.component.html',\r\n  styleUrls: ['./select-languages.component.scss']\r\n})\r\nexport class SelectLanguagesComponent {\r\n  @Input() placeholder: string='מרצה בשפות'\r\n  @Input() value: BereavedLanguage;\r\n  @Output() valueChange = new EventEmitter<BereavedLanguage>();\r\n\r\n  @Input() readonly: boolean = false;\r\n\r\n  options: BereavedLanguageOption[] = [\r\n    {\r\n      value: BereavedLanguage.english,\r\n      label: 'אנגלית'\r\n    },\r\n    {\r\n      value: BereavedLanguage.spanish,\r\n      label: 'ספרדית'\r\n    },\r\n    {\r\n      value: BereavedLanguage.franch,\r\n      label: 'צרפתית'\r\n    },\r\n    {\r\n      value: BereavedLanguage.arabic,\r\n      label: 'ערבית '\r\n    },\r\n    {\r\n      value: BereavedLanguage.rusian,\r\n      label: 'רוסית '\r\n    },\r\n    {\r\n      value: BereavedLanguage.other,\r\n      label: 'אחר'\r\n    },\r\n\r\n    ,]\r\n\r\n}\r\n","<app-select [options]=\"options\" [value]=\"value\" (valueChange)=\"valueChange.emit($event)\" [readonly]=\"readonly\"\r\n  [placeholder]=\"placeholder\"></app-select>","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { User } from 'models';\r\nimport { SortedColumn } from '../../../shared/components/list/list-header/list-header.types';\r\n\r\n//const getFullName = (user: User, year: number) => (user.profile ? user.profile.firstName + user.profile.lastName : '');\r\nconst getFirstName = (user: User, year: number) => (user.profile ? user.profile.firstName : '');\r\nconst getLastName = (user: User, year: number) => (user.profile ? user.profile.lastName : '');\r\nconst getAddress = (user: User, year: number) => user?.profile?.address?.latitude || Number.MIN_VALUE;\r\nconst getAge = (user: User, year: number) => user.profile?.birthDay || Number.MAX_VALUE;\r\nconst getSeniority = (user: User, year: number) => user.bereavedProfile?.slains?.[0]?.deathDate || Number.MAX_VALUE;\r\nconst getActive = (user: User, year: number) => user.lastSignInDate||Number.MAX_VALUE;\r\n\r\n//const getGuidance = (user: User, year: number) => user.bereavedParticipation?.[year]?.guidance?.general || '';\r\nconst getStatus = (user: User, year: number) => user.bereavedParticipation?.[year]?.status || '';\r\nconst getMeetings = (user: User, year: number) => user.bereavedParticipation?.[year]?.meetings?.length || 0;\r\n\r\nconst valueGetter = {\r\n  firstName: getFirstName,\r\n  lastName: getLastName,\r\n  address: getAddress,\r\n  age: getAge,\r\n  seniority: getSeniority,\r\n  active: getActive,\r\n  status: getStatus,\r\n  meetings: getMeetings\r\n};\r\nconst getValue = (user: User, year: number, column) =>\r\n  column in valueGetter ? valueGetter[column](user, year) : user[column] || '';\r\n\r\n@Pipe({\r\n  name: 'sortBereaveds'\r\n})\r\nexport class SortBereavedsPipe implements PipeTransform {\r\n  transform(bereaveds: User[], { column, direction }: SortedColumn, year: number): User[] {\r\n    if (!column) {\r\n      return bereaveds;\r\n    }\r\n    return bereaveds.slice().sort((a, b) => {\r\n      let aValue = getValue(a, year, column);\r\n      let bValue = getValue(b, year, column);\r\n\r\n      if (direction === 'desc') {\r\n        [aValue, bValue] = [bValue, aValue];\r\n      }\r\n\r\n      if (typeof aValue === 'number' && typeof bValue === 'number') {\r\n        return aValue - bValue;\r\n      }\r\n\r\n      return aValue.toString().localeCompare(bValue);\r\n    });\r\n  }\r\n}\r\n"]}