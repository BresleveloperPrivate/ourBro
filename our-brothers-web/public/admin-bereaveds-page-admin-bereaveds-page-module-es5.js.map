{"version":3,"sources":["webpack:///src/app/admin/bereaveds/admin-bereaveds.module.ts","webpack:///src/app/admin/bereaveds/bereaveds-list-row/bereaveds-list-row.component.ts","webpack:///src/app/admin/bereaveds/bereaveds-list-row/bereaveds-list-row.component.html","webpack:///src/app/admin/bereaveds/bereaveds-list/bereaveds-list.component.ts","webpack:///src/app/admin/bereaveds/bereaveds-list/bereaveds-list.component.html","webpack:///src/app/admin/bereaveds/modal-select-meeting/modal-select-meeting.component.ts","webpack:///src/app/admin/bereaveds/modal-select-meeting/modal-select-meeting.component.html","webpack:///src/app/admin/bereaveds/page/admin-bereaveds-page.component.ts","webpack:///src/app/admin/bereaveds/page/admin-bereaveds-page.component.html","webpack:///src/app/admin/bereaveds/page/admin-bereaveds-page.module.ts","webpack:///src/app/admin/bereaveds/select-bereaved-guidance/select-bereaved-guidance.component.ts","webpack:///src/app/admin/bereaveds/select-bereaved-guidance/select-bereaved-guidance.component.html","webpack:///src/app/admin/bereaveds/select-bereaved-status/select-bereaved-status.component.ts","webpack:///src/app/admin/bereaveds/select-bereaved-status/select-bereaved-status.component.html","webpack:///src/app/admin/bereaveds/sort-bereaveds/sort-bereaveds.pipe.ts","webpack:///src/app/shared/components/editable-text/editable-text.component.ts","webpack:///src/app/shared/components/editable-text/editable-text.component.html","webpack:///src/app/shared/components/editable-text/editable-text.module.ts"],"names":["api","AdminBereavedsModule","imports","declarations","exports","volunteering","deleting","leaveBereaved","removeVolunteer","bereavedVolunteer","bereavedBirthDate","bereavedNotes","BereavedsListRowComponent","participationsService","joinBereved","bereavedStatus","bereavedGuidance","bereavedAddress","expanded","year","general","$event","selector","changeDetection","OnPush","templateUrl","styleUrls","bereaved","BereavedsListComponent","sortedColumn","column","direction","ModalSelectMeetingComponent","utilsService","selectMeeting","filter","emit","changes","filterMeetings","filteredMeetings","filteringMeetings","meetings","closeDialog","selectedMeeting$","AdminBereavedsPageComponent","toastr","authService","dataService","httpService","error","loading","subscriptions","push","user","subscribe","currentUser","getBereaveds","bereaveds","filterBereaveds","toString","getNoBerevedMeetings","noBerevedMeetings","filteredBereavedsIds","filteringBereaveds","map","id","Set","selectingBereaved","length","pipe","meeting","bereavedJoinMeeting","success","window","confirm","profile","firstName","lastName","title","bereavedLeaveMeeting","isVolunteer","setUserVolunteer","deleteUser","status","setBereavedStatus","guidance","setBereavedGuidance","birthDate","setUserBirthDate","notes","setBereavedNotes","address","setUserAddress","forEach","subscription","unsubscribe","routes","path","component","AdminBereavedsPageModule","forChild","SelectBereavedGuidanceComponent","valueChange","readonly","options","SelectBereavedStatusComponent","value","done","label","inactive","waiting","getFullName","getAddress","latitude","Number","MIN_VALUE","getSeniority","bereavedProfile","slains","deathDate","MAX_VALUE","getGuidance","bereavedParticipation","getStatus","getMeetings","valueGetter","name","seniority","getValue","SortBereavedsPipe","slice","sort","a","b","aValue","bValue","localeCompare","EditableTextComponent","elementRef","editable","event","nativeElement","contains","target","newValue","type","Date","parse","_value","EditableTextModule"],"mappings":"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","file":"admin-bereaveds-page-admin-bereaveds-page-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { SelectModule } from '../../shared/components/select/select.module';\r\nimport { BereavedsListComponent } from './bereaveds-list/bereaveds-list.component';\r\nimport { BereavedsListRowComponent } from './bereaveds-list-row/bereaveds-list-row.component';\r\nimport { SelectBereavedGuidanceComponent } from './select-bereaved-guidance/select-bereaved-guidance.component';\r\nimport { SelectBereavedStatusComponent } from './select-bereaved-status/select-bereaved-status.component';\r\nimport { PipesModule } from '../../shared/pipes/pipes.module';\r\nimport { ListModule } from '../../shared/components/list/list.module';\r\nimport { ModalSelectMeetingComponent } from './modal-select-meeting/modal-select-meeting.component';\r\nimport { FreeTextFilterModule } from '../../shared/components/free-text-filter/free-text-filter.module';\r\nimport { MeetingsListModule } from '../../shared/components/meetings/meetings-list/meetings-list.module';\r\nimport { JoinButtonModule } from '../../shared/components/join-button/join-button.module';\r\nimport { MeetingJoinButtonModule } from '../../shared/components/meeting-join-button/meeting-join-button.module';\r\nimport { RemoveButtonModule } from 'src/app/shared/components/remove-button/remove-button.module';\r\nimport { SortBereavedsPipe } from './sort-bereaveds/sort-bereaveds.pipe';\r\nimport { EditableTextModule } from 'src/app/shared/components/editable-text/editable-text.module';\r\n\r\nconst api = [\r\n  SelectBereavedStatusComponent,\r\n  SelectBereavedGuidanceComponent,\r\n  BereavedsListRowComponent,\r\n  BereavedsListComponent,\r\n  ModalSelectMeetingComponent\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    SelectModule,\r\n    PipesModule,\r\n    ListModule,\r\n    FreeTextFilterModule,\r\n    EditableTextModule,\r\n    MeetingsListModule,\r\n    JoinButtonModule,\r\n    MeetingJoinButtonModule,\r\n    RemoveButtonModule\r\n  ],\r\n  declarations: [api, SortBereavedsPipe],\r\n  exports: api\r\n})\r\nexport class AdminBereavedsModule {}\r\n","import { Component, Input, Output, EventEmitter, ChangeDetectionStrategy } from '@angular/core';\r\nimport { User, BereavedStatus, BereavedGuidance, Meeting, Address } from 'models';\r\nimport { MEMORIAL_YEAR } from '../../../shared/constants';\r\nimport { ParticipationsService } from '../../../shared/services/participations.service';\r\n\r\n@Component({\r\n  selector: 'app-bereaveds-list-row',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './bereaveds-list-row.component.html',\r\n  styleUrls: ['./bereaveds-list-row.component.scss']\r\n})\r\nexport class BereavedsListRowComponent {\r\n  @Input() currentUser: User;\r\n  @Input() bereaved: User;\r\n  @Output() joinBereved = new EventEmitter<void>();\r\n  @Output() leaveBereaved = new EventEmitter<Meeting>();\r\n  @Output() deleting = new EventEmitter<void>();\r\n  @Output() volunteering = new EventEmitter<boolean>();\r\n  @Output() bereavedStatus = new EventEmitter<BereavedStatus>();\r\n  @Output() bereavedGuidance = new EventEmitter<BereavedGuidance>();\r\n  @Output() bereavedBirthDate = new EventEmitter<number>();\r\n  @Output() bereavedNotes = new EventEmitter<string>();\r\n  @Output() bereavedAddress = new EventEmitter<Address>();\r\n  @Output() bereavedVolunteer = new EventEmitter<void>();\r\n  @Output() removeVolunteer = new EventEmitter<void>();\r\n\r\n  expanded = false;\r\n  year = MEMORIAL_YEAR;\r\n\r\n  constructor(public participationsService: ParticipationsService) {}\r\n}\r\n","<div class=\"row-container\">\r\n  <div class=\"row\">\r\n    <div class=\"col col-row-state\">\r\n      <button\r\n        class=\"volunteering-button\"\r\n        *ngIf=\"currentUser?.isAdmin\"\r\n        (click)=\"volunteering.emit(!bereaved.isVolunteer)\"\r\n      >\r\n        <div class=\"key-icon\" [ngClass]=\"{ disabled: !bereaved.isVolunteer }\"></div>\r\n      </button>\r\n      <button class=\"trash-button\" *ngIf=\"currentUser?.isAdmin\" (click)=\"deleting.emit()\">\r\n        <div class=\"trash-icon\"></div>\r\n      </button>\r\n      <button class=\"expand-button\" *ngIf=\"!expanded\" (click)=\"expanded = true\">\r\n        <div class=\"expand-icon\"></div>\r\n      </button>\r\n      <button class=\"collapse-button\" *ngIf=\"expanded\" (click)=\"expanded = false\">\r\n        <div class=\"collapse-icon\"></div>\r\n      </button>\r\n    </div>\r\n    <div class=\"col col-name\">\r\n      {{ bereaved.profile?.firstName + ' ' + bereaved.profile?.lastName }}\r\n    </div>\r\n    <div class=\"col col-communications\">\r\n      <div class=\"bereaved-phone\" *ngIf=\"bereaved.profile?.phoneNumber\">\r\n        <div class=\"phone-number\">\r\n          {{ bereaved.profile.phoneNumber | phone }}\r\n        </div>\r\n        <div class=\"phone-icon\"></div>\r\n      </div>\r\n      <div class=\"bereaved-email\" *ngIf=\"bereaved.profile?.email\">\r\n        <div class=\"email-address\">\r\n          {{ bereaved.profile?.email }}\r\n        </div>\r\n        <div class=\"email-icon\"></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col col-address\">\r\n      <app-editable-text\r\n        [value]=\"bereaved?.profile?.address?.formattedAddress || ''\"\r\n        (valueChange)=\"bereavedAddress.emit($event)\"\r\n        [type]=\"'cities'\"\r\n      ></app-editable-text>\r\n    </div>\r\n    <div class=\"col col-seniority\">\r\n      <div *ngFor=\"let slain of bereaved?.bereavedProfile?.slains\">\r\n        {{ slain.deathDate | seniority }}\r\n      </div>\r\n    </div>\r\n    <div class=\"col col-guidance\">\r\n      <app-select-bereaved-guidance\r\n        [value]=\"bereaved.bereavedParticipation && bereaved.bereavedParticipation[year]?.guidance?.general\"\r\n        (valueChange)=\"bereavedGuidance.emit({ answered: true, general: $event })\"\r\n      ></app-select-bereaved-guidance>\r\n    </div>\r\n    <div class=\"col col-status\">\r\n      <app-select-bereaved-status\r\n        [value]=\"bereaved.bereavedParticipation && bereaved.bereavedParticipation[year]?.status\"\r\n        (valueChange)=\"bereavedStatus.emit($event)\"\r\n      ></app-select-bereaved-status>\r\n    </div>\r\n    <div class=\"col bereaved-meetings\">\r\n      <div *ngFor=\"let meeting of bereaved.bereavedParticipation && bereaved.bereavedParticipation[year]?.meetings\">\r\n        <button class=\"leave-button\" (click)=\"leaveBereaved.emit(meeting)\">\r\n          <div class=\"trash-icon\"></div>\r\n        </button>\r\n        <div class=\"bereaved-meeting-title\">\r\n          <a [routerLink]=\"'/meetings/' + year + '/' + meeting.hostId + '/' + meeting.id\">\r\n            {{ meeting.title }}\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <app-join-button (join)=\"joinBereved.emit()\"></app-join-button>\r\n    </div>\r\n  </div>\r\n  <div class=\"expanded-row\" *ngIf=\"expanded\">\r\n    <div class=\"expanded-col col-info\">\r\n      <div class=\"title\">\r\n        מספר סידורי:\r\n      </div>\r\n      <div>\r\n        {{ bereaved.id }}\r\n      </div>\r\n      <div class=\"title\">\r\n        גיל:\r\n      </div>\r\n      <div>\r\n        <app-editable-text\r\n          [value]=\"bereaved.profile?.birthDay ? (bereaved.profile.birthDay | seniority) : ''\"\r\n          (valueChange)=\"bereavedBirthDate.emit($event)\"\r\n          [type]=\"'date'\"\r\n        ></app-editable-text>\r\n      </div>\r\n      <div class=\"title\">\r\n        שפות:\r\n      </div>\r\n      <div>\r\n        {{ bereaved.profile.otherLang || 'אין' }}\r\n      </div>\r\n      <div class=\"title\">\r\n        מתנדב:\r\n      </div>\r\n      <div>\r\n        <ng-template [ngIf]=\"bereaved.volunteer\" [ngIfElse]=\"volunteerJoin\">\r\n          <div>\r\n            {{ bereaved.volunteer.firstName + ' ' + bereaved.volunteer.lastName }}\r\n          </div>\r\n          <div>\r\n            {{ bereaved.volunteer.id }}\r\n          </div>\r\n          <div *ngIf=\"currentUser?.isAdmin || currentUser?.id === bereaved.volunteer.id\">\r\n            <app-remove-button (remove)=\"removeVolunteer.emit()\"></app-remove-button>\r\n          </div>\r\n        </ng-template>\r\n        <ng-template #volunteerJoin>\r\n          <app-join-button (join)=\"bereavedVolunteer.emit()\"></app-join-button>\r\n        </ng-template>\r\n      </div>\r\n    </div>\r\n    <div class=\"expanded-col col-comments\">\r\n      <div class=\"title\">\r\n        הערות:\r\n      </div>\r\n      <div class=\"content\">\r\n        <div class=\"scroll-container\">\r\n          <app-editable-text\r\n            [value]=\"bereaved.bereavedParticipation && bereaved.bereavedParticipation[year]?.notes\"\r\n            (valueChange)=\"bereavedNotes.emit($event)\"\r\n            [type]=\"'textarea'\"\r\n          ></app-editable-text>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"expanded-col col-slains\">\r\n      <div class=\"title\">\r\n        פרטי חלל:\r\n      </div>\r\n      <div class=\"content\">\r\n        <div *ngFor=\"let slain of bereaved.bereavedProfile?.slains\">\r\n          <div>\r\n            <span>{{ slain.firstName + ' ' + slain.lastName + ' ז\"ל' }}</span>\r\n          </div>\r\n          <div>\r\n            <span>{{ slain.deathDate | date: 'dd.MM.yyyy' }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"expanded-col col-story\">\r\n      <div class=\"title\">\r\n        הסיפור שלי:\r\n      </div>\r\n      <div class=\"content\">\r\n        <div class=\"scroll-container\">\r\n          {{ bereaved.bereavedProfile?.story }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"expanded-col col-dates\">\r\n      <div>\r\n        <div class=\"title\">כניסה:</div>\r\n        <div>{{ bereaved.lastSignInDate | date: 'dd.MM.yyyy' }}</div>\r\n      </div>\r\n      <div>\r\n        <div class=\"title\">הרשמה:</div>\r\n        <div>{{ bereaved.registered | date: 'dd.MM.yyyy' }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { User } from 'models';\r\nimport { MEMORIAL_YEAR } from '../../../shared/constants';\r\nimport {\r\n  UpdateBereavedStatus,\r\n  UserMeeting,\r\n  VolunteeringUser,\r\n  UpdateBereavedNotes,\r\n  UpdateUserAddress,\r\n  UpdateBereavedGuidance,\r\n  UpdateUserBirthDate,\r\n  BereavedVolunteer\r\n} from '../../../shared/services/data.service';\r\nimport { SortedColumn } from '../../../shared/components/list/list-header/list-header.types';\r\n\r\n@Component({\r\n  selector: 'app-bereaveds-list',\r\n  templateUrl: './bereaveds-list.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  styleUrls: ['./bereaveds-list.component.scss']\r\n})\r\nexport class BereavedsListComponent {\r\n  @Input() currentUser: User;\r\n  @Input() bereaveds: User[];\r\n  @Input() filteredBereaveds: Set<string>;\r\n  @Output() joinBereved = new EventEmitter<User>();\r\n  @Output() leaveBereaved = new EventEmitter<UserMeeting>();\r\n  @Output() volunteering = new EventEmitter<VolunteeringUser>();\r\n  @Output() deleting = new EventEmitter<User>();\r\n  @Output() bereavedStatus = new EventEmitter<UpdateBereavedStatus>();\r\n  @Output() bereavedGuidance = new EventEmitter<UpdateBereavedGuidance>();\r\n  @Output() bereavedBirthDate = new EventEmitter<UpdateUserBirthDate>();\r\n  @Output() bereavedNotes = new EventEmitter<UpdateBereavedNotes>();\r\n  @Output() bereavedAddress = new EventEmitter<UpdateUserAddress>();\r\n  @Output() bereavedVolunteer = new EventEmitter<BereavedVolunteer>();\r\n  @Output() removeVolunteer = new EventEmitter<User>();\r\n\r\n  year = MEMORIAL_YEAR;\r\n  sortedColumn: SortedColumn = {\r\n    column: 'name',\r\n    direction: 'asc'\r\n  };\r\n}\r\n","<app-list-header [scroll]=\"filteredBereaveds.size > 10\" [(sort)]=\"sortedColumn\" class=\"list-header\">\r\n  <app-list-column class=\"col-row-state\"></app-list-column>\r\n  <app-list-column title=\"שם מלא\" field=\"name\"></app-list-column>\r\n  <app-list-column title=\"פרטי התקשרות\"></app-list-column>\r\n  <app-list-column title=\"מקום מגורים\" field=\"address\"></app-list-column>\r\n  <app-list-column title=\"ותק בשכול\" field=\"seniority\" class=\"col-seniority\"></app-list-column>\r\n  <app-list-column title=\"הדרכות\" field=\"guidance\" class=\"col-guidance\"></app-list-column>\r\n  <app-list-column title=\"סטטוס\" field=\"status\" class=\"col-status\"></app-list-column>\r\n  <app-list-column title=\"שיבוץ\" field=\"meetings\"></app-list-column>\r\n</app-list-header>\r\n<div class=\"bereaved-items\">\r\n  <div *ngFor=\"let bereaved of bereaveds | sortBereaveds: sortedColumn:year\">\r\n    <app-bereaveds-list-row\r\n      [class.hidden]=\"!filteredBereaveds.has(bereaved.id)\"\r\n      [bereaved]=\"bereaved\"\r\n      [currentUser]=\"currentUser\"\r\n      (joinBereved)=\"joinBereved.emit(bereaved)\"\r\n      (leaveBereaved)=\"leaveBereaved.emit({ user: bereaved, meeting: $event })\"\r\n      (deleting)=\"deleting.emit(bereaved)\"\r\n      (volunteering)=\"volunteering.emit({ user: bereaved, isVolunteer: $event })\"\r\n      (bereavedStatus)=\"bereavedStatus.emit({ bereaved: bereaved, status: $event })\"\r\n      (bereavedGuidance)=\"bereavedGuidance.emit({ bereaved: bereaved, guidance: $event })\"\r\n      (bereavedBirthDate)=\"bereavedBirthDate.emit({ user: bereaved, birthDate: $event })\"\r\n      (bereavedNotes)=\"bereavedNotes.emit({ bereaved: bereaved, notes: $event })\"\r\n      (bereavedAddress)=\"bereavedAddress.emit({ user: bereaved, address: $event })\"\r\n      (bereavedVolunteer)=\"bereavedVolunteer.emit({ user: currentUser, bereaved: bereaved })\"\r\n      (removeVolunteer)=\"removeVolunteer.emit(bereaved)\"\r\n    ></app-bereaveds-list-row>\r\n  </div>\r\n</div>\r\n","import { Component, Input, EventEmitter, Output, OnChanges, SimpleChanges, HostListener } from '@angular/core';\r\nimport { Meeting, User } from 'models';\r\nimport { UtilsService } from '../../../shared/services/utils.service';\r\n\r\n@Component({\r\n  selector: 'app-modal-select-meeting',\r\n  templateUrl: './modal-select-meeting.component.html',\r\n  styleUrls: ['./modal-select-meeting.component.scss']\r\n})\r\nexport class ModalSelectMeetingComponent implements OnChanges {\r\n  @Input() bereaved: User;\r\n  @Input() meetings: Meeting[];\r\n  @Output() selectMeeting = new EventEmitter<Meeting>();\r\n\r\n  @HostListener('document:keydown.esc')\r\n  closeDialog() {\r\n    this.selectMeeting.emit(null);\r\n  }\r\n\r\n  filter: string = '';\r\n  filteredMeetings: Meeting[];\r\n\r\n  constructor(private utilsService: UtilsService) {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.filterMeetings(this.filter);\r\n  }\r\n\r\n  filterMeetings(filter: string) {\r\n    this.filteredMeetings = this.utilsService.filteringMeetings(this.meetings, filter);\r\n  }\r\n}\r\n","<div class=\"blocker blocker-fixed\">\r\n  <div class=\"modal-container\">\r\n    <div class=\"modal-header\">\r\n      שבץ את\r\n      {{ bereaved.profile.firstName + ' ' + bereaved.profile.lastName }}\r\n    </div>\r\n    <div class=\"free-text-filter-container\">\r\n      <app-free-text-filter class=\"free-text-filter\" [(filter)]=\"filter\" (filterChange)=\"filterMeetings($event)\">\r\n      </app-free-text-filter>\r\n    </div>\r\n    <div class=\"meetings-list\">\r\n      <app-meetings-list [meetings]=\"filteredMeetings\" [user]=\"bereaved\" (joinMeeting)=\"selectMeeting.emit($event)\">\r\n      </app-meetings-list>\r\n    </div>\r\n    <div class=\"cancel-button-container\">\r\n      <button class=\"cancel-button\" (click)=\"closeDialog()\">\r\n        ביטול\r\n      </button>\r\n    </div>\r\n    <div class=\"close-button fas fa-times\" (click)=\"closeDialog()\"></div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { take } from 'rxjs/operators';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\nimport { User, Meeting } from 'models';\r\nimport { MEMORIAL_YEAR } from '../../../shared/constants';\r\nimport { AuthService } from '../../../shared/services/auth.service';\r\nimport {\r\n  DataService,\r\n  UserMeeting,\r\n  VolunteeringUser,\r\n  UpdateBereavedStatus,\r\n  UpdateBereavedGuidance,\r\n  UpdateBereavedNotes,\r\n  UpdateUserAddress,\r\n  UpdateUserBirthDate,\r\n  BereavedVolunteer\r\n} from '../../../shared/services/data.service';\r\nimport { UtilsService } from '../../../shared/services/utils.service';\r\nimport { HttpService } from '../../../shared/services/http.service';\r\n\r\n@Component({\r\n  selector: 'app-admin-bereaveds-page',\r\n  templateUrl: './admin-bereaveds-page.component.html',\r\n  styleUrls: ['./admin-bereaveds-page.component.scss']\r\n})\r\nexport class AdminBereavedsPageComponent implements OnInit, OnDestroy {\r\n  currentUser: User;\r\n  bereaveds: User[];\r\n  noBerevedMeetings: Meeting[];\r\n  filter: string = '';\r\n  filteredBereavedsIds: Set<string>;\r\n  year = MEMORIAL_YEAR;\r\n  error = '';\r\n  loading = true;\r\n\r\n  selectedMeeting$ = new Subject<Meeting>();\r\n  selectingBereaved: User;\r\n\r\n  private subscriptions: Subscription[] = [];\r\n\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private authService: AuthService,\r\n    private dataService: DataService,\r\n    private httpService: HttpService,\r\n    private utilsService: UtilsService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.subscriptions.push(\r\n      this.authService.user.subscribe(currentUser => {\r\n        this.currentUser = currentUser;\r\n      }),\r\n      this.dataService.getBereaveds().subscribe(\r\n        bereaveds => {\r\n          this.loading = false;\r\n          this.bereaveds = bereaveds;\r\n          this.filterBereaveds();\r\n        },\r\n        error => {\r\n          this.loading = false;\r\n          this.error = error.toString();\r\n        }\r\n      ),\r\n      this.dataService.getNoBerevedMeetings().subscribe(noBerevedMeetings => {\r\n        this.noBerevedMeetings = noBerevedMeetings;\r\n      })\r\n    );\r\n  }\r\n\r\n  filterBereaveds() {\r\n    const filteredBereavedsIds = this.utilsService.filteringBereaveds(this.bereaveds, this.filter).map(({ id }) => id);\r\n    this.filteredBereavedsIds = new Set(filteredBereavedsIds);\r\n  }\r\n\r\n  joinBereved(bereaved: User) {\r\n    this.selectingBereaved = bereaved;\r\n    if (this.noBerevedMeetings && this.noBerevedMeetings.length) {\r\n      this.selectedMeeting$.pipe(take(1)).subscribe(meeting => {\r\n        this.selectingBereaved = null;\r\n        if (meeting) {\r\n          this.dataService.bereavedJoinMeeting(bereaved, meeting).subscribe(\r\n            () => {\r\n              this.toastr.success('האח/ות שובץ בהצלחה');\r\n            },\r\n            () => {\r\n              this.toastr.error('שגיאה - לא ניתן לשבץ למפגש. נא ליצור קשר.');\r\n            }\r\n          );\r\n        }\r\n      });\r\n    } else {\r\n      this.selectingBereaved = null;\r\n    }\r\n  }\r\n\r\n  leaveBereaved({ user, meeting }: UserMeeting) {\r\n    if (user && meeting) {\r\n      if (\r\n        window.confirm(\r\n          'האם ברצונך להסיר את ' +\r\n            user.profile.firstName +\r\n            ' ' +\r\n            user.profile.lastName +\r\n            ' מהמפגש ' +\r\n            meeting.title +\r\n            '?'\r\n        )\r\n      ) {\r\n        this.dataService.bereavedLeaveMeeting(user, meeting).subscribe(\r\n          () => {\r\n            this.toastr.success('המשתמש הוסר בהצלחה.');\r\n          },\r\n          () => {\r\n            this.toastr.error('שגיאה - לא ניתן להסיר משתמש. נא ליצור קשר.');\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  volunteering({ user, isVolunteer }: VolunteeringUser) {\r\n    if (user) {\r\n      if (\r\n        window.confirm(\r\n          'האם ברוצנך ' +\r\n            (isVolunteer ? 'להגדיר' : 'להסיר') +\r\n            ' את ' +\r\n            user.profile.firstName +\r\n            ' ' +\r\n            user.profile.lastName +\r\n            ' כמתנדב/ת?'\r\n        )\r\n      ) {\r\n        this.dataService.setUserVolunteer(user, isVolunteer).subscribe(\r\n          () => {\r\n            this.toastr.success('המשתמש הוגדר כמתנדב בהצלחה.');\r\n          },\r\n          () => {\r\n            this.toastr.error('שגיאה - לא ניתן להגדיר משתמש כמתנדב. נא ליצור קשר.');\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  deleting(user: User) {\r\n    if (user) {\r\n      if (window.confirm('האם ברצונך למחוק את ' + user.profile.firstName + ' ' + user.profile.lastName + '?')) {\r\n        this.httpService.deleteUser(user).subscribe(\r\n          () => {\r\n            this.toastr.success('המשתמש נמחק בהצלחה.');\r\n          },\r\n          () => {\r\n            this.toastr.error('שגיאה - לא ניתן למחוק משתמש. נא ליצור קשר.');\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  bereavedStatus({ bereaved, status }: UpdateBereavedStatus) {\r\n    if (bereaved) {\r\n      this.dataService.setBereavedStatus(bereaved, status);\r\n    }\r\n  }\r\n\r\n  bereavedGuidance({ bereaved, guidance }: UpdateBereavedGuidance) {\r\n    if (bereaved) {\r\n      this.dataService.setBereavedGuidance(bereaved, guidance);\r\n    }\r\n  }\r\n\r\n  bereavedBirthDate({ user, birthDate }: UpdateUserBirthDate) {\r\n    if (user) {\r\n      this.dataService.setUserBirthDate(user, birthDate);\r\n    }\r\n  }\r\n\r\n  bereavedNotes({ bereaved, notes }: UpdateBereavedNotes) {\r\n    if (bereaved) {\r\n      this.dataService.setBereavedNotes(bereaved, notes);\r\n    }\r\n  }\r\n\r\n  bereavedAddress({ user, address }: UpdateUserAddress) {\r\n    if (user) {\r\n      this.dataService.setUserAddress(user, address);\r\n    }\r\n  }\r\n\r\n  bereavedVolunteer({ user, bereaved }: BereavedVolunteer) {\r\n    if (user) {\r\n      this.dataService.bereavedVolunteer(user, bereaved);\r\n    }\r\n  }\r\n\r\n  removeVolunteer(bereaved: User) {\r\n    if (bereaved) {\r\n      this.dataService.removeVolunteer(bereaved);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.forEach(subscription => {\r\n      subscription.unsubscribe();\r\n    });\r\n  }\r\n}\r\n","<app-modal-select-meeting\r\n  *ngIf=\"!!selectingBereaved\"\r\n  [meetings]=\"noBerevedMeetings\"\r\n  [bereaved]=\"selectingBereaved\"\r\n  (selectMeeting)=\"selectedMeeting$.next($event)\"\r\n>\r\n</app-modal-select-meeting>\r\n<div class=\"medium-heading\">ניהול אחים</div>\r\n<div class=\"container-fluid bereaveds-container\">\r\n  <app-free-text-filter class=\"free-text-filter\" [(filter)]=\"filter\" (filterChange)=\"filterBereaveds()\">\r\n  </app-free-text-filter>\r\n  <div class=\"bereaveds-list-container\">\r\n    <div *ngIf=\"loading\" class=\"loading\">\r\n      טוען..\r\n    </div>\r\n    <div *ngIf=\"!loading\">\r\n      <div class=\"error-message\" *ngIf=\"error; else bereavedList\">\r\n        {{ error }}\r\n      </div>\r\n      <ng-template #bereavedList>\r\n        <app-bereaveds-list\r\n          [filteredBereaveds]=\"filteredBereavedsIds\"\r\n          [bereaveds]=\"bereaveds\"\r\n          [currentUser]=\"currentUser\"\r\n          (joinBereved)=\"joinBereved($event)\"\r\n          (leaveBereaved)=\"leaveBereaved($event)\"\r\n          (volunteering)=\"volunteering($event)\"\r\n          (deleting)=\"deleting($event)\"\r\n          (bereavedStatus)=\"bereavedStatus($event)\"\r\n          (bereavedGuidance)=\"bereavedGuidance($event)\"\r\n          (bereavedBirthDate)=\"bereavedBirthDate($event)\"\r\n          (bereavedNotes)=\"bereavedNotes($event)\"\r\n          (bereavedAddress)=\"bereavedAddress($event)\"\r\n          (bereavedVolunteer)=\"bereavedVolunteer($event)\"\r\n          (removeVolunteer)=\"removeVolunteer($event)\"\r\n        ></app-bereaveds-list>\r\n      </ng-template>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { AdminBereavedsModule } from '../admin-bereaveds.module';\r\nimport { AdminBereavedsPageComponent } from './admin-bereaveds-page.component';\r\nimport { FreeTextFilterModule } from '../../../shared/components/free-text-filter/free-text-filter.module';\r\n\r\nconst routes = [\r\n  {\r\n    path: '',\r\n    component: AdminBereavedsPageComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [AdminBereavedsPageComponent],\r\n  imports: [AdminBereavedsModule, FreeTextFilterModule, CommonModule, RouterModule.forChild(routes)]\r\n})\r\nexport class AdminBereavedsPageModule {}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { BereavedGuidanceGeneral, guidanceOptions } from 'models';\r\n\r\n@Component({\r\n  selector: 'app-select-bereaved-guidance',\r\n  templateUrl: './select-bereaved-guidance.component.html'\r\n})\r\nexport class SelectBereavedGuidanceComponent {\r\n  @Input() value: BereavedGuidanceGeneral;\r\n  @Output() valueChange = new EventEmitter<BereavedGuidanceGeneral[]>();\r\n\r\n  @Input() readonly: boolean = false;\r\n\r\n  options = guidanceOptions;\r\n}\r\n","<app-select\r\n  [options]=\"options\"\r\n  [value]=\"value\"\r\n  (valueChange)=\"valueChange.emit($event)\"\r\n  [readonly]=\"readonly\"\r\n  [multiple]=\"true\"\r\n></app-select>\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { BereavedStatus } from 'models';\r\nimport { BereavedStatusOption } from './select-bereaved-status.types';\r\n\r\n@Component({\r\n  selector: 'app-select-bereaved-status',\r\n  templateUrl: './select-bereaved-status.component.html'\r\n})\r\nexport class SelectBereavedStatusComponent {\r\n  @Input() value: BereavedStatus;\r\n  @Output() valueChange = new EventEmitter<BereavedStatus>();\r\n\r\n  @Input() readonly: boolean = false;\r\n\r\n  options: BereavedStatusOption[] = [\r\n    {\r\n      value: BereavedStatus.done,\r\n      label: 'הסתיים'\r\n    },\r\n    {\r\n      value: BereavedStatus.inactive,\r\n      label: 'לא פעיל'\r\n    },\r\n    {\r\n      value: BereavedStatus.waiting,\r\n      label: 'ממתין'\r\n    }\r\n  ];\r\n}\r\n","<app-select\r\n  [options]=\"options\"\r\n  [value]=\"value\"\r\n  (valueChange)=\"valueChange.emit($event)\"\r\n  [readonly]=\"readonly\"\r\n></app-select>\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { User } from 'models';\r\nimport { SortedColumn } from '../../../shared/components/list/list-header/list-header.types';\r\n\r\nconst getFullName = (user: User, year: number) => (user.profile ? user.profile.firstName + user.profile.lastName : '');\r\nconst getAddress = (user: User, year: number) => user?.profile?.address?.latitude || Number.MIN_VALUE;\r\nconst getSeniority = (user: User, year: number) => user.bereavedProfile?.slains?.[0]?.deathDate || Number.MAX_VALUE;\r\nconst getGuidance = (user: User, year: number) => user.bereavedParticipation?.[year]?.guidance?.general || '';\r\nconst getStatus = (user: User, year: number) => user.bereavedParticipation?.[year]?.status || '';\r\nconst getMeetings = (user: User, year: number) => user.bereavedParticipation?.[year]?.meetings?.length || 0;\r\n\r\nconst valueGetter = {\r\n  name: getFullName,\r\n  address: getAddress,\r\n  seniority: getSeniority,\r\n  guidance: getGuidance,\r\n  status: getStatus,\r\n  meetings: getMeetings\r\n};\r\nconst getValue = (user: User, year: number, column) =>\r\n  column in valueGetter ? valueGetter[column](user, year) : user[column] || '';\r\n\r\n@Pipe({\r\n  name: 'sortBereaveds'\r\n})\r\nexport class SortBereavedsPipe implements PipeTransform {\r\n  transform(bereaveds: User[], { column, direction }: SortedColumn, year: number): User[] {\r\n    if (!column) {\r\n      return bereaveds;\r\n    }\r\n    return bereaveds.slice().sort((a, b) => {\r\n      let aValue = getValue(a, year, column);\r\n      let bValue = getValue(b, year, column);\r\n\r\n      if (direction === 'desc') {\r\n        [aValue, bValue] = [bValue, aValue];\r\n      }\r\n\r\n      if (typeof aValue === 'number' && typeof bValue === 'number') {\r\n        return aValue - bValue;\r\n      }\r\n\r\n      return aValue.toString().localeCompare(bValue);\r\n    });\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  HostListener,\r\n  ElementRef,\r\n  ChangeDetectionStrategy\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-editable-text',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './editable-text.component.html',\r\n  styleUrls: ['./editable-text.component.scss']\r\n})\r\nexport class EditableTextComponent {\r\n  _value: string;\r\n  @Input()\r\n  set value(value: string) {\r\n    this._value = value;\r\n    this.newValue = this.value;\r\n  }\r\n\r\n  get value(): string {\r\n    return this._value;\r\n  }\r\n\r\n  @Input() type: 'text' | 'textarea' | 'date' | 'cities';\r\n\r\n  @Output() valueChange = new EventEmitter<any>();\r\n\r\n  editable = false;\r\n\r\n  newValue: string;\r\n\r\n  @HostListener('document:click', ['$event'])\r\n  clickout(event) {\r\n    if (this.elementRef.nativeElement.contains(event.target)) {\r\n      this.editable = true;\r\n    } else {\r\n      if (this.editable) {\r\n        this.editable = false;\r\n        if (!this.newValue) {\r\n          this.valueChange.emit(null);\r\n        } else {\r\n          this.valueChange.emit(this.type === 'date' ? Date.parse(this.newValue) : this.newValue);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  constructor(private elementRef: ElementRef) {}\r\n}\r\n","<div class=\"value-container\" *ngIf=\"!editable\">\r\n  <span class=\"value\">\r\n    {{ value || 'אין' }}\r\n  </span>\r\n</div>\r\n<div class=\"input-container\" *ngIf=\"editable\">\r\n  <ng-container [ngSwitch]=\"type\">\r\n    <input *ngSwitchCase=\"'text'\" type=\"text\" [value]=\"value\" (input)=\"newValue = $event.target.value\" />\r\n    <input *ngSwitchCase=\"'date'\" type=\"date\" [value]=\"value\" (input)=\"newValue = $event.target.value\" />\r\n    <textarea\r\n      *ngSwitchCase=\"'textarea'\"\r\n      class=\"form-field\"\r\n      [value]=\"value\"\r\n      (input)=\"newValue = $event.target.value\"\r\n    ></textarea>\r\n    <app-places-select\r\n      *ngSwitchCase=\"'cities'\"\r\n      [types]=\"['(cities)']\"\r\n      [formattedAddress]=\"value\"\r\n      [placeholder]=\"'מקום מגורים'\"\r\n      (change)=\"newValue = $event\"\r\n    ></app-places-select>\r\n  </ng-container>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PlacesSelectModule } from '../places-select/places-select.module';\r\nimport { EditableTextComponent } from './editable-text.component';\r\n\r\n@NgModule({\r\n  declarations: [EditableTextComponent],\r\n  imports: [CommonModule, PlacesSelectModule],\r\n  exports: [EditableTextComponent]\r\n})\r\nexport class EditableTextModule {}\r\n"]}