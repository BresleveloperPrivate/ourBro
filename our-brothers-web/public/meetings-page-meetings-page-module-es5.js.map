{"version":3,"sources":["webpack:///src/app/meetings/details-page/meeting-details-page.component.ts","webpack:///src/app/meetings/details-page/meeting-details-page.component.html","webpack:///src/app/meetings/host-meeting-input-text/host-meeting-input-text.component.ts","webpack:///src/app/meetings/host-meeting-input-text/host-meeting-input-text.component.html","webpack:///src/app/meetings/meeting-participates-list/meeting-participates-list.component.ts","webpack:///src/app/meetings/meeting-participates-list/meeting-participates-list.component.html","webpack:///src/app/meetings/meetings.module.ts","webpack:///src/app/meetings/page/meetings-page.component.ts","webpack:///src/app/meetings/page/meetings-page.component.html","webpack:///src/app/meetings/page/meetings-page.module.ts","webpack:///src/app/shared/pipes/phone.pipe.ts","webpack:///src/app/shared/pipes/pipes.module.ts","webpack:///src/app/shared/pipes/safe.pipe.ts","webpack:///src/app/shared/pipes/seniority.pipe.ts"],"names":["MeetingDetailsPageComponent","router","activatedRoute","toastr","authService","dataService","utilsService","participationsService","loadingMeeting","loadingMeetingParticipates","extraData","user","subscribe","isAdmin","params","hostId","meetingId","memorialYear","year","getMeeting$","unsubscribe","getMeeting","meeting","isHostParticipatingMeeting","isBereavedParticipatingMeeting","getMeetingParticipates$","getMeetingParticipates","meetingParticipates","window","confirm","deleteMeeting","id","success","navigate","error","bereavedLeaveMeeting","participateLeaveMeeting","bereavedJoinMeeting","participateJoinMeeting","getAccompanies","accompaniesAnswer","prompt","number","Number","parseInt","isNaN","user$","selector","templateUrl","styleUrls","HostMeetingInputTextComponent","MeetingParticipatesListComponent","changeDetection","OnPush","api","MeetingsModule","declarations","imports","exports","oneWeek","MeetingsPageComponent","loadingUser","mapShowGuide","meetingMapGuideLastVisit","Date","now","getMeetings","meetings","updateUserMapGuideLastVisit","role","routes","path","component","MeetingsPageModule","forChild","PhonePipe","phoneNumber","length","local","toLocalPhoneNumber","substring","name","pipes","PipesModule","SafePipe","sanitizer","url","bypassSecurityTrustResourceUrl","SeniorityPipe","date","diff","years","Math","abs","getUTCFullYear","getMonth","toFixed","toString"],"mappings":"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","file":"meetings-page-meetings-page-module-es5.js","sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Meeting, MeetingParticipate, User, UserRole } from 'models';\r\nimport { DataService } from '../../shared/services/data.service';\r\nimport { UtilsService } from '../../shared/services/utils.service';\r\nimport { AuthService } from '../../shared/services/auth.service';\r\nimport { ParticipationsService } from 'src/app/shared/services/participations.service';\r\n\r\n@Component({\r\n  selector: 'app-meeting-details-page',\r\n  templateUrl: './meeting-details-page.component.html',\r\n  styleUrls: ['./meeting-details-page.component.scss']\r\n})\r\nexport class MeetingDetailsPageComponent implements OnInit, OnDestroy {\r\n  public user: User;\r\n\r\n  public loadingMeeting = true;\r\n  public meeting: Meeting;\r\n  public year: number;\r\n\r\n  public loadingMeetingParticipates = true;\r\n  public meetingParticipates: MeetingParticipate[];\r\n\r\n  public extraData = false;\r\n\r\n  private user$: Subscription;\r\n  private getMeeting$: Subscription;\r\n  private getMeetingParticipates$: Subscription;\r\n\r\n  constructor(\r\n    public router: Router,\r\n    public activatedRoute: ActivatedRoute,\r\n    public toastr: ToastrService,\r\n    public authService: AuthService,\r\n    public dataService: DataService,\r\n    public utilsService: UtilsService,\r\n    public participationsService: ParticipationsService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.authService.user.subscribe(user => {\r\n      this.extraData = this.extraData || user.isAdmin;\r\n      return (this.user = user);\r\n    });\r\n\r\n    this.activatedRoute.params.subscribe(params => {\r\n      const { hostId, meetingId, memorialYear } = params;\r\n\r\n      this.year = memorialYear;\r\n\r\n      if (this.getMeeting$) {\r\n        this.getMeeting$.unsubscribe();\r\n      }\r\n\r\n      this.getMeeting$ = this.dataService.getMeeting(hostId, meetingId, this.year).subscribe(meeting => {\r\n        this.loadingMeeting = false;\r\n        this.extraData =\r\n          this.extraData ||\r\n          this.participationsService.isHostParticipatingMeeting(this.user, meeting) ||\r\n          this.participationsService.isBereavedParticipatingMeeting(this.user, meeting);\r\n        return (this.meeting = meeting);\r\n      });\r\n\r\n      if (this.getMeetingParticipates$) {\r\n        this.getMeetingParticipates$.unsubscribe();\r\n      }\r\n      this.getMeetingParticipates$ = this.dataService\r\n        .getMeetingParticipates(hostId, meetingId, this.year)\r\n        .subscribe(meetingParticipates => {\r\n          this.loadingMeetingParticipates = false;\r\n          return (this.meetingParticipates = meetingParticipates);\r\n        });\r\n    });\r\n  }\r\n\r\n  onDelete() {\r\n    if (window.confirm('האם ברצונך למחוק את המפגש?')) {\r\n      this.dataService.deleteMeeting(this.meeting.hostId, this.meeting.id, this.year).subscribe(\r\n        () => {\r\n          this.toastr.success('מפגש נמחק בהצלחה!');\r\n          this.router.navigate(['/meetings']);\r\n        },\r\n        () => {\r\n          this.toastr.error('שגיאה - לא ניתן למחוק מפגש. נא ליצור קשר.');\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  onBereavedLeaveMeeting() {\r\n    if (this.meeting && this.user) {\r\n      if (window.confirm('האם ברצונך לצאת מהמפגש?')) {\r\n        this.dataService.bereavedLeaveMeeting(this.user, this.meeting).subscribe(\r\n          () => {\r\n            this.toastr.success('הוסרת מהמפגש בהצלחה');\r\n          },\r\n          () => {\r\n            this.toastr.error('שגיאה - לא ניתן לצאת מהמפגש. נא ליצור קשר');\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  onParticipateLeaveMeeting() {\r\n    if (this.meeting && this.user) {\r\n      if (window.confirm('האם ברצונך לצאת מהמפגש?')) {\r\n        this.dataService.participateLeaveMeeting(this.user, this.meeting).subscribe(\r\n          () => {\r\n            this.toastr.success('הוסרת מהמפגש בהצלחה');\r\n          },\r\n          () => {\r\n            this.toastr.error('שגיאה - לא ניתן לצאת מהמפגש. נא ליצור קשר');\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  onBereavedJoinMeeting() {\r\n    if (this.meeting && this.user) {\r\n      if (window.confirm('האם ברצונך להשתבץ למפגש?')) {\r\n        this.dataService.bereavedJoinMeeting(this.user, this.meeting).subscribe(\r\n          () => {\r\n            this.toastr.success('שובצת בהצלחה');\r\n          },\r\n          () => {\r\n            this.toastr.error('שגיאה - לא ניתן להשתבץ למפגש. נא ליצור קשר');\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  onParticipateJoinMeeting() {\r\n    if (this.meeting && this.user) {\r\n      if (window.confirm('האם ברצונך להשתבץ למפגש?')) {\r\n        this.dataService.participateJoinMeeting(this.user, this.meeting, this.getAccompanies()).subscribe(\r\n          () => {\r\n            this.toastr.success('שובצת בהצלחה');\r\n          },\r\n          () => {\r\n            this.toastr.error('שגיאה - לא ניתן להשתבץ למפגש. נא ליצור קשר');\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  getAccompanies(): number {\r\n    let accompaniesAnswer = window.prompt('האם יגיעו איתך אנשים נוספים?', '0');\r\n\r\n    let number = Number.parseInt(accompaniesAnswer);\r\n\r\n    while (!(!Number.isNaN(number) && number >= 0 && number <= 7)) {\r\n      accompaniesAnswer = window.prompt('נא להזין מספר משתתפים בין 0 ל-7', '0');\r\n      number = Number.parseInt(accompaniesAnswer);\r\n    }\r\n\r\n    return number;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.user$) {\r\n      this.user$.unsubscribe();\r\n    }\r\n    if (this.getMeeting$) {\r\n      this.getMeeting$.unsubscribe();\r\n    }\r\n    if (this.getMeetingParticipates$) {\r\n      this.getMeetingParticipates$.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","<img class=\"image-header\" src=\"../../../assets/img/meetingsHeader.jpg\" />\r\n<div class=\"site-divider\"></div>\r\n<div class=\"medium-heading\">\r\n  <span *ngIf=\"!loadingMeeting\">\r\n    <ng-container *ngIf=\"meeting\">\r\n      <div>פרטי המפגש</div>\r\n      <div>המפגש יתקיים אצל:</div>\r\n      {{ meeting?.title }}\r\n    </ng-container>\r\n    <ng-container *ngIf=\"!meeting\">\r\n      {{ 'נמחק או לא קיים' }}\r\n    </ng-container>\r\n  </span>\r\n</div>\r\n<div *ngIf=\"loadingMeeting || meeting\" class=\"meeting-details\">\r\n  <div class=\"row\" *ngIf=\"extraData\">\r\n    <div class=\"col\">\r\n      <app-host-meeting-input-text\r\n        class=\"input\"\r\n        iconUrl=\"assets/img/host_user.svg\"\r\n        [text]=\"meeting?.contact.firstName + ' ' + meeting?.contact.lastName\"\r\n      ></app-host-meeting-input-text>\r\n    </div>\r\n    <div class=\"col\">\r\n      <app-host-meeting-input-text\r\n        class=\"input\"\r\n        iconUrl=\"assets/img/host_phone.svg\"\r\n        [text]=\"meeting?.contact?.phoneNumber | phone\"\r\n      ></app-host-meeting-input-text>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <app-host-meeting-input-text\r\n        class=\"input\"\r\n        iconUrl=\"assets/img/host_calendar.svg\"\r\n        label=\"תאריך:\"\r\n        [text]=\"meeting?.date | date: 'dd.MM.yyyy'\"\r\n      ></app-host-meeting-input-text>\r\n    </div>\r\n    <div class=\"col\">\r\n      <app-host-meeting-input-text\r\n        class=\"input\"\r\n        iconUrl=\"assets/img/host_clock.svg\"\r\n        label=\"שעה:\"\r\n        [text]=\"meeting?.date | date: 'HH:mm'\"\r\n      ></app-host-meeting-input-text>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <app-host-meeting-input-text\r\n        class=\"input\"\r\n        iconUrl=\"assets/img/host_location.svg\"\r\n        label=\"כתובת:\"\r\n        [text]=\"meeting?.address?.formattedAddress\"\r\n      ></app-host-meeting-input-text>\r\n    </div>\r\n    <div class=\"col\">\r\n      <app-host-meeting-input-text\r\n        class=\"input\"\r\n        iconUrl=\"assets/img/host_users.svg\"\r\n        label=\"מספר מוזמנים:\"\r\n        [text]=\"meeting?.capacity\"\r\n      ></app-host-meeting-input-text>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <app-host-meeting-input-text\r\n        class=\"input\"\r\n        iconUrl=\"assets/img/host_users.svg\"\r\n        [text]=\"meeting?.invited ? 'סגור למוזמנים בלבד' : 'פתוח לקהל הרחב'\"\r\n      ></app-host-meeting-input-text>\r\n    </div>\r\n\r\n    <div class=\"col\">\r\n      <app-host-meeting-input-text\r\n        class=\"input\"\r\n        iconUrl=\"assets/img/host_accessibility.svg\"\r\n        label=\" נגישות:\"\r\n        [text]=\"meeting?.invited ? 'לא קיים  ' : 'קיים'\"\r\n      >\r\n      </app-host-meeting-input-text>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <app-host-meeting-input-text\r\n        class=\"input\"\r\n        iconUrl=\"assets/img/host_tv.svg\"\r\n        [text]=\"meeting?.invited ? 'לא קיים  ' : 'קיים'\"\r\n      ></app-host-meeting-input-text>\r\n    </div>\r\n    <div class=\"col\">\r\n      <app-host-meeting-input-text\r\n        class=\"input\"\r\n        iconUrl=\"assets/img/host_camera.svg\"\r\n        [text]=\"meeting?.invited ? 'לא מסכים' : ' מסכים'\"\r\n      ></app-host-meeting-input-text>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <app-host-meeting-input-text\r\n        class=\"input\"\r\n        iconUrl=\"assets/img/host_users.svg\"\r\n        label=\"קהל יעד:\"\r\n        [text]=\"meeting ? utilsService.meetingAudienceLabels[meeting.audience] : ''\"\r\n      ></app-host-meeting-input-text>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- *ngIf=\"user?.isAdmin && meeting\" -->\r\n  <!-- להוסיף בתנאי או מנהל או שזה המפגש שלו ז\"\"א יוזר נטכחי\"  -->\r\n\r\n  <div class=\"row\" *ngIf=\"user?.isAdmin && meeting\">\r\n    <div class=\"col\">\r\n      <div class=\"buttons\">\r\n        <a\r\n          class=\"site-button invert edit-button\"\r\n          [routerLink]=\"'/host/' + year + '/' + meeting.hostId + '/' + meeting.id\"\r\n        >\r\n          <i class=\"fas fa-pencil-alt\"></i>\r\n          עריכת פרטים\r\n        </a>\r\n        <button class=\"site-button danger invert delete-button\" (click)=\"onDelete()\">\r\n          <i class=\"far fa-trash-alt\"></i>\r\n          מחק מפגש\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- <div class=\"col\">\r\n    <div class=\"share-container\">\r\n      <div class=\"share-text\">\r\n        שיתוף באמצעות :\r\n      </div>\r\n      <div class=\"facebook-icon\"></div>\r\n      <div class=\"whatsapp-icon\"></div>\r\n    </div>\r\n  </div> -->\r\n  <ng-container *ngIf=\"meeting?.bereaved || participationsService.isBereavedCanParticipatingMeeting(user, meeting)\">\r\n    <div class=\"medium-heading\">\r\n      אח/ות שכול/ה\r\n    </div>\r\n    <ng-container *ngIf=\"meeting?.bereaved\">\r\n      <div class=\"row\">\r\n        <div class=\"col\">\r\n          <app-host-meeting-input-text\r\n            class=\"input\"\r\n            iconUrl=\"assets/img/host_user.svg\"\r\n            [text]=\"meeting?.bereaved ? meeting.bereaved.firstName + ' ' + meeting.bereaved.lastName : ''\"\r\n          >\r\n          </app-host-meeting-input-text>\r\n        </div>\r\n        <div class=\"col\" *ngIf=\"meeting?.bereaved?.slains?.length < 2\">\r\n          <app-host-meeting-input-text\r\n            class=\"input\"\r\n            iconUrl=\"assets/img/host_user.svg\"\r\n            [text]=\"meeting.bereaved.slains[0].firstName + ' ' + meeting.bereaved.slains[0].lastName + ' ז&quot;ל'\"\r\n          >\r\n          </app-host-meeting-input-text>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\" *ngIf=\"meeting?.bereaved?.slains?.length > 1\">\r\n        <div class=\"col\" *ngFor=\"let slain of meeting.bereaved.slains\">\r\n          <app-host-meeting-input-text\r\n            class=\"input\"\r\n            iconUrl=\"assets/img/host_user.svg\"\r\n            [text]=\"slain.firstName + ' ' + slain.lastName + ' ז&quot;ל'\"\r\n          ></app-host-meeting-input-text>\r\n        </div>\r\n      </div>\r\n      <!-- <div class=\"row\" *ngIf=\"meeting?.bereaved && extraData\">\r\n        <div class=\"col\">\r\n          <app-host-meeting-input-text class=\"input\" iconUrl=\"assets/img/host_phone.svg\"\r\n            [text]=\"meeting?.bereaved?.phoneNumber | phone\"></app-host-meeting-input-text>\r\n        </div>\r\n        <div class=\"col\">\r\n          <app-host-meeting-input-text class=\"input\" iconUrl=\"assets/img/host_email.svg\"\r\n            [text]=\"meeting?.bereaved?.email\"></app-host-meeting-input-text>\r\n        </div>\r\n      </div> -->\r\n    </ng-container>\r\n    <div\r\n      class=\"row\"\r\n      *ngIf=\"\r\n        participationsService.isBereavedParticipatingMeeting(user, meeting) ||\r\n        participationsService.isBereavedCanParticipatingMeeting(user, meeting)\r\n      \"\r\n    >\r\n      <div class=\"col\">\r\n        <div class=\"buttons\">\r\n          <app-remove-button\r\n            class=\"button\"\r\n            *ngIf=\"participationsService.isBereavedParticipatingMeeting(user, meeting)\"\r\n            (remove)=\"onBereavedLeaveMeeting()\"\r\n          >\r\n          </app-remove-button>\r\n          <app-meeting-join-button\r\n            class=\"button\"\r\n            *ngIf=\"participationsService.isBereavedCanParticipatingMeeting(user, meeting)\"\r\n            [user]=\"user\"\r\n            [meeting]=\"meeting\"\r\n            (join)=\"onBereavedJoinMeeting()\"\r\n          ></app-meeting-join-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n  <ng-container *ngIf=\"user && !meeting?.invited && meetingParticipates?.length\">\r\n    <div class=\"medium-heading\">רשימת המשתתפים בארוע ({{ (meeting.count || 0) + '/' + meeting.capacity }})</div>\r\n    <app-meeting-participates-list [user]=\"user\" [meeting]=\"meeting\" [meetingParticipates]=\"meetingParticipates\">\r\n    </app-meeting-participates-list>\r\n    <div\r\n      class=\"row\"\r\n      *ngIf=\"\r\n        participationsService.isParticipateParticipatingMeeting(user, meeting) ||\r\n        participationsService.isParticipateCanParticipatingMeeting(user, meeting)\r\n      \"\r\n    >\r\n      <div class=\"col\">\r\n        <div class=\"buttons\">\r\n          <app-remove-button\r\n            class=\"button\"\r\n            *ngIf=\"participationsService.isParticipateParticipatingMeeting(user, meeting)\"\r\n            (remove)=\"onParticipateLeaveMeeting()\"\r\n          >\r\n          </app-remove-button>\r\n          <app-meeting-join-button\r\n            class=\"button\"\r\n            *ngIf=\"participationsService.isParticipateCanParticipatingMeeting(user, meeting)\"\r\n            [user]=\"user\"\r\n            [meeting]=\"meeting\"\r\n            (join)=\"onParticipateJoinMeeting()\"\r\n          ></app-meeting-join-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n</div>\r\n","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-host-meeting-input-text',\r\n  templateUrl: './host-meeting-input-text.component.html',\r\n  styleUrls: ['./host-meeting-input-text.component.scss']\r\n})\r\nexport class HostMeetingInputTextComponent {\r\n  @Input() iconUrl: string;\r\n  @Input() label: string;\r\n  @Input() text: string;\r\n  @Input() info: string;\r\n}\r\n","<div class=\"input-container\">\r\n  <div *ngIf=\"iconUrl\" class=\"input-icon\" [style.background-image]=\"'url(' + iconUrl + ')'\"></div>\r\n  <div *ngIf=\"label\" class=\"input-label\">{{ label }}</div>\r\n  <div class=\"input-text\">{{ text }}</div>\r\n  <div *ngIf=\"info\" class=\"input-info\">({{ info }})</div>\r\n</div>\r\n","import { Component, Input, ChangeDetectionStrategy } from '@angular/core';\r\nimport { MeetingParticipate, User, Meeting } from 'models';\r\n\r\n@Component({\r\n  selector: 'app-meeting-participates-list',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './meeting-participates-list.component.html',\r\n  styleUrls: ['./meeting-participates-list.component.scss']\r\n})\r\nexport class MeetingParticipatesListComponent {\r\n  @Input() user: User;\r\n  @Input() meeting: Meeting;\r\n  @Input() meetingParticipates: MeetingParticipate[];\r\n}\r\n","<div class=\"list-container\" [class.extended]=\"user.id === meeting.hostId || user.isAdmin\">\r\n  <div class=\"header\">\r\n    <div class=\"col col-name\">\r\n      שם מלא\r\n    </div>\r\n    <div class=\"col col-capacity\">\r\n      מספר משתתפים\r\n    </div>\r\n    <ng-container *ngIf=\"user.id === meeting.hostId || user.isAdmin\">\r\n      <div class=\"col col-phone\">\r\n        טלפון\r\n      </div>\r\n      <div class=\"col col-email\">\r\n        מייל\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n  <div class=\"body\">\r\n    <div class=\"row\" *ngFor=\"let participate of meetingParticipates\">\r\n      <div class=\"col col-name\">\r\n        <span class=\"mobile-label\">שם מלא</span>\r\n        <span class=\"name\">\r\n          {{ participate.firstName + ' ' + participate.lastName }}\r\n        </span>\r\n      </div>\r\n      <div class=\"col col-capacity\">\r\n        <span class=\"mobile-label\">מספר משתתפים</span>\r\n        {{ participate.accompanies + 1 }}\r\n      </div>\r\n      <ng-container *ngIf=\"user.id === meeting.hostId || user.isAdmin\">\r\n        <div class=\"col col-phone\">\r\n          <span class=\"mobile-label\">טלפון נייד</span>\r\n          {{ participate.phoneNumber | phone }}\r\n        </div>\r\n        <div class=\"col col-email\">\r\n          <span class=\"mobile-label\">מייל</span>\r\n          {{ participate.email }}\r\n        </div>\r\n      </ng-container>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { HostMeetingInputTextComponent } from './host-meeting-input-text/host-meeting-input-text.component';\r\nimport { MeetingParticipatesListComponent } from './meeting-participates-list/meeting-participates-list.component';\r\nimport { PipesModule } from '../shared/pipes/pipes.module';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nconst api = [\r\n  HostMeetingInputTextComponent,\r\n  MeetingParticipatesListComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: api,\r\n  imports: [PipesModule, CommonModule],\r\n  exports: api\r\n})\r\nexport class MeetingsModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\nimport { Meeting, User } from 'models';\r\nimport { MEMORIAL_YEAR } from '../../shared/constants';\r\nimport { DataService } from '../../shared/services/data.service';\r\nimport { AuthService } from '../../shared/services/auth.service';\r\n\r\nconst oneWeek = 1000 * 60 * 60 * 24 * 7;\r\n\r\n@Component({\r\n  selector: 'app-meetings-page',\r\n  templateUrl: './meetings-page.component.html',\r\n  styleUrls: ['./meetings-page.component.scss']\r\n})\r\nexport class MeetingsPageComponent implements OnInit {\r\n  user: User;\r\n  loadingUser = true;\r\n  meetings: Meeting[];\r\n  mapShowGuide = false;\r\n  year = MEMORIAL_YEAR;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private dataService: DataService,\r\n    private toastr: ToastrService,\r\n    private authService: AuthService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.authService.user.subscribe(user => {\r\n      this.user = user;\r\n      this.loadingUser = false;\r\n\r\n      if (\r\n        !this.mapShowGuide &&\r\n        !(user && user.meetingMapGuideLastVisit && Date.now() - user.meetingMapGuideLastVisit < oneWeek)\r\n      ) {\r\n        this.mapShowGuide = true;\r\n      }\r\n    });\r\n\r\n    this.dataService.getMeetings().subscribe(meetings => {\r\n      this.meetings = meetings;\r\n    });\r\n  }\r\n\r\n  onMapGuideCompleted() {\r\n    this.mapShowGuide = true;\r\n    if (this.user && this.user.id) {\r\n      this.dataService.updateUserMapGuideLastVisit(this.user.id);\r\n    }\r\n  }\r\n\r\n  onJoinMeeting(meeting: Meeting) {\r\n    if (meeting && this.user) {\r\n      if (window.confirm('האם ברצונך להשתבץ למפגש?')) {\r\n        (this.user.role === 'bereaved'\r\n          ? this.dataService.bereavedJoinMeeting(this.user, meeting)\r\n          : this.dataService.participateJoinMeeting(this.user, meeting, this.getAccompanies())\r\n        ).subscribe(\r\n          () => {\r\n            this.toastr.success('שובצת בהצלחה');\r\n            this.router.navigate([`meetings/${this.year}/${meeting.hostId}/${meeting.id}`]);\r\n          },\r\n          () => {\r\n            this.toastr.error('שגיאה - לא ניתן להשתבץ למפגש. נא ליצור קשר');\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  getAccompanies(): number {\r\n    let accompaniesAnswer = window.prompt('האם יגיעו איתך אנשים נוספים?', '0');\r\n\r\n    let number = Number.parseInt(accompaniesAnswer);\r\n\r\n    while (!(!Number.isNaN(number) && number >= 0 && number <= 7)) {\r\n      accompaniesAnswer = window.prompt('נא להזין מספר משתתפים בין 0 ל-7', '0');\r\n      number = Number.parseInt(accompaniesAnswer);\r\n    }\r\n\r\n    return number;\r\n  }\r\n}\r\n","<img class=\"image-header\" src=\"../../../assets/img/meetingsHeader.jpg\" alt=\"Meetings Page Header Image\" />\r\n<div class=\"site-divider\"></div>\r\n<h1 class=\"small-heading\">האחים שלנו !</h1>\r\n<h2 class=\"medium-heading\">איך נראים המפגשים שלנו?</h2>\r\n<section class=\"site-text\">\r\n  <p>\r\n    לפניך רשימת המקומות בהם יתקיימו מפגשי \"האחים שלנו\". ניתן ללחוץ על האייקון ולעבור למצב מפה או למצה רשימה. רוב המפגשים\r\n    יתקיימו ביום ראשון ה-26.4 בשעה 20:00.\r\n  </p>\r\n  <p>\r\n    אנחנו מזמינים אתכם למצוא את המפגש הקרוב ביותר לביתכם וללחוץ על כפתור \"שיבוץ\". ניתן להשתבץ למעלה ממפגש אחד.\r\n  </p>\r\n</section>\r\n<section class=\"participations-buttons\">\r\n  <app-participations-buttons [user]=\"user\" [loading]=\"loadingUser\"></app-participations-buttons>\r\n</section>\r\n\r\n<!-- <section class=\"container meetings-container\">\r\n  <app-meetings [user]=\"user\" [meetings]=\"meetings\" [mapShowGuide]=\"mapShowGuide\" (joinMeeting)=\"onJoinMeeting($event)\"\r\n    (guideCompleted)=\"onMapGuideCompleted()\">\r\n  </app-meetings>\r\n</section> -->","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MeetingsPageComponent } from './meetings-page.component';\r\nimport { ParticipationsButtonsModule } from '../../shared/components/participations-buttons/participations-buttons.module';\r\nimport { MeetingsComponentsModule } from '../../shared/components/meetings/meetings-components.module';\r\nimport { MeetingDetailsPageComponent } from '../details-page/meeting-details-page.component';\r\nimport { PipesModule } from '../../shared/pipes/pipes.module';\r\nimport { MeetingsModule } from '../meetings.module';\r\nimport { RemoveButtonModule } from '../../shared/components/remove-button/remove-button.module';\r\nimport { MeetingJoinButtonModule } from '../../shared/components/meeting-join-button/meeting-join-button.module';\r\n\r\nconst routes = [\r\n  {\r\n    path: '',\r\n    component: MeetingsPageComponent\r\n  },\r\n  {\r\n    path: ':memorialYear/:hostId/:meetingId',\r\n    component: MeetingDetailsPageComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    MeetingsModule,\r\n    ParticipationsButtonsModule,\r\n    MeetingsComponentsModule,\r\n    RemoveButtonModule,\r\n    MeetingJoinButtonModule,\r\n    RouterModule.forChild(routes),\r\n    CommonModule,\r\n    PipesModule\r\n  ],\r\n  declarations: [MeetingsPageComponent,\r\n    MeetingDetailsPageComponent\r\n  ]\r\n})\r\nexport class MeetingsPageModule { }\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { UtilsService } from '../services/utils.service';\r\n\r\n@Pipe({\r\n  name: 'phone'\r\n})\r\nexport class PhonePipe implements PipeTransform {\r\n  constructor(private utilsService: UtilsService) {}\r\n\r\n  public transform(phoneNumber: string): string {\r\n    if (!phoneNumber || phoneNumber.length < 9) {\r\n      return phoneNumber;\r\n    } else {\r\n      const local = this.utilsService.toLocalPhoneNumber(phoneNumber);\r\n      return `${local.substring(0, 3)}-${local.substring(3, 6)}-${local.substring(6)}`;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { PhonePipe } from './phone.pipe';\r\nimport { SeniorityPipe } from './seniority.pipe';\r\nimport { SafePipe } from './safe.pipe';\r\n\r\nconst pipes = [PhonePipe, SeniorityPipe, SafePipe];\r\n\r\n@NgModule({\r\n  declarations: pipes,\r\n  exports: pipes\r\n})\r\nexport class PipesModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({ name: 'safe' })\r\nexport class SafePipe implements PipeTransform {\r\n  constructor(private sanitizer: DomSanitizer) {}\r\n  transform(url) {\r\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'seniority'\r\n})\r\nexport class SeniorityPipe implements PipeTransform {\r\n  transform(date: number): string {\r\n    if (!date) {\r\n      return '';\r\n    }\r\n\r\n    const diff = new Date(Date.now() - date);\r\n\r\n    const years = Math.abs(diff.getUTCFullYear() - 1970);\r\n\r\n    if (!years) {\r\n      return '' + (!diff.getMonth() ? 0.1 : (diff.getMonth() / 12).toFixed(1));\r\n    } else {\r\n      return years.toString();\r\n    }\r\n  }\r\n}\r\n"]}