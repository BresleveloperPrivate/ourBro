{"version":3,"sources":["./src/app/shared/components/select/select.component.ts","./src/app/shared/components/select/select.component.html","./src/app/shared/components/select/select.module.ts","./src/app/shared/pipes/phone.pipe.ts","./src/app/shared/pipes/pipes.module.ts","./src/app/shared/pipes/safe.pipe.ts","./src/app/shared/pipes/seniority.pipe.ts"],"names":[],"mappings":"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","file":"default~admin-bereaveds-page-admin-bereaveds-page-module~admin-users-page-admin-users-page-module-es2015.js","sourcesContent":["import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  HostListener,\r\n  ElementRef,\r\n  ChangeDetectionStrategy,\r\n  OnInit\r\n} from '@angular/core';\r\n\r\nexport interface SelectOption {\r\n  value: string;\r\n  label: string;\r\n  details?: string;\r\n}\r\n\r\ntype OptionsMap = { [value: string]: SelectOption };\r\n\r\ntype SelectedMap = { [value: string]: boolean };\r\n\r\n@Component({\r\n  selector: 'app-select',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './select.component.html',\r\n  styleUrls: ['./select.component.scss']\r\n})\r\nexport class SelectComponent {\r\n  values: string[];\r\n\r\n  @Input()\r\n  set value(value: string | string[]) {\r\n    if (Array.isArray(value)) {\r\n      this.values = value;\r\n    } else {\r\n      this.values = value ? [value] : [];\r\n    }\r\n\r\n    this.selectedMap = this.values.reduce(\r\n      (acc, curr) => ({\r\n        ...acc,\r\n        [curr]: true\r\n      }),\r\n      {} as SelectedMap\r\n    );\r\n  }\r\n\r\n  _options: SelectOption[];\r\n\r\n  @Input()\r\n  set options(options: SelectOption[]) {\r\n    this._options = options;\r\n\r\n    this.optionsMap = this.options.reduce(\r\n      (acc, curr) => ({\r\n        ...acc,\r\n        [curr.value]: curr\r\n      }),\r\n      {} as OptionsMap\r\n    );\r\n  }\r\n\r\n  get options() {\r\n    return this._options;\r\n  }\r\n\r\n  @Input() placeholder: string = 'לא נבחר';\r\n  @Input() multiple: boolean = false;\r\n  @Input() readonly: boolean = false;\r\n\r\n  @Output() valueChange = new EventEmitter<string | string[]>();\r\n\r\n  optionsMap: OptionsMap;\r\n  selectedMap: SelectedMap;\r\n  dirty: boolean = false;\r\n\r\n  @HostListener('document:click', ['$event'])\r\n  clickout(event) {\r\n    if (!this.elementRef.nativeElement.contains(event.target)) {\r\n      if (this.multiple && this.open && this.dirty) {\r\n        this.valueChange.emit(this.values);\r\n      }\r\n\r\n      this.open = false;\r\n      this.editable = false;\r\n    }\r\n  }\r\n\r\n  editable: boolean = false;\r\n  open: boolean = false;\r\n\r\n  constructor(private elementRef: ElementRef) {}\r\n\r\n  onSelectOption(value: string) {\r\n    if (!this.multiple) {\r\n      this.valueChange.emit(value);\r\n      this.open = false;\r\n    } else {\r\n      this.dirty = true;\r\n\r\n      if (this.selectedMap[value]) {\r\n        this.value = this.values.filter(v => v !== value);\r\n      } else {\r\n        this.value = [...this.values, value];\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div class=\"select-container\" [ngClass]=\"{ readonly: readonly, editable: editable }\">\r\n  <div class=\"value-container\" (click)=\"open = !readonly && editable; editable = !readonly\">\r\n    <div class=\"values\">\r\n      <ng-template [ngIf]=\"values.length\" [ngIfElse]=\"empty\">\r\n        <div class=\"value\" *ngFor=\"let v of values\" [title]=\"optionsMap[v].details || ''\">\r\n          {{ optionsMap[v].label }}\r\n        </div>\r\n      </ng-template>\r\n      <ng-template #empty>\r\n        <div class=\"value\">{{ placeholder }}</div>\r\n      </ng-template>\r\n    </div>\r\n    <div *ngIf=\"editable\" class=\"controls\">\r\n      <span class=\"remove-icon\" (click)=\"valueChange.emit(null)\">x</span>\r\n      <span class=\"triangle-icon\"></span>\r\n    </div>\r\n  </div>\r\n  <div class=\"options\" *ngIf=\"open\">\r\n    <div\r\n      *ngFor=\"let option of options\"\r\n      class=\"option\"\r\n      [class.active]=\"selectedMap[option.value]\"\r\n      (click)=\"onSelectOption(option.value)\"\r\n      [title]=\"option.details || ''\"\r\n    >\r\n      {{ option.label }}\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { SelectComponent } from './select.component';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n  declarations: [SelectComponent],\r\n  imports: [CommonModule],\r\n  exports: [SelectComponent]\r\n})\r\nexport class SelectModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { UtilsService } from '../services/utils.service';\r\n\r\n@Pipe({\r\n  name: 'phone'\r\n})\r\nexport class PhonePipe implements PipeTransform {\r\n  constructor(private utilsService: UtilsService) {}\r\n\r\n  public transform(phoneNumber: string): string {\r\n    if (!phoneNumber || phoneNumber.length < 9) {\r\n      return phoneNumber;\r\n    } else {\r\n      const local = this.utilsService.toLocalPhoneNumber(phoneNumber);\r\n      return `${local.substring(0, 3)}-${local.substring(3, 6)}-${local.substring(6)}`;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { PhonePipe } from './phone.pipe';\r\nimport { SeniorityPipe } from './seniority.pipe';\r\nimport { SafePipe } from './safe.pipe';\r\n\r\nconst pipes = [PhonePipe, SeniorityPipe, SafePipe];\r\n\r\n@NgModule({\r\n  declarations: pipes,\r\n  exports: pipes\r\n})\r\nexport class PipesModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({ name: 'safe' })\r\nexport class SafePipe implements PipeTransform {\r\n  constructor(private sanitizer: DomSanitizer) {}\r\n  transform(url) {\r\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'seniority'\r\n})\r\nexport class SeniorityPipe implements PipeTransform {\r\n  transform(date: number): string {\r\n    if (!date) {\r\n      return '';\r\n    }\r\n\r\n    const diff = new Date(Date.now() - date);\r\n\r\n    const years = Math.abs(diff.getUTCFullYear() - 1970);\r\n\r\n    if (!years) {\r\n      return '' + (!diff.getMonth() ? 0.1 : (diff.getMonth() / 12).toFixed(1));\r\n    } else {\r\n      return years.toString();\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}