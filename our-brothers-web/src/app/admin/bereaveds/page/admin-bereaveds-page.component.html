<app-modal-select-meeting
  *ngIf="!!selectingBereaved"
  [meetings]="noBerevedMeetings"
  [bereaved]="selectingBereaved"
  (selectMeeting)="selectedMeeting$.next($event)"
>
</app-modal-select-meeting>
<div class="medium-heading">
  ניהול אחים
  <a id="excel" href="#" (click)="usersToExcel()">הורד אקסל</a>
</div>

<div class="container-fluid bereaveds-container">
  <app-free-text-filter class="free-text-filter" [(filter)]="filter" (filterChange)="filterBereaveds()">
  </app-free-text-filter>
  <div class="list-icon">
    <img class="size-icon" src=" ../../../../../../assets/img/trash.svg" />
    <img class="size-icon-email" src="../../../../assets/img/mail.png" />
    <img class="size-icon" src="../../../../assets/img/whatsapp.svg" />
    <img src="https://img.icons8.com/metro/26/000000/save.png" />
    <svg
      xmlns="http://www.w3.org/2000/svg"
      x="0px"
      y="0px"
      width="100"
      height="100"
      viewBox="0 0 172 172"
      style=" fill:#000000;"
    >
      <g
        fill="none"
        fill-rule="nonzero"
        stroke="none"
        stroke-width="1"
        stroke-linecap="butt"
        stroke-linejoin="miter"
        stroke-miterlimit="10"
        stroke-dasharray=""
        stroke-dashoffset="0"
        font-family="none"
        font-weight="none"
        font-size="none"
        text-anchor="none"
        style="mix-blend-mode: normal"
      >
        <path d="M0,172v-172h172v172z" fill="none"></path>
        <g fill="#16b3ab">
          <path
            d="M122.54328,29.2568c-0.8933,-0.04122 -1.76924,0.01238 -2.60688,0.16797c-1.67527,0.31118 -3.20053,1.03373 -4.41422,2.24742l-72.01828,72.03172c-0.16434,0.16493 -0.29348,0.3615 -0.37961,0.57781l-13.76,34.4c-0.25549,0.63844 -0.10621,1.36769 0.37961,1.85438l1.72,1.72c0.48668,0.48582 1.21594,0.6351 1.85438,0.37961l34.4,-13.76c0.21631,-0.08613 0.41288,-0.21527 0.57781,-0.37961l72.03172,-72.02164c2.42729,-2.42729 2.89554,-6.09414 2.01898,-9.73547c-0.87656,-3.64133 -3.06991,-7.4371 -6.3593,-10.72648c-3.28944,-3.28944 -7.08812,-5.48276 -10.72984,-6.3593c-0.91043,-0.21913 -1.82108,-0.35518 -2.71438,-0.3964zM121.48844,32.68672c0.89116,-0.04826 1.88468,0.05207 2.96633,0.31242c2.88439,0.69425 6.21347,2.55847 9.10055,5.44555c2.88714,2.88714 4.75131,6.21663 5.44555,9.10055c0.69423,2.88392 0.24468,5.14376 -1.10859,6.49703l-4.33695,4.33695l-1.36727,-1.36727c-0.16204,-0.16747 -0.38509,-0.26203 -0.61812,-0.26203c-0.3504,0.00007 -0.66573,0.21271 -0.79714,0.53754c-0.13141,0.32483 -0.05262,0.6969 0.19917,0.94059l1.36727,1.36727l-3.1914,3.1914l-19.93453,-19.93453l3.0839,-3.0839l15.12727,15.12727c0.21571,0.22464 0.536,0.31512 0.83737,0.23655c0.30136,-0.07857 0.53671,-0.31392 0.61528,-0.61528c0.07857,-0.30136 -0.01191,-0.62166 -0.23655,-0.83737l-15.12727,-15.12727l4.44445,-4.44445c0.67659,-0.67659 1.57921,-1.12893 2.67406,-1.32359c0.27371,-0.04867 0.55959,-0.08133 0.85664,-0.09742zM107.99719,44.06828l19.93453,19.93453l-3.22836,3.22836l-19.93453,-19.93453zM102.33664,49.72883l2.44562,2.44562l-55.18781,55.18781l-2.44227,-2.44227zM105.99836,53.39055l3.16117,3.16117l-55.18445,55.19117l-3.16453,-3.16453zM110.37563,57.76781l3.90023,3.90023l-3.94391,3.9439c-0.22464,0.21571 -0.31512,0.536 -0.23655,0.83737c0.07857,0.30136 0.31392,0.53671 0.61528,0.61528c0.30136,0.07857 0.62166,-0.01191 0.83737,-0.23655l3.9439,-3.94391l3.08391,3.08391l-46.08391,46.0839c-0.22464,0.21571 -0.31512,0.536 -0.23655,0.83737c0.07857,0.30136 0.31392,0.53671 0.61528,0.61528c0.30136,0.07857 0.62166,-0.01191 0.83737,-0.23655l46.0839,-46.08391l2.47922,2.47922l-55.19117,55.18445l-6.77586,-6.77586l47.80391,-47.8039c0.25309,-0.24743 0.32875,-0.62464 0.19067,-0.95054c-0.13808,-0.3259 -0.46171,-0.53393 -0.81552,-0.52423c-0.22319,0.00621 -0.43521,0.09897 -0.59125,0.25867l-47.8039,47.80391l-3.89688,-3.89687zM45.3482,107.98039l18.67141,18.67141l-19.50789,7.80383l-6.96734,-6.96734zM69.6432,115.23328c-0.22319,0.00621 -0.43521,0.09897 -0.59125,0.25867l-1.72,1.72c-0.22464,0.21571 -0.31512,0.536 -0.23655,0.83737c0.07857,0.30136 0.31392,0.53671 0.61528,0.61528c0.30136,0.07857 0.62166,-0.01191 0.83737,-0.23655l1.72,-1.72c0.25309,-0.24743 0.32875,-0.62464 0.19067,-0.95054c-0.13808,-0.3259 -0.46171,-0.53393 -0.81552,-0.52423zM36.84898,129.22508l5.92594,5.92594l-9.68172,3.87l-0.11422,-0.11422z"
          ></path>
        </g>
      </g>
    </svg>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      x="0px"
      y="0px"
      width="24"
      height="24"
      viewBox="0 0 172 172"
      style=" fill:#000000;"
    >
      <g
        fill="none"
        fill-rule="nonzero"
        stroke="none"
        stroke-width="1"
        stroke-linecap="butt"
        stroke-linejoin="miter"
        stroke-miterlimit="10"
        stroke-dasharray=""
        stroke-dashoffset="0"
        font-family="none"
        font-weight="none"
        font-size="none"
        text-anchor="none"
        style="mix-blend-mode: normal"
      >
        <path d="M0,172v-172h172v172z" fill="none"></path>
        <g fill="#16b3ab">
          <path
            d="M44.79167,14.33333c-8.84188,0 -16.125,7.28312 -16.125,16.125v111.08333c0,8.84188 7.28312,16.125 16.125,16.125h82.41667c8.84188,0 16.125,-7.28312 16.125,-16.125v-75.25c-0.00027,-1.42544 -0.5667,-2.79242 -1.57471,-3.80029l-0.05599,-0.05599l-46.52734,-46.52734c-1.00788,-1.00801 -2.37485,-1.57443 -3.80029,-1.57471zM44.79167,25.08333h41.20833v30.45833c0,8.84188 7.28312,16.125 16.125,16.125h30.45833v69.875c0,3.03329 -2.34171,5.375 -5.375,5.375h-82.41667c-3.03329,0 -5.375,-2.34171 -5.375,-5.375v-111.08333c0,-3.03329 2.34171,-5.375 5.375,-5.375zM96.75,32.68392l28.23275,28.23275h-22.85775c-3.03329,0 -5.375,-2.34171 -5.375,-5.375zM68.93018,85.95801c-1.82314,0.00046 -3.46414,1.10578 -4.14971,2.79511c-0.68557,1.68933 -0.27894,3.62563 1.02829,4.89646l13.85043,13.85042l-13.85043,13.85042c-1.13304,1.13261 -1.57568,2.7837 -1.16114,4.3312c0.41454,1.54749 1.62327,2.75622 3.17076,3.17076c1.54749,0.41454 3.19859,-0.02809 4.3312,-1.16114l13.85042,-13.85043l13.85042,13.85043c1.13261,1.13304 2.7837,1.57568 4.3312,1.16114c1.54749,-0.41454 2.75622,-1.62327 3.17076,-3.17076c0.41454,-1.54749 -0.02809,-3.19859 -1.16114,-4.3312l-13.85043,-13.85042l13.85043,-13.85042c1.13304,-1.13261 1.57568,-2.7837 1.16114,-4.3312c-0.41454,-1.54749 -1.62327,-2.75622 -3.17076,-3.17076c-1.54749,-0.41454 -3.19859,0.02809 -4.3312,1.16114l-13.85042,13.85043l-13.85042,-13.85043c-0.8463,-0.86712 -2.00775,-1.35442 -3.2194,-1.35075z"
          ></path>
        </g>
      </g>
    </svg>
  </div>
  <div class="bereaveds-list-container">
    <div *ngIf="loading" class="loading">
      טוען..
    </div>

    <div *ngIf="!loading">
      <div class="error-message" *ngIf="error; else bereavedList">
        {{ error }}
      </div>

      <ng-template #bereavedList>
        <app-bereaveds-list
          [filteredBereaveds]="filteredBereavedsIds"
          [bereaveds]="bereaveds"
          [currentUser]="currentUser"
          (joinBereved)="joinBereved($event)"
          (leaveBereaved)="leaveBereaved($event)"
          (volunteering)="volunteering($event)"
          (deleting)="deleting($event)"
          (bereavedStatus)="bereavedStatus($event)"
          (bereavedGuidance)="bereavedGuidance($event)"
          (bereavedBirthDate)="bereavedBirthDate($event)"
          (bereavedNotes)="bereavedNotes($event)"
          (bereavedAddress)="bereavedAddress($event)"
          (bereavedVolunteer)="bereavedVolunteer($event)"
          (removeVolunteer)="removeVolunteer($event)"
        >
        </app-bereaveds-list>
      </ng-template>
    </div>
  </div>
</div>
